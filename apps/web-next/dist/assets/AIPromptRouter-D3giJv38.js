import{r as u,j as e,c as l}from"./index-C59JeFug.js";const d=[{id:"claude-opus-4",name:"Claude Opus 4",provider:"Anthropic",contextWindow:2e5,inputCostPer1k:15,outputCostPer1k:75,avgLatencyMs:2800,status:"healthy",p99LatencyMs:8200,errorRate:.2,successRate:99.8},{id:"claude-sonnet-4",name:"Claude Sonnet 4",provider:"Anthropic",contextWindow:2e5,inputCostPer1k:3,outputCostPer1k:15,avgLatencyMs:1400,status:"healthy",p99LatencyMs:4100,errorRate:.3,successRate:99.7},{id:"gpt-4o",name:"GPT-4o",provider:"OpenAI",contextWindow:128e3,inputCostPer1k:2.5,outputCostPer1k:10,avgLatencyMs:1600,status:"healthy",p99LatencyMs:4800,errorRate:.8,successRate:99.2},{id:"gpt-4o-mini",name:"GPT-4o Mini",provider:"OpenAI",contextWindow:128e3,inputCostPer1k:.15,outputCostPer1k:.6,avgLatencyMs:420,status:"healthy",p99LatencyMs:1200,errorRate:.5,successRate:99.5},{id:"gemini-2-flash",name:"Gemini 2.0 Flash",provider:"Google",contextWindow:1048576,inputCostPer1k:.1,outputCostPer1k:.4,avgLatencyMs:380,status:"healthy",p99LatencyMs:980,errorRate:1.2,successRate:98.8},{id:"gemini-2-pro",name:"Gemini 2.0 Pro",provider:"Google",contextWindow:1048576,inputCostPer1k:1.25,outputCostPer1k:5,avgLatencyMs:2100,status:"degraded",p99LatencyMs:9800,errorRate:3.4,successRate:96.6},{id:"llama-3-70b",name:"Llama 3.3 70B",provider:"Groq",contextWindow:128e3,inputCostPer1k:.59,outputCostPer1k:.79,avgLatencyMs:240,status:"healthy",p99LatencyMs:680,errorRate:.4,successRate:99.6},{id:"mistral-large",name:"Mistral Large 2",provider:"Mistral",contextWindow:128e3,inputCostPer1k:2,outputCostPer1k:6,avgLatencyMs:1800,status:"down",p99LatencyMs:0,errorRate:100,successRate:0}],x=[{id:"r1",name:"Production Chat",description:"Main chat interface — optimize for quality and reliability",enabled:!0,action:"fallback",priority:"quality",modelIds:["claude-sonnet-4","gpt-4o","gpt-4o-mini"],conditions:["context <= 100k tokens","not code-heavy"],requestCount24h:124820,avgCostPer1k:3,avgLatencyMs:1420,errorRate:.3},{id:"r2",name:"Cost-Optimized Tasks",description:"Background/batch tasks — minimize cost",enabled:!0,action:"direct",priority:"cost",modelIds:["gpt-4o-mini"],conditions:["task_type = background","latency_tolerance = high"],requestCount24h:84200,avgCostPer1k:.15,avgLatencyMs:440,errorRate:.5},{id:"r3",name:"Fast API Tier",description:"High-frequency, low-latency API responses",enabled:!0,action:"load-balance",priority:"latency",modelIds:["gemini-2-flash","llama-3-70b","gpt-4o-mini"],conditions:["latency_sla < 500ms"],requestCount24h:312e3,avgCostPer1k:.25,avgLatencyMs:350,errorRate:.9},{id:"r4",name:"Deep Reasoning",description:"Complex analysis, long-context reasoning",enabled:!0,action:"fallback",priority:"quality",modelIds:["claude-opus-4","claude-sonnet-4"],conditions:["task_complexity = high","context > 50k tokens"],requestCount24h:8400,avgCostPer1k:15,avgLatencyMs:2820,errorRate:.2},{id:"r5",name:"Experimental A/B",description:"Testing new models against production baseline",enabled:!0,action:"ab-test",priority:"balanced",modelIds:["claude-sonnet-4","gemini-2-pro"],conditions:["user_segment = beta"],requestCount24h:4200,avgCostPer1k:2.1,avgLatencyMs:1680,errorRate:1.8},{id:"r6",name:"Code Generation",description:"Dedicated route for coding tasks",enabled:!1,action:"direct",priority:"quality",modelIds:["claude-sonnet-4"],conditions:["task_type = code"],requestCount24h:0,avgCostPer1k:3,avgLatencyMs:0,errorRate:0}],b=[{id:"e1",timestamp:"06:14:22",routeName:"Fast API Tier",selectedModel:"gemini-2-flash",reason:"lowest latency in pool",inputTokens:120,outputTokens:84,latencyMs:312,cost:5e-5,status:"success"},{id:"e2",timestamp:"06:14:21",routeName:"Production Chat",selectedModel:"claude-sonnet-4",reason:"primary model",inputTokens:2840,outputTokens:1200,latencyMs:1820,cost:.0265,status:"success"},{id:"e3",timestamp:"06:14:19",routeName:"Deep Reasoning",selectedModel:"claude-opus-4",reason:"long context required",inputTokens:42e3,outputTokens:8400,latencyMs:6200,cost:1.26,status:"success"},{id:"e4",timestamp:"06:14:18",routeName:"Cost-Optimized Tasks",selectedModel:"gpt-4o-mini",reason:"batch task",inputTokens:800,outputTokens:400,latencyMs:480,cost:36e-5,status:"success"},{id:"e5",timestamp:"06:14:17",routeName:"Fast API Tier",selectedModel:"llama-3-70b",reason:"load balance rotation",inputTokens:200,outputTokens:150,latencyMs:280,cost:237e-6,status:"success"},{id:"e6",timestamp:"06:14:15",routeName:"Production Chat",selectedModel:"gpt-4o",reason:"fallback from claude-sonnet-4 (timeout)",inputTokens:1200,outputTokens:600,latencyMs:2100,cost:.009,status:"fallback"},{id:"e7",timestamp:"06:14:10",routeName:"Experimental A/B",selectedModel:"gemini-2-pro",reason:"A/B test allocation",inputTokens:3e3,outputTokens:1800,latencyMs:4200,cost:.01275,status:"success"},{id:"e8",timestamp:"06:14:08",routeName:"Fast API Tier",selectedModel:"gpt-4o-mini",reason:"load balance rotation",inputTokens:90,outputTokens:60,latencyMs:390,cost:495e-7,status:"success"},{id:"e9",timestamp:"06:14:06",routeName:"Production Chat",selectedModel:"claude-sonnet-4",reason:"primary model",inputTokens:5200,outputTokens:2100,latencyMs:2400,cost:.0471,status:"success"},{id:"e10",timestamp:"06:14:04",routeName:"Deep Reasoning",selectedModel:"claude-sonnet-4",reason:"fallback from opus (rate limit)",inputTokens:8400,outputTokens:3200,latencyMs:3100,cost:.073,status:"fallback"}];function h(s){return{healthy:"bg-emerald-400",degraded:"bg-amber-400",down:"bg-rose-400"}[s]}function j(s){return{healthy:"text-emerald-400",degraded:"text-amber-400",down:"text-rose-400"}[s]}function v(s){return{direct:"bg-indigo-500/20 text-indigo-400 border-indigo-500/30","load-balance":"bg-emerald-500/20 text-emerald-400 border-emerald-500/30",fallback:"bg-amber-500/20 text-amber-400 border-amber-500/30","ab-test":"bg-blue-500/20 text-blue-400 border-blue-500/30"}[s]}function y(s){return{success:"text-emerald-400",fallback:"text-amber-400",error:"text-rose-400"}[s]}function p(s){return s>=1e6?(s/1e6).toFixed(0)+"M":(s/1e3).toFixed(0)+"K"}function N(){const[s,r]=u.useState(null);return e.jsx("div",{className:"space-y-3",children:x.map(n=>e.jsxs("div",{className:l("rounded-xl border p-4 cursor-pointer transition-all",!n.enabled&&"opacity-50",(s==null?void 0:s.id)===n.id?"border-indigo-500 bg-indigo-500/5":"border-zinc-800 bg-zinc-900 hover:border-zinc-600"),onClick:()=>r((s==null?void 0:s.id)===n.id?null:n),children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:l("w-2 h-2 rounded-full shrink-0",n.enabled?"bg-emerald-400":"bg-zinc-600")}),e.jsx("span",{className:"font-medium text-white",children:n.name}),e.jsx("span",{className:l("text-xs px-1.5 py-0.5 rounded border capitalize",v(n.action)),children:n.action}),e.jsxs("span",{className:"text-xs text-zinc-500 ml-auto",children:[(n.requestCount24h/1e3).toFixed(0),"K req/24h"]}),e.jsxs("span",{className:"text-xs text-emerald-400",children:["$",n.avgCostPer1k.toFixed(2),"/1K"]}),e.jsxs("span",{className:"text-xs text-indigo-400",children:[n.avgLatencyMs,"ms avg"]})]}),e.jsx("p",{className:"text-xs text-zinc-500 mt-1 ml-5",children:n.description}),(s==null?void 0:s.id)===n.id&&e.jsxs("div",{className:"mt-4 ml-5 border-t border-zinc-800 pt-4 space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-zinc-500 mb-1",children:"Models in pool"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:n.modelIds.map(t=>{const o=d.find(i=>i.id===t);return e.jsx("span",{className:"bg-zinc-800 text-zinc-300 px-2 py-0.5 rounded text-xs",children:(o==null?void 0:o.name)??t},t)})})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-zinc-500 mb-1",children:"Conditions"}),e.jsx("div",{className:"space-y-0.5",children:n.conditions.map((t,o)=>e.jsx("div",{className:"text-zinc-400 font-mono",children:t},o))})]})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-3 text-xs",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-zinc-500",children:"Priority"}),e.jsx("div",{className:"text-indigo-400",children:n.priority})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-zinc-500",children:"Requests (24h)"}),e.jsx("div",{className:"text-white",children:n.requestCount24h.toLocaleString()})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-zinc-500",children:"Error rate"}),e.jsxs("div",{className:n.errorRate>2?"text-rose-400":"text-emerald-400",children:[n.errorRate,"%"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-zinc-500",children:"Avg latency"}),e.jsxs("div",{className:"text-zinc-300",children:[n.avgLatencyMs,"ms"]})]})]})]})]},n.id))})}function f(){const[s,r]=u.useState(null),n=Math.max(...d.filter(t=>t.status!=="down").map(t=>t.avgLatencyMs));return e.jsx("div",{className:"space-y-3",children:d.map(t=>e.jsxs("div",{className:l("rounded-xl border p-4 cursor-pointer transition-all",(s==null?void 0:s.id)===t.id?"border-indigo-500 bg-indigo-500/5":"border-zinc-800 bg-zinc-900 hover:border-zinc-600"),onClick:()=>r((s==null?void 0:s.id)===t.id?null:t),children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:l("w-2 h-2 rounded-full shrink-0",h(t.status))}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium text-white",children:t.name}),e.jsx("span",{className:"text-xs text-zinc-500",children:t.provider})]}),e.jsxs("div",{className:"text-xs text-zinc-500 mt-0.5",children:["ctx ",p(t.contextWindow)]})]}),e.jsxs("div",{className:"text-right text-xs",children:[e.jsxs("div",{className:"text-zinc-300",children:["in $",t.inputCostPer1k,"/1K · out $",t.outputCostPer1k,"/1K"]}),e.jsxs("div",{className:"text-zinc-500 mt-0.5",children:[t.avgLatencyMs,"ms avg"]})]}),e.jsx("div",{className:l("text-xs font-semibold capitalize",j(t.status)),children:t.status})]}),t.status!=="down"&&e.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[e.jsx("span",{className:"text-xs text-zinc-500 w-14",children:"Latency"}),e.jsx("div",{className:"flex-1 bg-zinc-800 rounded-full h-1.5",children:e.jsx("div",{className:l("h-1.5 rounded-full",t.status==="degraded"?"bg-amber-500":"bg-emerald-500"),style:{width:t.avgLatencyMs/n*100+"%"}})}),e.jsxs("span",{className:"text-xs text-zinc-400 w-16 text-right",children:[t.avgLatencyMs,"ms"]})]}),(s==null?void 0:s.id)===t.id&&e.jsxs("div",{className:"mt-4 border-t border-zinc-800 pt-4 grid grid-cols-4 gap-4 text-xs",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-zinc-500",children:"p99 Latency"}),e.jsx("div",{className:"text-zinc-300",children:t.status==="down"?"—":t.p99LatencyMs+"ms"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-zinc-500",children:"Error Rate"}),e.jsxs("div",{className:t.errorRate>2?"text-rose-400":"text-emerald-400",children:[t.errorRate,"%"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-zinc-500",children:"Success Rate"}),e.jsxs("div",{className:t.successRate>99?"text-emerald-400":"text-amber-400",children:[t.successRate,"%"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-zinc-500",children:"Context Window"}),e.jsxs("div",{className:"text-zinc-300",children:[p(t.contextWindow)," tokens"]})]})]})]},t.id))})}function z(){const[s,r]=u.useState("all"),n=b.filter(t=>s==="all"||t.status===s);return e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"flex gap-2 mb-4",children:["all","fallback","error"].map(t=>e.jsx("button",{onClick:()=>r(t),className:l("px-3 py-1 rounded-full text-xs font-medium capitalize transition-colors",s===t?"bg-indigo-600 text-white":"bg-zinc-800 text-zinc-400 hover:text-white"),children:t},t))}),e.jsx("div",{className:"rounded-xl border border-zinc-800 overflow-hidden",children:e.jsxs("table",{className:"w-full text-xs",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-zinc-800 bg-zinc-900",children:[e.jsx("th",{className:"text-left px-3 py-2 text-zinc-400",children:"Time"}),e.jsx("th",{className:"text-left px-3 py-2 text-zinc-400",children:"Route"}),e.jsx("th",{className:"text-left px-3 py-2 text-zinc-400",children:"Model"}),e.jsx("th",{className:"text-left px-3 py-2 text-zinc-400",children:"Reason"}),e.jsx("th",{className:"text-left px-3 py-2 text-zinc-400",children:"Tokens"}),e.jsx("th",{className:"text-left px-3 py-2 text-zinc-400",children:"Latency"}),e.jsx("th",{className:"text-left px-3 py-2 text-zinc-400",children:"Cost"}),e.jsx("th",{className:"text-left px-3 py-2 text-zinc-400",children:"Status"})]})}),e.jsx("tbody",{className:"divide-y divide-zinc-800",children:n.map(t=>e.jsxs("tr",{className:"bg-zinc-950 hover:bg-zinc-900 transition-colors",children:[e.jsx("td",{className:"px-3 py-2 font-mono text-zinc-500",children:t.timestamp}),e.jsx("td",{className:"px-3 py-2 text-zinc-300",children:t.routeName}),e.jsx("td",{className:"px-3 py-2 text-indigo-400",children:t.selectedModel}),e.jsx("td",{className:"px-3 py-2 text-zinc-500 max-w-xs truncate",children:t.reason}),e.jsxs("td",{className:"px-3 py-2 text-zinc-400",children:[t.inputTokens,"/",t.outputTokens]}),e.jsxs("td",{className:"px-3 py-2 text-zinc-300",children:[t.latencyMs,"ms"]}),e.jsxs("td",{className:"px-3 py-2 text-emerald-400",children:["$",t.cost.toFixed(5)]}),e.jsx("td",{className:l("px-3 py-2 capitalize font-medium",y(t.status)),children:t.status})]},t.id))})]})})]})}function k(){var i;const s=x.filter(a=>a.enabled&&a.requestCount24h>0),r=s.reduce((a,c)=>a+c.requestCount24h,0),n={};x.filter(a=>a.enabled).forEach(a=>{a.modelIds.forEach(c=>{n[c]=(n[c]??0)+Math.round(a.requestCount24h/a.modelIds.length)})});const t=Object.entries(n).sort((a,c)=>c[1]-a[1]),o=((i=t[0])==null?void 0:i[1])??1;return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"grid grid-cols-4 gap-4",children:[{label:"Total Requests (24h)",value:(r/1e3).toFixed(0)+"K"},{label:"Active Routes",value:x.filter(a=>a.enabled).length.toString()},{label:"Models Available",value:d.filter(a=>a.status==="healthy").length.toString()},{label:"Avg Error Rate",value:(s.reduce((a,c)=>a+c.errorRate,0)/s.length).toFixed(1)+"%"}].map(a=>e.jsxs("div",{className:"rounded-xl border border-zinc-800 bg-zinc-900 p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:a.value}),e.jsx("div",{className:"text-sm text-zinc-400 mt-1",children:a.label})]},a.label))}),e.jsxs("div",{className:"rounded-xl border border-zinc-800 bg-zinc-900 p-5",children:[e.jsx("h3",{className:"text-sm font-semibold text-white mb-4",children:"Requests by Route (24h)"}),e.jsx("div",{className:"space-y-3",children:s.sort((a,c)=>c.requestCount24h-a.requestCount24h).map(a=>{var c;return e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-xs text-zinc-300 w-40 truncate",children:a.name}),e.jsx("div",{className:"flex-1 bg-zinc-800 rounded-full h-2",children:e.jsx("div",{className:"h-2 rounded-full bg-indigo-500",style:{width:a.requestCount24h/(((c=s[0])==null?void 0:c.requestCount24h)??1)*100+"%"}})}),e.jsxs("span",{className:"text-xs text-zinc-300 w-16 text-right",children:[(a.requestCount24h/1e3).toFixed(0),"K"]}),e.jsxs("span",{className:"text-xs text-zinc-500 w-10 text-right",children:[(a.requestCount24h/r*100).toFixed(0),"%"]})]},a.id)})})]}),e.jsxs("div",{className:"rounded-xl border border-zinc-800 bg-zinc-900 p-5",children:[e.jsx("h3",{className:"text-sm font-semibold text-white mb-4",children:"Model Utilization"}),e.jsx("div",{className:"space-y-3",children:t.map(([a,c])=>{const m=d.find(g=>g.id===a);return e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2 w-40",children:[e.jsx("span",{className:l("w-1.5 h-1.5 rounded-full shrink-0",m?h(m.status):"bg-zinc-500")}),e.jsx("span",{className:"text-xs text-zinc-300 truncate",children:(m==null?void 0:m.name)??a})]}),e.jsx("div",{className:"flex-1 bg-zinc-800 rounded-full h-2",children:e.jsx("div",{className:"h-2 rounded-full bg-emerald-500",style:{width:c/o*100+"%"}})}),e.jsxs("span",{className:"text-xs text-zinc-300 w-16 text-right",children:[(c/1e3).toFixed(0),"K"]})]},a)})})]})]})}const M=["Routes","Models","Events","Analytics"];function R(){const[s,r]=u.useState("Routes"),n=d.filter(i=>i.status==="healthy").length,t=d.filter(i=>i.status==="down").length,o=x.filter(i=>i.enabled).reduce((i,a)=>i+a.requestCount24h,0);return e.jsxs("div",{className:"min-h-screen bg-zinc-950 text-white p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"AI Prompt Router"}),t>0&&e.jsxs("span",{className:"text-xs bg-rose-500/20 text-rose-400 border border-rose-500/30 rounded-full px-3 py-1",children:[t," model",t>1?"s":""," down"]})]}),e.jsxs("p",{className:"text-zinc-400 text-sm",children:["Intelligent routing across ",d.length," models · ",x.filter(i=>i.enabled).length," active routes · ",(o/1e3).toFixed(0),"K requests today · ",n,"/",d.length," healthy"]})]}),e.jsx("div",{className:"flex gap-1 mb-6 border-b border-zinc-800",children:M.map(i=>e.jsx("button",{onClick:()=>r(i),className:l("px-4 py-2 text-sm font-medium border-b-2 transition-colors -mb-px",s===i?"border-indigo-500 text-indigo-400":"border-transparent text-zinc-400 hover:text-white"),children:i},i))}),s==="Routes"&&e.jsx(N,{}),s==="Models"&&e.jsx(f,{}),s==="Events"&&e.jsx(z,{}),s==="Analytics"&&e.jsx(k,{})]})}export{R as default};
