import{r as d,j as e,c as i}from"./index-DpHBJgBc.js";const f=[{id:"v1",version:"v3",releaseDate:"Jan 15, 2026",status:"current",changeCount:47,breakingCount:0,sunsetDate:null},{id:"v2",version:"v2",releaseDate:"Jun 1, 2025",status:"supported",changeCount:134,breakingCount:3,sunsetDate:"Dec 31, 2026"},{id:"v3",version:"v1",releaseDate:"Mar 1, 2024",status:"deprecated",changeCount:289,breakingCount:12,sunsetDate:"Mar 31, 2026"}],N=[{id:"c1",version:"v3",type:"feature",status:"published",endpoint:"/v3/agents/{id}/invoke",method:"POST",title:"Added streaming response support",description:"Agent invocations now support Server-Sent Events (SSE) for streaming responses. Set Accept: text/event-stream to opt in.",migration:null,publishedAt:"2h ago",affectedClients:0},{id:"c2",version:"v3",type:"fix",status:"published",endpoint:"/v3/sessions",method:"GET",title:"Fixed pagination cursor encoding",description:"Cursor values containing special characters were not properly URL-encoded, causing 400 errors on paginated requests.",migration:null,publishedAt:"1d ago",affectedClients:234},{id:"c3",version:"v3",type:"feature",status:"published",endpoint:"/v3/models",method:"GET",title:"Added model capability filtering",description:"New query parameters: supports_vision, supports_tools, min_context_length to filter available models.",migration:null,publishedAt:"3d ago",affectedClients:0},{id:"c4",version:"v3",type:"security",status:"published",endpoint:"/v3/auth/token",method:"POST",title:"Rate limiting now applies per IP",description:"Token refresh endpoints now enforce IP-based rate limiting in addition to token-based limits. Limit: 10 req/min per IP.",migration:null,publishedAt:"5d ago",affectedClients:12},{id:"c5",version:"v2",type:"breaking",status:"published",endpoint:"/v2/agents",method:"GET",title:"Renamed `status` field to `state` in response",description:"The `status` field in agent list responses has been renamed to `state`. The old field name is still returned but will be removed in v3.",migration:"Update response parsing to use `state` instead of `status`. Both fields are available during the transition period.",publishedAt:"30d ago",affectedClients:891},{id:"c6",version:"v2",type:"deprecation",status:"published",endpoint:"/v2/sessions/{id}/messages",method:"GET",title:"Deprecated in favor of /v3/sessions/{id}/history",description:"The v2 messages endpoint will be removed on sunset. The v3 endpoint provides richer metadata and better pagination.",migration:"Migrate to GET /v3/sessions/{id}/history. Response structure is compatible with minor field additions.",publishedAt:"45d ago",affectedClients:1204},{id:"c7",version:"v1",type:"breaking",status:"archived",endpoint:"/v1/run",method:"POST",title:"Removed synchronous run mode",description:"The sync=true parameter is no longer supported. All runs are async. The v2 API provides equivalent functionality.",migration:"Switch to async run with polling or webhooks. See migration guide for code examples.",publishedAt:"180d ago",affectedClients:342},{id:"c8",version:"v3",type:"feature",status:"draft",endpoint:"/v3/tools",method:"POST",title:"Tool schema validation endpoint (DRAFT)",description:"New endpoint to validate tool schemas before registration, returning detailed error messages.",migration:null,publishedAt:"Not published",affectedClients:0}],r=[{id:"s1",name:"Acme Corp",email:"api-team@acme.com",plan:"Enterprise",apiVersion:"v2",lastActivity:"5m ago",breakingChangesAhead:3},{id:"s2",name:"BuildFast Inc",email:"dev@buildfast.io",plan:"Pro",apiVersion:"v3",lastActivity:"1h ago",breakingChangesAhead:0},{id:"s3",name:"DataFlow Labs",email:"eng@dataflow.io",plan:"Enterprise",apiVersion:"v2",lastActivity:"2h ago",breakingChangesAhead:3},{id:"s4",name:"NovaTech",email:"platform@novatech.dev",plan:"Pro",apiVersion:"v1",lastActivity:"1d ago",breakingChangesAhead:12},{id:"s5",name:"Startup XYZ",email:"api@startupxyz.com",plan:"Free",apiVersion:"v3",lastActivity:"3d ago",breakingChangesAhead:0},{id:"s6",name:"MegaCorp Ltd",email:"devops@megacorp.com",plan:"Enterprise",apiVersion:"v2",lastActivity:"4h ago",breakingChangesAhead:3}],x={breaking:"bg-rose-500/15 border-rose-500/40 text-rose-400",feature:"bg-indigo-500/10 border-indigo-500/30 text-indigo-400",fix:"bg-emerald-500/10 border-emerald-500/30 text-emerald-400",deprecation:"bg-amber-500/10 border-amber-500/30 text-amber-400",security:"bg-purple-500/10 border-purple-500/30 text-purple-400"},p={breaking:"üí•",feature:"‚ú®",fix:"üîß",deprecation:"‚ö†Ô∏è",security:"üîí"},y={current:"bg-emerald-500/10 border-emerald-500/30 text-emerald-400",supported:"bg-sky-500/10 border-sky-500/30 text-sky-400",deprecated:"bg-amber-500/10 border-amber-500/30 text-amber-400",sunset:"bg-zinc-700/30 border-zinc-600 text-zinc-500"},m={GET:"text-sky-400",POST:"text-emerald-400",PUT:"text-amber-400",PATCH:"text-orange-400",DELETE:"text-rose-400"};function k(){const[a,h]=d.useState("changelog"),[t,b]=d.useState(null),[l,g]=d.useState("all"),[o,u]=d.useState("all"),v=[{id:"changelog",label:"Changelog",emoji:"üìã"},{id:"versions",label:"API Versions",emoji:"üîñ"},{id:"diffs",label:"Diffs",emoji:"üîç"},{id:"subscribers",label:"Subscribers",emoji:"üë•"}],j=N.filter(s=>!(l!=="all"&&s.type!==l||o!=="all"&&s.version!==o)),c=r.filter(s=>s.breakingChangesAhead>0).length;return e.jsxs("div",{className:"flex flex-col h-full bg-zinc-950 text-white",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-zinc-800",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-semibold tracking-tight",children:"API Changelog Manager"}),e.jsx("p",{className:"text-xs text-zinc-500 mt-0.5",children:"Track API changes, versions, and subscriber impact"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[c>0&&e.jsx("div",{className:"flex items-center gap-1.5 px-2.5 py-1 rounded bg-amber-500/10 border border-amber-500/30",children:e.jsxs("span",{className:"text-xs text-amber-400 font-medium",children:["‚ö†Ô∏è ",c," clients on deprecated APIs"]})}),e.jsx("button",{className:"px-3 py-1.5 text-sm bg-indigo-600 hover:bg-indigo-500 rounded text-white transition-colors",children:"+ New Change"})]})]}),e.jsx("div",{className:"grid grid-cols-4 gap-0 border-b border-zinc-800",children:[{label:"Current Version",value:"v3",sub:"released Jan 2026"},{label:"Active Subscribers",value:String(r.length),sub:"across 3 API versions"},{label:"Breaking Changes (v3)",value:"0",sub:"since v3 launch"},{label:"At-Risk Clients",value:String(r.filter(s=>s.apiVersion==="v1").length),sub:"on deprecated v1"}].map((s,n)=>e.jsxs("div",{className:"px-6 py-3 border-r border-zinc-800 last:border-r-0",children:[e.jsx("div",{className:"text-xl font-bold text-white",children:s.value}),e.jsx("div",{className:"text-xs font-medium text-zinc-400 mt-0.5",children:s.label}),e.jsx("div",{className:"text-xs text-zinc-600 mt-0.5",children:s.sub})]},n))}),e.jsx("div",{className:"flex border-b border-zinc-800 px-6",children:v.map(s=>e.jsxs("button",{onClick:()=>h(s.id),className:i("flex items-center gap-1.5 px-4 py-3 text-sm font-medium border-b-2 transition-colors",a===s.id?"border-indigo-500 text-white":"border-transparent text-zinc-500 hover:text-zinc-300"),children:[e.jsx("span",{children:s.emoji}),s.label]},s.id))}),e.jsxs("div",{className:"flex-1 overflow-auto",children:[a==="changelog"&&e.jsxs("div",{className:"flex h-full",children:[e.jsxs("div",{className:"w-96 border-r border-zinc-800 flex flex-col",children:[e.jsx("div",{className:"p-3 space-y-2 border-b border-zinc-800",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("select",{value:l,onChange:s=>g(s.target.value),className:"flex-1 bg-zinc-900 border border-zinc-700 rounded px-2 py-1 text-xs text-zinc-300",children:[e.jsx("option",{value:"all",children:"All types"}),e.jsx("option",{value:"breaking",children:"üí• Breaking"}),e.jsx("option",{value:"feature",children:"‚ú® Feature"}),e.jsx("option",{value:"fix",children:"üîß Fix"}),e.jsx("option",{value:"deprecation",children:"‚ö†Ô∏è Deprecation"}),e.jsx("option",{value:"security",children:"üîí Security"})]}),e.jsxs("select",{value:o,onChange:s=>u(s.target.value),className:"flex-1 bg-zinc-900 border border-zinc-700 rounded px-2 py-1 text-xs text-zinc-300",children:[e.jsx("option",{value:"all",children:"All versions"}),e.jsx("option",{value:"v3",children:"v3 (current)"}),e.jsx("option",{value:"v2",children:"v2"}),e.jsx("option",{value:"v1",children:"v1"})]})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:j.map(s=>e.jsxs("button",{onClick:()=>b(s),className:i("w-full text-left px-4 py-3 border-b border-zinc-800/50 hover:bg-zinc-900 transition-colors",(t==null?void 0:t.id)===s.id&&"bg-zinc-800",s.status==="draft"&&"opacity-60"),children:[e.jsxs("div",{className:"flex items-start gap-2 mb-1",children:[e.jsxs("span",{className:i("text-xs px-1.5 py-0.5 rounded border shrink-0 mt-0.5",x[s.type]),children:[p[s.type]," ",s.type]}),s.status==="draft"&&e.jsx("span",{className:"text-xs px-1 py-0.5 bg-zinc-700/40 text-zinc-500 rounded shrink-0",children:"draft"})]}),e.jsx("div",{className:"text-sm font-medium text-zinc-200 line-clamp-1",children:s.title}),e.jsxs("div",{className:"flex items-center gap-2 mt-1 text-xs font-mono",children:[e.jsx("span",{className:i("font-medium",m[s.method]||"text-zinc-400"),children:s.method}),e.jsx("span",{className:"text-zinc-500 truncate",children:s.endpoint})]}),e.jsxs("div",{className:"flex items-center justify-between mt-1 text-xs text-zinc-600",children:[e.jsx("span",{className:"bg-zinc-800 px-1.5 rounded",children:s.version}),e.jsx("span",{children:s.publishedAt})]})]},s.id))})]}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:t?e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsxs("span",{className:i("text-xs px-2 py-0.5 rounded border",x[t.type]),children:[p[t.type]," ",t.type]}),e.jsx("span",{className:"text-xs bg-zinc-800 px-2 py-0.5 rounded text-zinc-400",children:t.version}),t.status==="draft"&&e.jsx("span",{className:"text-xs bg-amber-500/10 border border-amber-500/30 px-2 py-0.5 rounded text-amber-400",children:"DRAFT"}),e.jsx("span",{className:"ml-auto text-xs text-zinc-600",children:t.publishedAt})]}),e.jsx("h2",{className:"text-lg font-semibold text-white",children:t.title})]}),e.jsxs("div",{className:"bg-zinc-900 rounded-lg border border-zinc-800 p-4 font-mono text-sm",children:[e.jsx("span",{className:i("font-bold mr-2",m[t.method]||"text-zinc-400"),children:t.method}),e.jsx("span",{className:"text-zinc-200",children:t.endpoint})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-zinc-500 mb-2 uppercase tracking-wider",children:"Description"}),e.jsx("p",{className:"text-sm text-zinc-300 leading-relaxed",children:t.description})]}),t.migration&&e.jsxs("div",{className:i("rounded-lg border p-4",t.type==="breaking"?"bg-rose-500/5 border-rose-500/20":"bg-amber-500/5 border-amber-500/20"),children:[e.jsx("div",{className:i("text-sm font-medium mb-2",t.type==="breaking"?"text-rose-400":"text-amber-400"),children:t.type==="breaking"?"‚ö° Migration Required":"üìñ Migration Guide"}),e.jsx("p",{className:"text-xs leading-relaxed",style:{color:t.type==="breaking"?"rgb(252 165 165 / 0.8)":"rgb(253 230 138 / 0.7)"},children:t.migration})]}),t.affectedClients>0&&e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-zinc-500 mb-2 uppercase tracking-wider",children:"Impact"}),e.jsxs("div",{className:"bg-zinc-900 rounded p-3 flex items-center gap-3",children:[e.jsx("div",{className:"text-2xl font-bold text-amber-400",children:t.affectedClients}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-zinc-300",children:"API clients affected"}),e.jsx("div",{className:"text-xs text-zinc-600",children:"currently using this endpoint"})]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[t.status==="draft"&&e.jsx("button",{className:"px-3 py-1.5 text-xs bg-indigo-600 hover:bg-indigo-500 rounded text-white transition-colors",children:"Publish"}),e.jsx("button",{className:"px-3 py-1.5 text-xs bg-zinc-800 hover:bg-zinc-700 border border-zinc-700 rounded text-zinc-300 transition-colors",children:"Edit"}),t.affectedClients>0&&e.jsx("button",{className:"px-3 py-1.5 text-xs bg-zinc-800 hover:bg-zinc-700 border border-zinc-700 rounded text-zinc-300 transition-colors",children:"Notify Clients"})]})]}):e.jsx("div",{className:"flex items-center justify-center h-full text-zinc-600 text-sm",children:"Select a change to view details"})})]}),a==="versions"&&e.jsx("div",{className:"p-6 space-y-4",children:f.map(s=>e.jsxs("div",{className:i("bg-zinc-900 rounded-lg border p-5",s.status==="deprecated"?"border-amber-500/20":"border-zinc-800"),children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-2xl font-bold text-white font-mono",children:s.version}),e.jsx("span",{className:i("text-xs px-2 py-0.5 rounded border",y[s.status]),children:s.status})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-xs text-zinc-500",children:["Released ",s.releaseDate]}),s.sunsetDate&&e.jsxs("div",{className:"text-xs text-amber-400 mt-0.5",children:["Sunset: ",s.sunsetDate]})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-zinc-800/50 rounded p-3",children:[e.jsx("div",{className:"text-lg font-bold text-white",children:s.changeCount}),e.jsx("div",{className:"text-xs text-zinc-500",children:"total changes"})]}),e.jsxs("div",{className:i("rounded p-3",s.breakingCount>0?"bg-rose-500/5":"bg-zinc-800/50"),children:[e.jsx("div",{className:i("text-lg font-bold",s.breakingCount>0?"text-rose-400":"text-white"),children:s.breakingCount}),e.jsx("div",{className:"text-xs text-zinc-500",children:"breaking changes"})]}),e.jsxs("div",{className:"bg-zinc-800/50 rounded p-3",children:[e.jsx("div",{className:"text-lg font-bold text-white",children:r.filter(n=>n.apiVersion===s.version).length}),e.jsx("div",{className:"text-xs text-zinc-500",children:"active subscribers"})]})]}),s.status==="deprecated"&&e.jsxs("div",{className:"mt-3 flex items-center gap-2 text-xs text-amber-400 bg-amber-500/10 rounded p-2",children:[e.jsx("span",{children:"‚ö†Ô∏è"})," Deprecated ‚Äî clients should migrate to v3 before ",s.sunsetDate]})]},s.id))}),a==="diffs"&&e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs text-zinc-500",children:"From:"}),e.jsxs("select",{className:"bg-zinc-900 border border-zinc-700 rounded px-2 py-1 text-sm text-zinc-300",children:[e.jsx("option",{children:"v2"}),e.jsx("option",{children:"v1"})]})]}),e.jsx("span",{className:"text-zinc-600",children:"‚Üí"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs text-zinc-500",children:"To:"}),e.jsxs("select",{className:"bg-zinc-900 border border-zinc-700 rounded px-2 py-1 text-sm text-zinc-300",children:[e.jsx("option",{children:"v3"}),e.jsx("option",{children:"v2"})]})]})]}),e.jsx("div",{className:"space-y-2",children:[{type:"added",endpoint:"GET /v3/models",desc:"New endpoint for listing available models"},{type:"added",endpoint:"POST /v3/agents/{id}/invoke",desc:"Unified agent invocation with streaming support"},{type:"changed",endpoint:"GET /v3/sessions",desc:"state field renamed from status; richer pagination"},{type:"changed",endpoint:"POST /v3/auth/token",desc:"IP-based rate limiting added"},{type:"removed",endpoint:"GET /v2/sessions/{id}/messages",desc:"Replaced by /v3/sessions/{id}/history"},{type:"removed",endpoint:"POST /v2/run",desc:"Removed sync run mode; all runs async"}].map((s,n)=>e.jsxs("div",{className:i("flex items-start gap-3 px-4 py-3 rounded-lg border font-mono text-xs",s.type==="added"?"bg-emerald-500/5 border-emerald-500/20":s.type==="removed"?"bg-rose-500/5 border-rose-500/20":"bg-amber-500/5 border-amber-500/20"),children:[e.jsx("span",{className:i("font-bold shrink-0 w-6",s.type==="added"?"text-emerald-400":s.type==="removed"?"text-rose-400":"text-amber-400"),children:s.type==="added"?"+":s.type==="removed"?"-":"~"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-zinc-200",children:s.endpoint}),e.jsx("div",{className:"text-zinc-500 font-sans mt-0.5",children:s.desc})]})]},n))})]}),a==="subscribers"&&e.jsx("div",{className:"p-6 space-y-3",children:r.sort((s,n)=>n.breakingChangesAhead-s.breakingChangesAhead).map(s=>e.jsxs("div",{className:i("bg-zinc-900 rounded-lg border px-5 py-4",s.breakingChangesAhead>0?"border-amber-500/20":"border-zinc-800"),children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-sm text-zinc-200",children:s.name}),e.jsx("span",{className:"text-xs text-zinc-500 ml-2",children:s.email})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-xs text-zinc-500",children:s.lastActivity}),e.jsx("span",{className:"text-xs bg-zinc-800 px-2 py-0.5 rounded font-mono text-zinc-400",children:s.apiVersion}),e.jsx("span",{className:i("text-xs px-2 py-0.5 rounded",s.plan==="Enterprise"?"bg-indigo-500/10 text-indigo-400":s.plan==="Pro"?"bg-sky-500/10 text-sky-400":"bg-zinc-700/30 text-zinc-500"),children:s.plan})]})]}),s.breakingChangesAhead>0&&e.jsxs("div",{className:"flex items-center gap-2 text-xs bg-amber-500/10 rounded p-2 text-amber-400",children:[e.jsx("span",{children:"‚ö†Ô∏è"}),e.jsxs("span",{children:[s.breakingChangesAhead," breaking changes ahead before sunset deadline"]}),e.jsx("button",{className:"ml-auto text-amber-400 hover:text-amber-300 underline",children:"Notify"})]})]},s.id))})]})]})}export{k as default};
