import{a as S,r as u,j as e,c as o,T as w,b as D}from"./index-Cc73sqY1.js";import{A as k}from"./activity-CuvDp9zM.js";import{C as I}from"./circle-m9ccNbrH.js";import{Z as $}from"./zap-psP_wXu5.js";import{M}from"./message-square-BQj7gk21.js";import{T as U}from"./trending-up-D3eBJeJC.js";import{C as L}from"./clock-jFse6Baf.js";/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=S("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]),F=[{id:"xavier",name:"Xavier",emoji:"ðŸŽ¯",status:"active",role:"CTO",lastActivity:"2s ago",currentTask:"Reviewing architecture decisions",messagesPerMin:2.4,tokensUsed:142800,uptime:14400,errorRate:.01,heartbeats:[20,35,45,60,55,70,80,65,75,90,85,70,60,75,80,95,88,72,65,80],parent:null,children:["luis","roman","claire"],model:"claude-opus-4-6"},{id:"luis",name:"Luis",emoji:"ðŸŽ¨",status:"busy",role:"Principal UX Engineer",lastActivity:"now",currentTask:"Building AgentPulseMonitor view",messagesPerMin:5.1,tokensUsed:89200,uptime:7200,errorRate:0,heartbeats:[60,70,80,75,85,90,95,88,92,85,90,95,98,92,88,95,100,96,94,98],parent:"xavier",children:["piper","quinn","reed"],model:"claude-sonnet-4-6"},{id:"roman",name:"Roman",emoji:"âš™ï¸",status:"active",role:"Platform Core Lead",lastActivity:"18s ago",currentTask:"Optimizing Gateway RPC layer",messagesPerMin:1.8,tokensUsed:63400,uptime:10800,errorRate:.02,heartbeats:[40,50,45,60,55,65,70,60,55,70,65,72,68,75,80,70,65,78,72,68],parent:"xavier",children:["sam"],model:"claude-sonnet-4-6"},{id:"claire",name:"Claire",emoji:"ðŸ”Œ",status:"idle",role:"Feature Dev Lead",lastActivity:"4m ago",currentTask:null,messagesPerMin:.2,tokensUsed:41100,uptime:10800,errorRate:0,heartbeats:[30,20,25,15,20,10,5,8,12,8,5,10,8,5,3,8,5,3,5,2],parent:"xavier",children:[],model:"claude-sonnet-4-6"},{id:"piper",name:"Piper",emoji:"ðŸ§©",status:"sleeping",role:"Component Architecture",lastActivity:"12m ago",currentTask:null,messagesPerMin:0,tokensUsed:22800,uptime:3600,errorRate:0,heartbeats:[80,75,60,45,30,20,10,5,8,3,2,1,0,0,1,0,0,0,0,0],parent:"luis",children:[],model:"gemini-flash-3"},{id:"quinn",name:"Quinn",emoji:"ðŸŒŠ",status:"active",role:"State & Flows",lastActivity:"44s ago",currentTask:"Writing Toast component tests",messagesPerMin:1.2,tokensUsed:18900,uptime:3600,errorRate:0,heartbeats:[10,20,30,45,55,60,70,65,75,80,72,78,80,75,70,72,68,74,70,65],parent:"luis",children:[],model:"gemini-flash-3"},{id:"reed",name:"Reed",emoji:"â™¿",status:"error",role:"Accessibility",lastActivity:"2m ago",currentTask:null,messagesPerMin:0,tokensUsed:8400,uptime:1800,errorRate:.45,heartbeats:[65,70,75,80,82,78,85,30,10,0,5,0,0,5,3,0,0,0,0,0],parent:"luis",children:[],model:"gemini-flash-3"},{id:"sam",name:"Sam",emoji:"ðŸ”—",status:"active",role:"API Integration",lastActivity:"8s ago",currentTask:"Testing WebSocket reconnect logic",messagesPerMin:3.2,tokensUsed:31200,uptime:7200,errorRate:.03,heartbeats:[50,60,65,70,75,80,72,78,82,80,75,80,78,82,85,80,78,82,80,76],parent:"roman",children:[],model:"claude-haiku-4-6"}],_=[{id:"e1",agentId:"luis",agentName:"Luis",agentEmoji:"ðŸŽ¨",type:"completion",description:"Built AgentPulseMonitor view â€” 0 TS errors",timestamp:new Date(Date.now()-5e3)},{id:"e2",agentId:"quinn",agentName:"Quinn",agentEmoji:"ðŸŒŠ",type:"tool_call",description:"Running vitest on Toast.tsx",timestamp:new Date(Date.now()-48e3)},{id:"e3",agentId:"sam",agentName:"Sam",agentEmoji:"ðŸ”—",type:"message",description:"Gateway ping/pong latency: 12ms",timestamp:new Date(Date.now()-12e3)},{id:"e4",agentId:"reed",agentName:"Reed",agentEmoji:"â™¿",type:"error",description:"Model token limit exceeded â€” task aborted",timestamp:new Date(Date.now()-12e4)},{id:"e5",agentId:"roman",agentName:"Roman",agentEmoji:"âš™ï¸",type:"tool_call",description:"Profiling RPC handler latency",timestamp:new Date(Date.now()-25e3)},{id:"e6",agentId:"xavier",agentName:"Xavier",agentEmoji:"ðŸŽ¯",type:"message",description:"LGTM on PR #44 â€” tagging Tim for final review",timestamp:new Date(Date.now()-8e3)},{id:"e7",agentId:"piper",agentName:"Piper",agentEmoji:"ðŸ§©",type:"completion",description:"CommandPalette.tsx done â€” entered sleep mode",timestamp:new Date(Date.now()-78e4)},{id:"e8",agentId:"claire",agentName:"Claire",agentEmoji:"ðŸ”Œ",type:"heartbeat",description:"Heartbeat check â€” queue empty, standing by",timestamp:new Date(Date.now()-24e4)}],g={active:{label:"Active",color:"text-emerald-400",bg:"bg-emerald-500/10 border-emerald-500/30",pulse:!0,dot:"bg-emerald-400"},busy:{label:"Busy",color:"text-violet-400",bg:"bg-violet-500/10 border-violet-500/30",pulse:!0,dot:"bg-violet-400"},idle:{label:"Idle",color:"text-gray-400",bg:"bg-gray-800/50 border-gray-700/30",pulse:!1,dot:"bg-gray-500"},sleeping:{label:"Sleeping",color:"text-blue-400",bg:"bg-blue-500/10 border-blue-500/20",pulse:!1,dot:"bg-blue-400"},error:{label:"Error",color:"text-red-400",bg:"bg-red-500/10 border-red-500/30",pulse:!0,dot:"bg-red-400"}},O={message:e.jsx(M,{className:"w-3 h-3 text-blue-400","aria-hidden":"true"}),tool_call:e.jsx($,{className:"w-3 h-3 text-amber-400","aria-hidden":"true"}),completion:e.jsx(D,{className:"w-3 h-3 text-emerald-400","aria-hidden":"true"}),error:e.jsx(w,{className:"w-3 h-3 text-red-400","aria-hidden":"true"}),spawn:e.jsx(T,{className:"w-3 h-3 text-violet-400","aria-hidden":"true"}),heartbeat:e.jsx(k,{className:"w-3 h-3 text-gray-400","aria-hidden":"true"})};function A(t){const i=Math.floor(t/3600),n=Math.floor(t%3600/60);return i>0?`${i}h ${n}m`:`${n}m`}function C(t){return t>=1e6?`${(t/1e6).toFixed(1)}M`:t>=1e3?`${(t/1e3).toFixed(0)}K`:String(t)}function q(t){const i=(Date.now()-t.getTime())/1e3;return i<60?`${Math.floor(i)}s ago`:i<3600?`${Math.floor(i/60)}m ago`:`${Math.floor(i/3600)}h ago`}function G({data:t,color:i="#8b5cf6"}){const x=Math.max(...t,1),a=t.map((c,m)=>{const b=m/(t.length-1)*80,h=24-c/x*24;return`${b},${h}`}).join(" ");return e.jsx("svg",{width:80,height:24,"aria-hidden":"true",className:"flex-shrink-0",children:e.jsx("polyline",{points:a,fill:"none",stroke:i,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0.8"})})}function B({agent:t,selected:i,onClick:n}){const r=g[t.status];return e.jsxs("button",{type:"button",onClick:n,"aria-pressed":i,"aria-label":`${t.name} â€” ${r.label}${t.currentTask?`: ${t.currentTask}`:""}`,className:o("w-full text-left rounded-xl border p-4 transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-violet-500",i?"bg-violet-600/10 border-violet-500/50 shadow-lg shadow-violet-500/10":o("hover:border-gray-700",r.bg)),children:[e.jsxs("div",{className:"flex items-start justify-between gap-3 mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2.5 min-w-0",children:[e.jsxs("div",{className:"relative flex-shrink-0",children:[e.jsx("span",{className:"text-2xl",children:t.emoji}),e.jsx("span",{className:o("absolute -bottom-0.5 -right-0.5 w-2.5 h-2.5 rounded-full border border-gray-950",r.dot,r.pulse&&"animate-pulse")})]}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("div",{className:"font-semibold text-sm truncate",children:t.name}),e.jsx("div",{className:"text-[10px] text-gray-500 truncate",children:t.role})]})]}),e.jsx("span",{className:o("text-[10px] font-semibold tracking-wide uppercase px-1.5 py-0.5 rounded flex-shrink-0",r.color),children:r.label})]}),e.jsx("div",{className:"text-xs text-gray-400 truncate mb-3 min-h-[1rem]",children:t.currentTask??e.jsx("span",{className:"text-gray-600 italic",children:"No active task"})}),e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsx(G,{data:t.heartbeats,color:t.status==="error"?"#f87171":t.status==="busy"?"#a78bfa":"#34d399"}),e.jsxs("div",{className:"text-right flex-shrink-0",children:[e.jsx("div",{className:"text-xs font-mono text-gray-300",children:C(t.tokensUsed)}),e.jsxs("div",{className:"text-[10px] text-gray-600",children:[A(t.uptime)," up"]})]})]}),e.jsx("div",{className:"mt-2 text-[9px] font-mono text-gray-600 truncate",children:t.model})]})}function W({agent:t,allAgents:i}){const n=g[t.status],r=t.parent?i.find(a=>a.id===t.parent):null,x=t.children.map(a=>i.find(c=>c.id===a)).filter(Boolean);return e.jsxs("div",{className:"space-y-6","aria-label":`Details for ${t.name}`,children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-800 rounded-2xl flex items-center justify-center text-3xl",children:t.emoji}),e.jsx("span",{className:o("absolute -bottom-1 -right-1 w-4 h-4 rounded-full border-2 border-gray-950",n.dot,n.pulse&&"animate-pulse")})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold",children:t.name}),e.jsx("div",{className:"text-sm text-gray-400",children:t.role}),e.jsx("div",{className:o("text-xs font-semibold mt-1",n.color),children:n.label})]})]}),t.currentTask&&e.jsxs("div",{className:"p-3 rounded-xl bg-gray-800/50 border border-gray-700/50",children:[e.jsx("div",{className:"text-[10px] text-gray-500 uppercase tracking-widest font-bold mb-1",children:"Current Task"}),e.jsx("div",{className:"text-sm text-gray-200",children:t.currentTask})]}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:[{label:"Tokens Used",value:C(t.tokensUsed),icon:e.jsx(U,{className:"w-4 h-4 text-violet-400","aria-hidden":"true"})},{label:"Uptime",value:A(t.uptime),icon:e.jsx(L,{className:"w-4 h-4 text-emerald-400","aria-hidden":"true"})},{label:"Msg / min",value:t.messagesPerMin.toFixed(1),icon:e.jsx(M,{className:"w-4 h-4 text-blue-400","aria-hidden":"true"})},{label:"Error Rate",value:`${(t.errorRate*100).toFixed(0)}%`,icon:e.jsx(w,{className:"w-4 h-4 text-amber-400","aria-hidden":"true"})}].map(a=>e.jsxs("div",{className:"p-3 bg-gray-800/40 rounded-xl border border-gray-800",children:[e.jsxs("div",{className:"flex items-center gap-1.5 mb-1",children:[a.icon,e.jsx("div",{className:"text-[10px] text-gray-500 uppercase tracking-wider",children:a.label})]}),e.jsx("div",{className:"text-lg font-bold font-mono text-gray-100",children:a.value})]},a.label))}),e.jsxs("div",{children:[e.jsx("div",{className:"text-[10px] text-gray-500 uppercase tracking-widest font-bold mb-2",children:"Activity (last 20 ticks)"}),e.jsx("div",{className:"h-16 bg-gray-900 rounded-xl border border-gray-800 flex items-end gap-0.5 px-3 py-2 overflow-hidden",children:t.heartbeats.map((a,c)=>e.jsx("div",{className:"flex-1 rounded-sm transition-all",style:{height:`${Math.max(2,a)}%`,backgroundColor:t.status==="error"?"#f87171":t.status==="busy"?"#a78bfa":"#34d399",opacity:.4+c/t.heartbeats.length*.6}},c))})]}),(r||x.length>0)&&e.jsxs("div",{children:[e.jsx("div",{className:"text-[10px] text-gray-500 uppercase tracking-widest font-bold mb-2",children:"Relationships"}),e.jsxs("div",{className:"space-y-2",children:[r&&e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx("span",{className:"text-gray-500 text-xs",children:"Reports to"}),e.jsx("span",{className:"text-lg",children:r.emoji}),e.jsx("span",{className:"text-gray-300",children:r.name}),e.jsx("span",{className:"text-xs text-gray-600",children:r.role})]}),x.length>0&&e.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[e.jsx("span",{className:"text-gray-500 text-xs mt-0.5",children:"Manages"}),e.jsx("div",{className:"flex flex-wrap gap-1.5",children:x.map(a=>e.jsxs("span",{className:"flex items-center gap-1 px-2 py-0.5 bg-gray-800 rounded-full text-xs",children:[e.jsx("span",{children:a.emoji}),e.jsx("span",{className:"text-gray-300",children:a.name}),e.jsx("span",{className:o("w-1.5 h-1.5 rounded-full",g[a.status].dot)})]},a.id))})]})]})]}),e.jsxs("div",{className:"p-3 bg-gray-900 rounded-xl border border-gray-800",children:[e.jsx("div",{className:"text-[10px] text-gray-500 uppercase tracking-widest font-bold mb-1",children:"Model"}),e.jsx("div",{className:"font-mono text-sm text-violet-300",children:t.model})]}),e.jsxs("div",{className:"text-[10px] text-gray-600",children:["Last activity: ",t.lastActivity]})]})}function J(){const[t]=u.useState(F),[i,n]=u.useState(_),[r,x]=u.useState(t[1]??null),[a,c]=u.useState("all"),[m,b]=u.useState(!0);u.useEffect(()=>{if(!m)return;const s={luis:["Committing a11y fixes","Building new view","Spawning sub-agent","Running tsc --noEmit","Reviewing PR diff"],quinn:["Test passed","Writing snapshot test","Reviewing component API"],sam:["API handshake complete","Retry #2 succeeded","Latency: 8ms"],roman:["Profiling hot path","RPC benchmark: 420Î¼s","Cache hit ratio: 94%"],xavier:["LGTM","Routing to Tim","Architecture note added"]},l=setInterval(()=>{const d=Object.keys(s),p=d[Math.floor(Math.random()*d.length)],f=t.find(v=>v.id===p);if(!f)return;const y=s[p],P=y[Math.floor(Math.random()*y.length)],N=["message","tool_call","completion"],E=N[Math.floor(Math.random()*N.length)];n(v=>[{id:`live-${Date.now()}`,agentId:p,agentName:f.name,agentEmoji:f.emoji,type:E,description:P,timestamp:new Date},...v.slice(0,49)])},3200);return()=>clearInterval(l)},[m,t]);const h=a==="all"?t:t.filter(s=>s.status===a),R=t.reduce((s,l)=>(s[l.status]=(s[l.status]??0)+1,s),{}),j=u.useCallback(s=>{x(l=>(l==null?void 0:l.id)===s.id?null:s)},[]);return e.jsxs("div",{className:"h-full flex flex-col bg-gray-950 text-white overflow-hidden",children:[e.jsx("div",{className:"flex-shrink-0 px-6 pt-6 pb-4 border-b border-gray-800",children:e.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2.5 mb-1",children:[e.jsx(k,{className:"w-5 h-5 text-violet-400","aria-hidden":"true"}),e.jsx("h1",{className:"text-xl font-bold",children:"Agent Pulse Monitor"}),m&&e.jsxs("span",{className:"flex items-center gap-1.5 text-[10px] font-semibold text-emerald-400 bg-emerald-500/10 px-2 py-0.5 rounded-full border border-emerald-500/20",children:[e.jsx("span",{className:"w-1.5 h-1.5 bg-emerald-400 rounded-full animate-pulse"}),"LIVE"]})]}),e.jsx("p",{className:"text-sm text-gray-400",children:"Mission control â€” real-time agent activity and health"})]}),e.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[["active","busy","idle","sleeping","error"].map(s=>{const l=R[s]??0;if(l===0)return null;const d=g[s];return e.jsxs("button",{type:"button",onClick:()=>c(p=>p===s?"all":s),"aria-pressed":a===s,className:o("flex items-center gap-1.5 text-xs px-2.5 py-1 rounded-full border transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-violet-500",a===s?o("font-bold",d.color,d.bg):"text-gray-500 border-gray-800 hover:border-gray-700"),children:[e.jsx("span",{className:o("w-1.5 h-1.5 rounded-full",d.dot)}),l," ",d.label]},s)}),e.jsxs("button",{type:"button",onClick:()=>b(s=>!s),"aria-pressed":m,className:o("flex items-center gap-1.5 text-xs px-3 py-1.5 rounded-lg border transition-all font-medium focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-violet-500",m?"bg-violet-600/20 border-violet-500/40 text-violet-300 hover:bg-violet-600/30":"border-gray-700 text-gray-400 hover:border-gray-600"),children:[e.jsx(T,{className:"w-3 h-3","aria-hidden":"true"}),m?"Live":"Paused"]})]})]})}),e.jsxs("div",{className:"flex-1 min-h-0 flex overflow-hidden",children:[e.jsx("div",{className:"w-64 lg:w-72 xl:w-80 flex-shrink-0 flex flex-col border-r border-gray-800 overflow-hidden",children:e.jsxs("div",{className:"flex-1 overflow-y-auto p-3 space-y-2",role:"list","aria-label":"Agent list",children:[h.map(s=>e.jsx("div",{role:"listitem",children:e.jsx(B,{agent:s,selected:(r==null?void 0:r.id)===s.id,onClick:()=>j(s)})},s.id)),h.length===0&&e.jsxs("div",{className:"text-center py-12 text-gray-600 text-sm",children:[e.jsx(I,{className:"w-8 h-8 mx-auto mb-2 opacity-30","aria-hidden":"true"}),'No agents with status "',a,'"']})]})}),e.jsxs("div",{className:"flex-1 min-w-0 flex flex-col overflow-hidden",children:[e.jsxs("div",{className:"flex-shrink-0 px-4 py-3 border-b border-gray-800 flex items-center justify-between",children:[e.jsx("h2",{className:"text-xs font-semibold text-gray-400 uppercase tracking-widest",children:"Activity Feed"}),e.jsxs("span",{className:"text-[10px] text-gray-600",children:[i.length," events"]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-1",role:"log","aria-label":"Agent activity feed","aria-live":"polite","aria-atomic":"false",children:i.map(s=>e.jsxs("button",{type:"button",onClick:()=>{const l=t.find(d=>d.id===s.agentId);l&&j(l)},className:"w-full flex items-start gap-2.5 p-2 rounded-lg hover:bg-gray-800/50 transition-colors group text-left focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-violet-500/50","aria-label":`${s.agentName}: ${s.description}`,children:[e.jsx("span",{className:"mt-0.5 flex-shrink-0",children:O[s.type]}),e.jsx("span",{className:"text-lg flex-shrink-0 leading-none mt-0.5","aria-hidden":"true",children:s.agentEmoji}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("div",{className:"flex items-baseline gap-1.5 flex-wrap",children:[e.jsx("span",{className:"text-xs font-semibold text-gray-300 group-hover:text-white transition-colors",children:s.agentName}),e.jsx("span",{className:"text-xs text-gray-500 truncate flex-1",children:s.description})]})}),e.jsx("span",{className:"text-[10px] text-gray-600 flex-shrink-0 font-mono",children:q(s.timestamp)})]},s.id))})]}),r&&e.jsx("div",{className:"w-72 xl:w-80 flex-shrink-0 border-l border-gray-800 overflow-y-auto p-5","aria-label":`${r.name} details`,children:e.jsx(W,{agent:r,allAgents:t})})]})]})}export{J as default};
