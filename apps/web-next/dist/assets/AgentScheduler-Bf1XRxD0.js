import{r as c,j as e,c as l}from"./index-f0fvaSEK.js";const u=[{id:"sched-001",name:"Daily Usage Digest",description:"Generate and send daily token usage summary to #cb-reports",agentId:"xavier",agentName:"Xavier",agentEmoji:"üéØ",prompt:"Generate a comprehensive daily usage report covering all agents, models, and sessions. Include cost breakdown, token consumption, and top active agents. Post to #cb-reports.",repeatMode:"daily",timeOfDay:"08:00",timezone:"America/Denver",status:"active",nextRunAt:"2026-02-23T15:00:00Z",lastRunAt:"2026-02-22T15:00:00Z",lastResult:"success",runCount:47,createdAt:"2025-12-01T00:00:00Z",tags:["reporting","usage"]},{id:"sched-002",name:"Hourly Agent Heartbeat",description:"Luis performs hourly work check and self-direction cycle",agentId:"luis",agentName:"Luis",agentEmoji:"üé®",prompt:"You are Luis, Principal UX Engineer at OpenClaw. Hourly work check. Read UX_WORK_QUEUE.md, pick up next TODO, delegate if needed.",repeatMode:"cron",cronExpr:"5 * * * *",timeOfDay:"00:05",timezone:"America/Denver",status:"active",nextRunAt:"2026-02-22T08:05:00Z",lastRunAt:"2026-02-22T07:05:00Z",lastResult:"success",runCount:312,createdAt:"2025-11-01T00:00:00Z",tags:["heartbeat","self-direction"]},{id:"sched-003",name:"Weekly Brand Review",description:"Stephan reviews brand consistency across all public-facing content",agentId:"stephan",agentName:"Stephan",agentEmoji:"üì£",prompt:"Review the past week's public-facing content for brand voice consistency. Check landing pages, email templates, and Slack announcements. Report any deviations from brand guidelines.",repeatMode:"weekly",daysOfWeek:[1],timeOfDay:"09:00",timezone:"America/Denver",status:"active",nextRunAt:"2026-02-23T16:00:00Z",lastRunAt:"2026-02-16T16:00:00Z",lastResult:"success",runCount:11,createdAt:"2025-11-24T00:00:00Z",tags:["brand","weekly"]},{id:"sched-004",name:"Nightly Backup Check",description:"Verify all agent soul files and workspace data are backed up",agentId:"tim",agentName:"Tim",agentEmoji:"üèóÔ∏è",prompt:"Verify all agent soul files in the workspace are properly backed up. Check backup timestamps, confirm integrity, alert if any agent's data is missing or stale.",repeatMode:"daily",timeOfDay:"00:30",timezone:"America/Denver",status:"active",nextRunAt:"2026-02-23T07:30:00Z",lastRunAt:"2026-02-22T07:30:00Z",lastResult:"success",runCount:83,createdAt:"2025-11-15T00:00:00Z",tags:["backup","infra"]},{id:"sched-005",name:"Monthly UX Roadmap Review",description:"Luis updates UX_ROADMAP.md with next 4-6 weeks of forward view",agentId:"luis",agentName:"Luis",agentEmoji:"üé®",prompt:"Read CONTEXT.md and the current UX_ROADMAP.md. Update the roadmap with a fresh 4-6 week forward view based on current product priorities, identified UX gaps, and competitive patterns. Post summary to #cb-activity.",repeatMode:"monthly",timeOfDay:"10:00",timezone:"America/Denver",status:"active",nextRunAt:"2026-03-01T17:00:00Z",lastRunAt:"2026-02-01T17:00:00Z",lastResult:"success",runCount:3,createdAt:"2025-12-01T00:00:00Z",tags:["roadmap","ux"]},{id:"sched-006",name:"Provider Health Poll",description:"Check all AI provider APIs for latency and availability",agentId:"tim",agentName:"Tim",agentEmoji:"üèóÔ∏è",prompt:"Poll all configured AI provider APIs (Anthropic, OpenAI, Google, MiniMax) for health status. Record latency, check rate limit headroom, and alert if any provider is degraded.",repeatMode:"cron",cronExpr:"*/15 * * * *",timeOfDay:"00:00",timezone:"UTC",status:"paused",nextRunAt:"2026-02-22T08:15:00Z",lastRunAt:"2026-02-22T01:00:00Z",lastResult:"failure",runCount:1204,createdAt:"2025-09-01T00:00:00Z",tags:["health","providers"]},{id:"sched-007",name:"Sprint Retrospective",description:"Xavier facilitates weekly sprint retrospective and posts findings",agentId:"xavier",agentName:"Xavier",agentEmoji:"üéØ",prompt:"Facilitate the weekly sprint retrospective. Review what was shipped, what blocked us, what we'll do differently. Post a structured summary to #cb-activity with action items.",repeatMode:"weekly",daysOfWeek:[5],timeOfDay:"16:00",timezone:"America/Denver",status:"active",nextRunAt:"2026-02-27T23:00:00Z",lastRunAt:"2026-02-20T23:00:00Z",lastResult:"success",runCount:14,createdAt:"2025-11-01T00:00:00Z",tags:["retrospective","sprint"]}],b={active:"text-emerald-400 bg-emerald-400/10 border-emerald-400/20",paused:"text-amber-400 bg-amber-400/10 border-amber-400/20",completed:"text-zinc-400 bg-zinc-400/10 border-zinc-400/20",error:"text-rose-400 bg-rose-400/10 border-rose-400/20"},j={once:"Once",daily:"Daily",weekly:"Weekly",monthly:"Monthly",cron:"Cron"},w=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];function A(a){const o=Date.now()-new Date(a).getTime(),s=Math.floor(o/6e4);if(s<1)return"just now";if(s<60)return`${s}m ago`;const n=Math.floor(s/60);return n<24?`${n}h ${Math.floor(s%60)}m ago`:`${Math.floor(n/24)}d ago`}function v(a){const o=new Date(a).getTime()-Date.now(),s=Math.floor(o/6e4);if(s<1)return"now";if(s<60)return`in ${s}m`;const n=Math.floor(s/60);return n<24?`in ${n}h ${Math.floor(s%60)}m`:`in ${Math.floor(n/24)}d`}function R(a){return a.repeatMode==="cron"?`Cron: ${a.cronExpr}`:a.repeatMode==="weekly"&&a.daysOfWeek?`Weekly on ${a.daysOfWeek.map(o=>w[o]).join(", ")} at ${a.timeOfDay}`:`${j[a.repeatMode]} at ${a.timeOfDay}`}function z({schedules:a}){const o=c.useMemo(()=>{const s=[],n=new Date;for(let r=0;r<7;r++){const x=new Date(n);x.setDate(x.getDate()+r);const d=x.toISOString().slice(0,10),h=a.filter(p=>p.status==="active"&&p.nextRunAt.startsWith(d));s.push({date:x,dateStr:d,tasks:h})}return s},[a]);return e.jsxs("div",{className:"rounded-xl bg-zinc-900 border border-zinc-800 overflow-hidden",children:[e.jsx("div",{className:"px-4 py-3 border-b border-zinc-800",children:e.jsx("h3",{className:"text-sm font-semibold text-white",children:"Upcoming Schedule ‚Äî Next 7 Days"})}),e.jsx("div",{className:"grid grid-cols-7 divide-x divide-zinc-800",children:o.map(({date:s,tasks:n})=>e.jsxs("div",{className:"p-2 min-h-[80px]",children:[e.jsx("p",{className:"text-xs text-zinc-500 mb-1",children:w[s.getDay()]}),e.jsx("p",{className:"text-sm font-bold text-white mb-2",children:s.getDate()}),e.jsxs("div",{className:"space-y-1",children:[n.slice(0,3).map(r=>e.jsxs("div",{className:"text-[9px] bg-indigo-950/60 border border-indigo-500/20 rounded px-1 py-0.5 text-indigo-300 truncate",title:r.name,children:[r.agentEmoji," ",r.name]},r.id)),n.length>3&&e.jsxs("div",{className:"text-[9px] text-zinc-500",children:["+",n.length-3," more"]}),n.length===0&&e.jsx("div",{className:"text-[9px] text-zinc-700",children:"‚Äî"})]})]},s.toISOString()))})]})}function T(){const[a,o]=c.useState("list"),[s,n]=c.useState("all"),[r,x]=c.useState("all"),[d,h]=c.useState(u[0].id),p=c.useMemo(()=>{const t=new Set,g=[];for(const m of u)t.has(m.agentId)||(t.add(m.agentId),g.push({id:m.agentId,name:m.agentName,emoji:m.agentEmoji}));return g},[]),f=c.useMemo(()=>u.filter(t=>!(s!=="all"&&t.status!==s||r!=="all"&&t.agentId!==r)).sort((t,g)=>new Date(t.nextRunAt).getTime()-new Date(g.nextRunAt).getTime()),[s,r]),i=c.useMemo(()=>u.find(t=>t.id===d)??null,[d]),y=c.useCallback(t=>{console.log("Toggle schedule:",t)},[]),N=[{value:"all",label:"All"},{value:"active",label:"Active"},{value:"paused",label:"Paused"},{value:"error",label:"Error"}];return e.jsxs("main",{className:"flex flex-col h-full bg-zinc-950 text-white overflow-hidden",role:"main","aria-label":"Agent Scheduler",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-zinc-800 shrink-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-bold text-white",children:"Agent Scheduler"}),e.jsxs("p",{className:"text-xs text-zinc-500 mt-0.5",children:[u.filter(t=>t.status==="active").length," active schedules across"," ",new Set(u.map(t=>t.agentId)).size," agents"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex rounded-lg bg-zinc-800 p-0.5",role:"group","aria-label":"View mode",children:["list","calendar"].map(t=>e.jsxs("button",{onClick:()=>o(t),"aria-pressed":a===t,className:l("px-3 py-1 rounded text-xs capitalize transition-colors","focus-visible:ring-2 focus-visible:ring-indigo-500 focus-visible:outline-none",a===t?"bg-zinc-700 text-white":"text-zinc-400 hover:text-white"),children:[t==="list"?"üìã":"üìÖ"," ",t]},t))}),e.jsx("button",{className:l("px-3 py-1.5 rounded-lg bg-indigo-600 hover:bg-indigo-500 text-white text-xs font-medium transition-colors","focus-visible:ring-2 focus-visible:ring-indigo-400 focus-visible:outline-none"),children:"+ New Schedule"})]})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx("div",{className:"flex gap-1",role:"group","aria-label":"Filter by status",children:N.map(t=>e.jsx("button",{onClick:()=>n(t.value),"aria-pressed":s===t.value,className:l("text-xs px-2.5 py-1 rounded-lg border transition-colors","focus-visible:ring-2 focus-visible:ring-indigo-500 focus-visible:outline-none",s===t.value?"border-indigo-500 bg-indigo-950/40 text-indigo-300":"border-zinc-700 text-zinc-400 hover:text-white"),children:t.label},t.value))}),e.jsxs("select",{value:r,onChange:t=>x(t.target.value),"aria-label":"Filter by agent",className:l("bg-zinc-800 border border-zinc-700 rounded-lg px-3 py-1 text-xs text-white","focus-visible:ring-2 focus-visible:ring-indigo-500 focus-visible:outline-none"),children:[e.jsx("option",{value:"all",children:"All agents"}),p.map(t=>e.jsxs("option",{value:t.id,children:[t.emoji," ",t.name]},t.id))]}),e.jsxs("span",{className:"text-xs text-zinc-600 ml-auto",children:[f.length," schedules"]})]})]}),a==="calendar"?e.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[e.jsx(z,{schedules:u}),e.jsx("div",{className:"text-center text-sm text-zinc-500",children:"Full calendar view shows next 7 days"})]}):e.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[e.jsx("div",{className:"w-80 shrink-0 flex flex-col border-r border-zinc-800 overflow-y-auto",children:e.jsx("div",{className:"p-3 space-y-2",role:"list","aria-label":"Schedules",children:f.map(t=>e.jsx("div",{role:"listitem",children:e.jsxs("button",{onClick:()=>h(t.id),"aria-pressed":d===t.id,className:l("w-full text-left rounded-xl border p-3 transition-all","focus-visible:ring-2 focus-visible:ring-indigo-500 focus-visible:outline-none",d===t.id?"border-indigo-500 bg-indigo-950/30":"border-zinc-800 bg-zinc-900 hover:border-zinc-700"),children:[e.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1.5",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("span",{children:t.agentEmoji}),e.jsx("span",{className:"text-sm font-medium text-white truncate",children:t.name})]}),e.jsx("span",{className:l("text-[10px] px-1.5 py-0.5 rounded border shrink-0",b[t.status]),children:t.status})]}),e.jsx("p",{className:"text-xs text-zinc-500 mb-2 line-clamp-1",children:t.description}),e.jsxs("div",{className:"flex items-center justify-between text-[10px] text-zinc-600",children:[e.jsx("span",{children:j[t.repeatMode]}),e.jsx("span",{className:"text-indigo-400",children:v(t.nextRunAt)})]})]})},t.id))})}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:i?e.jsxs("div",{className:"space-y-5 max-w-xl",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"text-2xl",children:i.agentEmoji}),e.jsx("h2",{className:"text-xl font-bold text-white",children:i.name})]}),e.jsx("p",{className:"text-sm text-zinc-400",children:i.description})]}),e.jsx("button",{role:"switch","aria-checked":i.status==="active","aria-label":`${i.name} ${i.status==="active"?"active":"paused"}`,onClick:()=>y(i.id),className:l("relative inline-flex h-6 w-11 rounded-full transition-colors","focus-visible:ring-2 focus-visible:ring-indigo-500 focus-visible:outline-none",i.status==="active"?"bg-indigo-600":"bg-zinc-700"),children:e.jsx("span",{className:l("pointer-events-none inline-block h-5 w-5 rounded-full bg-white shadow transition-transform m-0.5",i.status==="active"?"translate-x-5":"translate-x-0")})})]}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:[{label:"Status",value:i.status,extra:e.jsx("span",{className:l("text-xs px-2 py-0.5 rounded border",b[i.status]),children:i.status})},{label:"Repeat",value:R(i)},{label:"Next Run",value:`${v(i.nextRunAt)} (${new Date(i.nextRunAt).toLocaleString([],{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})`},{label:"Last Run",value:i.lastRunAt?A(i.lastRunAt):"Never"},{label:"Run Count",value:String(i.runCount)},{label:"Last Result",value:i.lastResult??"‚Äî"}].map(t=>e.jsxs("div",{className:"rounded-xl bg-zinc-900 border border-zinc-800 p-3",children:[e.jsx("p",{className:"text-xs text-zinc-500 mb-1",children:t.label}),t.extra??e.jsx("p",{className:"text-sm text-white",children:t.value})]},t.label))}),e.jsxs("div",{className:"rounded-xl bg-zinc-900 border border-zinc-800 p-4",children:[e.jsx("h3",{className:"text-sm font-semibold text-white mb-2",children:"Agent Prompt"}),e.jsx("p",{className:"text-sm text-zinc-400 leading-relaxed",children:i.prompt})]}),i.tags.length>0&&e.jsx("div",{className:"flex flex-wrap gap-1.5",children:i.tags.map(t=>e.jsxs("span",{className:"text-xs px-2 py-1 rounded bg-zinc-800 text-zinc-400",children:["#",t]},t))}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:l("px-4 py-2 rounded-xl bg-indigo-600 hover:bg-indigo-500 text-white text-sm font-medium transition-colors","focus-visible:ring-2 focus-visible:ring-indigo-400 focus-visible:outline-none"),children:"Run Now"}),e.jsx("button",{className:l("px-4 py-2 rounded-xl border border-zinc-700 text-zinc-300 hover:text-white text-sm transition-colors","focus-visible:ring-2 focus-visible:ring-indigo-500 focus-visible:outline-none"),children:"Edit"}),e.jsx("button",{className:l("px-4 py-2 rounded-xl border border-zinc-700 text-rose-400 hover:text-rose-300 text-sm transition-colors ml-auto","focus-visible:ring-2 focus-visible:ring-rose-400 focus-visible:outline-none"),children:"Delete"})]})]}):e.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center",children:[e.jsx("p",{className:"text-5xl mb-4",children:"‚è∞"}),e.jsx("p",{className:"text-lg font-semibold text-white",children:"Select a schedule"}),e.jsx("p",{className:"text-sm text-zinc-500 mt-1",children:"Choose a scheduled task to view details"})]})})]})]})}export{T as default};
