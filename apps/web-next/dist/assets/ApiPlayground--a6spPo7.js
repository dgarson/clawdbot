import{r as n,j as e,c}from"./index-BJKg5L1j.js";const j=[{id:"sessions",method:"GET",path:"/sessions",label:"GET /sessions",description:"List active sessions",hasBody:!1},{id:"run-agent",method:"POST",path:"/agents/:id/run",label:"POST /agents/:id/run",description:"Run agent",hasBody:!0},{id:"agents",method:"GET",path:"/agents",label:"GET /agents",description:"List all agents",hasBody:!1},{id:"usage",method:"GET",path:"/usage",label:"GET /usage",description:"Usage stats",hasBody:!1},{id:"delete-session",method:"DELETE",path:"/sessions/:id",label:"DELETE /sessions/:id",description:"End session",hasBody:!1},{id:"messages",method:"POST",path:"/messages",label:"POST /messages",description:"Send message",hasBody:!0}],A={"GET:/sessions":{status:200,statusText:"OK",body:{sessions:[{id:"sess_abc123",agentId:"agent_001",status:"active",startedAt:"2026-02-22T01:30:00Z",messagesCount:47},{id:"sess_def456",agentId:"agent_002",status:"idle",startedAt:"2026-02-22T01:15:00Z",messagesCount:12},{id:"sess_ghi789",agentId:"agent_003",status:"active",startedAt:"2026-02-22T00:45:00Z",messagesCount:183}],total:3,page:1,pageSize:50}},"POST:/agents/:id/run":{status:200,statusText:"OK",body:{runId:"run_xyz789",agentId:"agent_001",status:"started",startedAt:"2026-02-22T02:08:00Z",estimatedDuration:"30s"}},"GET:/agents":{status:200,statusText:"OK",body:{agents:[{id:"agent_001",name:"Piper",status:"online",model:"MiniMax-M2.5",createdAt:"2026-01-15T10:00:00Z"},{id:"agent_002",name:"Quinn",status:"online",model:"MiniMax-M2.5",createdAt:"2026-01-18T14:30:00Z"},{id:"agent_003",name:"Reed",status:"offline",model:"GPT-4",createdAt:"2026-01-20T09:15:00Z"},{id:"agent_004",name:"Sam",status:"online",model:"MiniMax-M2.5",createdAt:"2026-02-01T16:45:00Z"}],total:4}},"GET:/usage":{status:200,statusText:"OK",body:{period:"2026-02-01 to 2026-02-22",requests:{total:15420,successful:15123,failed:297},tokens:{input:2847392,output:5921034,total:8768426},sessions:{active:3,total:127},cost:{total:42.87,currency:"USD"}}},"DELETE:/sessions/:id":{status:200,statusText:"OK",body:{id:"sess_abc123",status:"ended",endedAt:"2026-02-22T02:08:15Z",message:"Session terminated successfully"}},"POST:/messages":{status:201,statusText:"Created",body:{messageId:"msg_12345",sessionId:"sess_abc123",role:"user",content:"Hello, agent!",timestamp:"2026-02-22T02:08:00Z"}}},M={status:404,statusText:"Not Found",body:{error:"Resource not found",message:"The requested endpoint does not exist"}};function u(){return Math.random().toString(36).substring(2,9)}function H(){const o=Math.floor(Math.random()*1e3)+500;return new Promise(d=>setTimeout(()=>d(o),o))}function I(){const[o,d]=n.useState("GET"),[x,p]=n.useState("/sessions"),[T,m]=n.useState([{id:u(),key:"Authorization",value:"Bearer sk_test_123"},{id:u(),key:"Content-Type",value:"application/json"}]),[N,z]=n.useState(`{
  "prompt": "Hello, world!",
  "model": "MiniMax-M2.5"
}`),[i,h]=n.useState(null),[g,f]=n.useState(!1),[r,S]=n.useState(!1),[E,w]=n.useState("sessions"),v=n.useRef(null),k=n.useCallback(s=>{const t=j.find(a=>a.id===s);t&&(w(s),d(t.method),p(t.path))},[]),C=n.useCallback(()=>{m(s=>[...s,{id:u(),key:"",value:""}])},[]),P=n.useCallback(s=>{m(t=>t.filter(a=>a.id!==s))},[]),y=n.useCallback((s,t,a)=>{m(b=>b.map(l=>l.id===s?{...l,[t]:a}:l))},[]),O=n.useCallback(async()=>{var l;f(!0),h(null);const s=await H(),t=`${o}:${x.split(":")[0]}`,a=A[t]||M,b=a.body?JSON.stringify(a.body).length:0;h({status:a.status,statusText:a.statusText,headers:{"content-type":"application/json","x-request-id":`req_${u()}`,"x-response-time":`${s}ms`,"content-length":b.toString()},body:a.body,time:s}),f(!1),(l=v.current)==null||l.focus()},[o,x]),R=n.useCallback(()=>{i&&navigator.clipboard.writeText(JSON.stringify(i.body,null,2))},[i]),_=o==="POST"||o==="PUT"||o==="PATCH";return e.jsx("div",{className:"min-h-screen bg-zinc-950 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-2xl font-semibold text-white",children:"API Playground"}),e.jsx("p",{className:"text-sm text-zinc-400 mt-1",children:"Test OpenClaw API endpoints interactively"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-zinc-900 rounded-lg border border-zinc-800 p-4 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"endpoint-select",className:"block text-xs font-medium text-zinc-400 mb-2",children:"Quick Select"}),e.jsx("select",{id:"endpoint-select",value:E,onChange:s=>k(s.target.value),className:`w-full bg-zinc-800 border border-zinc-700 rounded-md px-3 py-2 text-sm text-white
                  focus-visible:ring-2 focus-visible:ring-indigo-500 focus-visible:outline-none`,children:j.map(s=>e.jsxs("option",{value:s.id,children:[s.label," â€” ",s.description]},s.id))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-zinc-400 mb-2",children:"Request"}),e.jsx("div",{className:"flex gap-2",children:e.jsx("div",{className:"flex rounded-md bg-zinc-800 p-1",role:"radiogroup","aria-label":"HTTP Method",children:["GET","POST","PUT","PATCH","DELETE"].map(s=>e.jsx("button",{role:"radio","aria-checked":o===s,onClick:()=>d(s),className:c("px-3 py-1.5 text-xs font-medium rounded transition-colors",o===s?"bg-indigo-600 text-white":"text-zinc-400 hover:text-white hover:bg-zinc-700","focus-visible:ring-2 focus-visible:ring-indigo-500 focus-visible:outline-none"),children:s},s))})}),e.jsxs("div",{className:"mt-2 flex items-center bg-zinc-800 border border-zinc-700 rounded-md overflow-hidden",children:[e.jsx("span",{className:"px-3 py-2 text-sm text-zinc-500 bg-zinc-800 border-r border-zinc-700 select-none",children:"https://api.clawdbot.io/v1"}),e.jsx("input",{type:"text",value:x,onChange:s=>p(s.target.value),"aria-label":"API path",className:`flex-1 bg-transparent px-3 py-2 text-sm text-white placeholder-zinc-500
                    focus-visible:outline-none`,placeholder:"/endpoint"})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{className:"text-xs font-medium text-zinc-400",children:"Headers"}),e.jsx("button",{onClick:C,className:`text-xs text-indigo-400 hover:text-indigo-300 transition-colors
                    focus-visible:ring-2 focus-visible:ring-indigo-500 focus-visible:outline-none rounded px-1`,"aria-label":"Add header",children:"+ Add"})]}),e.jsx("div",{className:"space-y-2",children:T.map(s=>e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:s.key,onChange:t=>y(s.id,"key",t.target.value),placeholder:"Key","aria-label":`Header key ${s.id}`,className:`flex-1 bg-zinc-800 border border-zinc-700 rounded px-2 py-1.5 text-sm text-white placeholder-zinc-500
                        focus-visible:ring-2 focus-visible:ring-indigo-500 focus-visible:outline-none`}),e.jsx("input",{type:"text",value:s.value,onChange:t=>y(s.id,"value",t.target.value),placeholder:"Value","aria-label":`Header value ${s.id}`,className:`flex-1 bg-zinc-800 border border-zinc-700 rounded px-2 py-1.5 text-sm text-white placeholder-zinc-500
                        focus-visible:ring-2 focus-visible:ring-indigo-500 focus-visible:outline-none`}),e.jsx("button",{onClick:()=>P(s.id),className:`px-2 text-zinc-500 hover:text-red-400 transition-colors
                        focus-visible:ring-2 focus-visible:ring-indigo-500 focus-visible:outline-none rounded`,"aria-label":`Remove header ${s.key}`,children:"Ã—"})]},s.id))})]}),_&&e.jsxs("div",{children:[e.jsx("label",{htmlFor:"request-body",className:"block text-xs font-medium text-zinc-400 mb-2",children:"Request Body"}),e.jsx("textarea",{id:"request-body",value:N,onChange:s=>z(s.target.value),rows:8,"aria-label":"Request body JSON",className:`w-full bg-zinc-800 border border-zinc-700 rounded-md px-3 py-2 text-sm text-white font-mono
                    placeholder-zinc-500 resize-none
                    focus-visible:ring-2 focus-visible:ring-indigo-500 focus-visible:outline-none`,placeholder:'{"key": "value"}'})]}),e.jsx("button",{ref:v,onClick:O,disabled:g,className:c("w-full py-2.5 rounded-md font-medium text-sm transition-all",g?"bg-zinc-700 text-zinc-500 cursor-not-allowed":"bg-indigo-600 text-white hover:bg-indigo-500 active:bg-indigo-700","focus-visible:ring-2 focus-visible:ring-indigo-500 focus-visible:outline-none"),children:g?"Sending...":"Send Request"})]}),e.jsxs("div",{className:"bg-zinc-900 rounded-lg border border-zinc-800 p-4 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-sm font-medium text-white",children:"Response"}),i&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:c("px-2 py-0.5 rounded text-xs font-medium",i.status>=200&&i.status<300?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"),children:[i.status," ",i.statusText]}),e.jsxs("span",{className:"px-2 py-0.5 rounded bg-zinc-800 text-xs text-zinc-400",children:[i.time,"ms"]})]})]}),e.jsx("div",{className:"flex-1 min-h-[300px]",children:i?e.jsx("pre",{className:"bg-zinc-800 rounded-md p-3 text-xs font-mono text-green-400 overflow-auto h-full max-h-[400px]",children:JSON.stringify(i.body,null,2)}):e.jsx("div",{className:"bg-zinc-800 rounded-md p-3 text-xs text-zinc-500 h-full min-h-[300px] flex items-center justify-center",children:e.jsx("span",{children:"Send a request to see the response"})})}),i&&e.jsxs("div",{children:[e.jsxs("button",{onClick:()=>S(!r),className:`flex items-center gap-1 text-xs text-zinc-400 hover:text-white transition-colors
                    focus-visible:ring-2 focus-visible:ring-indigo-500 focus-visible:outline-none rounded`,"aria-expanded":r,"aria-controls":"response-headers",children:[e.jsx("span",{className:c("transition-transform",r&&"rotate-90"),children:"â–¶"}),"Response Headers"]}),r&&e.jsx("div",{id:"response-headers",className:"mt-2 bg-zinc-800 rounded-md p-3 space-y-1",children:Object.entries(i.headers).map(([s,t])=>e.jsxs("div",{className:"flex text-xs",children:[e.jsxs("span",{className:"text-zinc-500 w-32 shrink-0",children:[s,":"]}),e.jsx("span",{className:"text-zinc-300 font-mono truncate",children:t})]},s))})]}),i&&e.jsx("button",{onClick:R,className:`w-full py-2 bg-zinc-800 border border-zinc-700 rounded-md text-sm text-zinc-300
                  hover:bg-zinc-700 hover:text-white transition-colors
                  focus-visible:ring-2 focus-visible:ring-indigo-500 focus-visible:outline-none`,children:"ðŸ“‹ Copy Response"})]})]})]})})}export{I as ApiPlayground,I as default};
