import{r,j as e,c as i}from"./index-CYvdMGBM.js";function u(s){const l=new Date("2026-02-22"),a=new Date(s);return Math.floor((a.getTime()-l.getTime())/864e5)}const o=[{id:"c1",commonName:"*.openclaw.io",sans:["openclaw.io","*.openclaw.io","api.openclaw.io"],type:"wildcard",issuer:"Let's Encrypt Authority X3",status:"valid",algorithm:"ECDSA-256",validFrom:"2025-12-01",validTo:"2026-03-01",serialNumber:"04:B2:1A:8C:3D",fingerprint:"SHA256:a4b2c8d1e9f0a1b2c3d4e5f6",autoRenew:!0,domain:"openclaw.io",environment:"production"},{id:"c2",commonName:"app.openclaw.io",sans:["app.openclaw.io"],type:"tls",issuer:"DigiCert TLS Hybrid ECC SHA384 2020 CA1",status:"expiring",algorithm:"ECDSA-384",validFrom:"2025-03-10",validTo:"2026-03-10",serialNumber:"07:C3:2B:9D:4E",fingerprint:"SHA256:b5c3d9e2f0a2b3c4d5e6f7a8",autoRenew:!1,domain:"openclaw.io",environment:"production"},{id:"c3",commonName:"staging.openclaw.io",sans:["staging.openclaw.io","api-staging.openclaw.io"],type:"tls",issuer:"Let's Encrypt Authority X3",status:"valid",algorithm:"RSA-2048",validFrom:"2026-01-15",validTo:"2026-04-15",serialNumber:"0A:D4:3C:AE:5F",fingerprint:"SHA256:c6d4e0f3a1b4c5d6e7f8a9b0",autoRenew:!0,domain:"openclaw.io",environment:"staging"},{id:"c4",commonName:"internal-ca.openclaw.io",sans:[],type:"ca",issuer:"OpenClaw Internal CA",status:"valid",algorithm:"RSA-4096",validFrom:"2024-01-01",validTo:"2029-01-01",serialNumber:"00:01:00:00:01",fingerprint:"SHA256:d7e5f1a4b2c5d6e7f8a9b0c1",autoRenew:!1,domain:"openclaw.io",environment:"production"},{id:"c5",commonName:"api.openclaw.io",sans:["api.openclaw.io"],type:"tls",issuer:"Amazon Root CA 1",status:"valid",algorithm:"ECDSA-256",validFrom:"2025-09-01",validTo:"2026-09-01",serialNumber:"0E:F5:4D:BF:6A",fingerprint:"SHA256:e8f6a2b5c3d6e7f8a9b0c1d2",autoRenew:!0,domain:"openclaw.io",environment:"production"},{id:"c6",commonName:"legacy-api.openclaw.io",sans:["legacy-api.openclaw.io"],type:"tls",issuer:"GlobalSign Atlas R3 DV TLS CA 2022 Q4",status:"expired",algorithm:"RSA-2048",validFrom:"2025-01-01",validTo:"2026-01-01",serialNumber:"12:A6:5E:C0:7B",fingerprint:"SHA256:f9a7b3c6d4e7f8a9b0c1d2e3",autoRenew:!1,domain:"openclaw.io",environment:"production"},{id:"c7",commonName:"deploy.openclaw.io",sans:["deploy.openclaw.io"],type:"code_signing",issuer:"DigiCert EV Code Signing CA",status:"valid",algorithm:"RSA-4096",validFrom:"2024-06-01",validTo:"2027-06-01",serialNumber:"15:B7:6F:D1:8C",fingerprint:"SHA256:a0b8c4d7e5f8a9b0c1d2e3f4",autoRenew:!1,domain:"openclaw.io",environment:"production"}],w=[{id:"csr1",commonName:"payments.openclaw.io",organization:"OpenClaw Inc.",country:"US",state:"California",locality:"San Francisco",status:"pending",createdAt:"2026-02-22"},{id:"csr2",commonName:"ws.openclaw.io",organization:"OpenClaw Inc.",country:"US",state:"California",locality:"San Francisco",status:"signed",createdAt:"2026-02-15"}],y=[{id:"a1",action:"renewed",certId:"c1",certName:"*.openclaw.io",actor:"system (auto-renew)",timestamp:"2025-12-01T03:00:00Z"},{id:"a2",action:"issued",certId:"c7",certName:"deploy.openclaw.io",actor:"admin@openclaw.io",timestamp:"2024-06-01T10:00:00Z"},{id:"a3",action:"exported",certId:"c4",certName:"internal-ca.openclaw.io",actor:"devops@openclaw.io",timestamp:"2026-02-10T14:30:00Z"},{id:"a4",action:"revoked",certId:"c6",certName:"legacy-api.openclaw.io",actor:"admin@openclaw.io",timestamp:"2026-01-05T09:00:00Z"},{id:"a5",action:"imported",certId:"c5",certName:"api.openclaw.io",actor:"platform@openclaw.io",timestamp:"2025-09-01T11:15:00Z"}],z=["Certificates","CSR","Audit","Settings"],b={valid:"text-emerald-400 bg-emerald-400/10 border-emerald-400/30",expiring:"text-amber-400 bg-amber-400/10 border-amber-400/30",expired:"text-rose-400 bg-rose-400/10 border-rose-400/30",pending:"text-blue-400 bg-blue-400/10 border-blue-400/30",revoked:"text-zinc-400 bg-zinc-400/10 border-zinc-400/30"},h={tls:"text-indigo-400",wildcard:"text-purple-400",code_signing:"text-amber-400",client:"text-blue-400",ca:"text-rose-400"},C={issued:"text-emerald-400",renewed:"text-indigo-400",revoked:"text-rose-400",imported:"text-amber-400",exported:"text-zinc-400"};function A(){const[s,l]=r.useState("Certificates"),[a,g]=r.useState(o[0]),[d,v]=r.useState("all"),[c,f]=r.useState("all"),N=o.filter(t=>!(d!=="all"&&t.environment!==d||c!=="all"&&t.status!==c)),m=o.filter(t=>t.status==="expiring").length,p=o.filter(t=>t.status==="expired").length;return e.jsxs("div",{className:"h-full flex flex-col bg-zinc-950 text-white overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-zinc-800 shrink-0",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-semibold",children:"Certificate Manager"}),e.jsx("p",{className:"text-xs text-zinc-400 mt-0.5",children:"TLS/SSL certificate lifecycle management, CSR generation, and renewal automation"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[m>0&&e.jsxs("span",{className:"text-xs px-2 py-1 rounded bg-amber-400/10 border border-amber-400/30 text-amber-400",children:["⚠ ",m," expiring"]}),p>0&&e.jsxs("span",{className:"text-xs px-2 py-1 rounded bg-rose-400/10 border border-rose-400/30 text-rose-400",children:["✗ ",p," expired"]}),e.jsx("button",{className:"px-3 py-1.5 text-xs bg-indigo-600 hover:bg-indigo-500 rounded-md transition-colors",children:"+ Import Cert"})]})]}),e.jsx("div",{className:"flex gap-1 px-6 pt-3 border-b border-zinc-800 shrink-0",children:z.map(t=>e.jsx("button",{onClick:()=>l(t),className:i("px-4 py-2 text-sm font-medium rounded-t transition-colors border-b-2 -mb-px",s===t?"text-indigo-400 border-indigo-500":"text-zinc-400 border-transparent hover:text-white"),children:t},t))}),e.jsxs("div",{className:"flex-1 overflow-hidden",children:[s==="Certificates"&&e.jsxs("div",{className:"h-full flex",children:[e.jsxs("div",{className:"w-72 border-r border-zinc-800 flex flex-col",children:[e.jsxs("div",{className:"p-3 space-y-2 border-b border-zinc-800",children:[e.jsx("div",{className:"flex flex-wrap gap-1",children:["all","valid","expiring","expired","revoked"].map(t=>e.jsx("button",{onClick:()=>f(t),className:i("px-2 py-0.5 text-[10px] rounded border transition-colors",c===t?"bg-indigo-600/20 border-indigo-500 text-indigo-300":"border-zinc-700 text-zinc-400 hover:border-zinc-600"),children:t},t))}),e.jsxs("select",{value:d,onChange:t=>v(t.target.value),className:"w-full bg-zinc-800 border border-zinc-700 rounded px-2 py-1 text-xs text-zinc-300 focus:outline-none",children:[e.jsx("option",{value:"all",children:"All environments"}),e.jsx("option",{value:"production",children:"Production"}),e.jsx("option",{value:"staging",children:"Staging"}),e.jsx("option",{value:"development",children:"Development"})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto divide-y divide-zinc-800/50",children:N.map(t=>{const n=u(t.validTo);return e.jsxs("button",{onClick:()=>g(t),className:i("w-full text-left px-4 py-3 transition-colors",a.id===t.id?"bg-indigo-600/10":"hover:bg-zinc-800/40"),children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"text-xs font-medium text-white truncate max-w-[130px]",children:t.commonName}),e.jsx("span",{className:i("text-[10px] px-1 py-0.5 rounded border shrink-0",b[t.status]),children:t.status})]}),e.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-zinc-500",children:[e.jsx("span",{className:h[t.type],children:t.type.replace("_"," ")}),e.jsx("span",{children:t.environment})]}),(t.status==="expiring"||t.status==="expired")&&e.jsx("div",{className:i("text-[10px] mt-1",n<0?"text-rose-400":"text-amber-400"),children:n<0?`Expired ${Math.abs(n)}d ago`:`Expires in ${n}d`})]},t.id)})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-5",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold font-mono",children:a.commonName}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx("span",{className:i("text-xs",h[a.type]),children:a.type.replace("_"," ")}),e.jsx("span",{className:"text-xs text-zinc-500",children:a.environment}),e.jsx("span",{className:"text-xs text-zinc-500",children:a.algorithm})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:i("text-xs px-2 py-0.5 rounded border",b[a.status]),children:a.status}),e.jsx("button",{className:"px-3 py-1.5 text-xs border border-zinc-700 text-zinc-400 hover:border-zinc-600 rounded-md transition-colors",children:"Renew"}),e.jsx("button",{className:"px-3 py-1.5 text-xs border border-zinc-700 text-zinc-400 hover:border-zinc-600 rounded-md transition-colors",children:"Download"})]})]}),e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-lg p-4",children:[e.jsxs("div",{className:"flex justify-between text-xs text-zinc-400 mb-2",children:[e.jsxs("span",{children:["Valid from: ",a.validFrom]}),e.jsxs("span",{children:["Expires: ",a.validTo]})]}),e.jsx("div",{className:"h-2 bg-zinc-800 rounded-full overflow-hidden",children:(()=>{const t=new Date(a.validFrom).getTime(),n=new Date(a.validTo).getTime(),j=new Date("2026-02-22").getTime(),x=Math.round((j-t)/(n-t)*100);return e.jsx("div",{className:i("h-full rounded-full",x>90?"bg-rose-500":x>75?"bg-amber-500":"bg-emerald-500"),style:{width:`${Math.min(100,x)}%`}})})()}),e.jsx("div",{className:"text-xs text-zinc-500 mt-1",children:(()=>{const t=u(a.validTo);return t>0?`${t} days remaining`:`Expired ${Math.abs(t)} days ago`})()})]}),e.jsx("div",{className:"grid grid-cols-1 gap-3",children:[{label:"Issuer",value:a.issuer},{label:"Serial Number",value:a.serialNumber},{label:"Fingerprint",value:a.fingerprint},{label:"Auto Renew",value:a.autoRenew?"Enabled":"Disabled"}].map(t=>e.jsxs("div",{className:"flex gap-4 text-xs bg-zinc-900 border border-zinc-800 rounded-lg px-4 py-3",children:[e.jsx("span",{className:"text-zinc-500 w-28 shrink-0",children:t.label}),e.jsx("span",{className:"text-zinc-200 font-mono break-all",children:t.value})]},t.label))}),a.sans.length>0&&e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-lg p-4",children:[e.jsx("div",{className:"text-xs text-zinc-400 font-semibold uppercase tracking-wider mb-3",children:"Subject Alternative Names"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:a.sans.map(t=>e.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-zinc-800 border border-zinc-700 font-mono text-zinc-300",children:t},t))})]})]})]}),s==="CSR"&&e.jsxs("div",{className:"h-full overflow-y-auto p-6 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-sm font-medium",children:"Certificate Signing Requests"}),e.jsx("button",{className:"px-3 py-1.5 text-xs bg-indigo-600 hover:bg-indigo-500 rounded-md transition-colors",children:"Generate CSR"})]}),w.map(t=>e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-lg p-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"font-mono text-sm font-semibold",children:t.commonName}),e.jsx("span",{className:i("text-xs px-2 py-0.5 rounded border",t.status==="signed"?"text-emerald-400 bg-emerald-400/10 border-emerald-400/30":t.status==="rejected"?"text-rose-400 bg-rose-400/10 border-rose-400/30":"text-amber-400 bg-amber-400/10 border-amber-400/30"),children:t.status})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs text-zinc-400",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-zinc-500",children:"O: "}),t.organization]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-zinc-500",children:"C: "}),t.country]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-zinc-500",children:"ST: "}),t.state]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-zinc-500",children:"L: "}),t.locality]})]}),e.jsxs("div",{className:"text-[10px] text-zinc-500 mt-2",children:["Created: ",t.createdAt]})]},t.id))]}),s==="Audit"&&e.jsx("div",{className:"h-full overflow-y-auto p-6 space-y-2",children:y.map(t=>e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-lg px-5 py-3 flex items-center gap-4",children:[e.jsx("span",{className:i("text-xs font-mono font-bold w-16 shrink-0",C[t.action]),children:t.action}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-sm",children:t.certName}),e.jsx("div",{className:"text-xs text-zinc-500",children:t.actor})]}),e.jsx("div",{className:"text-xs text-zinc-500",children:t.timestamp.slice(0,10)})]},t.id))}),s==="Settings"&&e.jsx("div",{className:"h-full overflow-y-auto p-6 space-y-4",children:[{label:"Auto-Renewal Buffer",value:"30 days",desc:"Renew certificates this many days before expiry"},{label:"ACME Provider",value:"Let's Encrypt",desc:"Default ACME CA for auto-issued certs"},{label:"ACME Challenge Type",value:"DNS-01",desc:"Domain validation method for ACME"},{label:"Private Key Algorithm",value:"ECDSA-256",desc:"Default algorithm for new private keys"},{label:"Key Storage Backend",value:"HashiCorp Vault",desc:"Where private keys are securely stored"},{label:"Expiry Alert Threshold",value:"30 days",desc:"Send alerts when cert has this many days remaining"},{label:"Notification Email",value:"infra@openclaw.io",desc:"Recipient for expiry and renewal notifications"}].map(t=>e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-lg p-4 flex items-center gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-sm font-medium",children:t.label}),e.jsx("div",{className:"text-xs text-zinc-500 mt-0.5",children:t.desc})]}),e.jsx("div",{className:"text-sm font-mono text-zinc-300 text-right",children:t.value}),e.jsx("button",{className:"text-xs text-indigo-400 hover:text-indigo-300 shrink-0",children:"Edit"})]},t.label))})]})]})}export{A as default};
