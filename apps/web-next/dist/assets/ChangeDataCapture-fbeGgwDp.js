import{r as d,j as e,c as n}from"./index-DVeYZYUu.js";const i=[{id:"c1",name:"prod-postgres-users",source:"prod-pg-01.internal:5432/appdb",sourceType:"postgres",targetTopic:"cdc.appdb.users",status:"running",lag:12,eventsPerSec:342,totalEvents:18492031,lastEventAt:"2026-02-22T14:31:55Z",snapshotProgress:100,tables:["users","user_profiles","user_sessions"]},{id:"c2",name:"prod-postgres-orders",source:"prod-pg-01.internal:5432/ordersdb",sourceType:"postgres",targetTopic:"cdc.ordersdb.orders",status:"running",lag:28,eventsPerSec:89,totalEvents:4201847,lastEventAt:"2026-02-22T14:31:52Z",snapshotProgress:100,tables:["orders","order_items","order_events"]},{id:"c3",name:"prod-mysql-inventory",source:"prod-mysql-01.internal:3306/inventory",sourceType:"mysql",targetTopic:"cdc.inventory.products",status:"syncing",lag:142,eventsPerSec:24,totalEvents:892410,lastEventAt:"2026-02-22T14:31:48Z",snapshotProgress:87,tables:["products","inventory_levels","warehouses"]},{id:"c4",name:"analytics-mongodb",source:"prod-mongo-01.internal:27017/analytics",sourceType:"mongodb",targetTopic:"cdc.analytics.events",status:"failed",lag:0,eventsPerSec:0,totalEvents:2104932,lastEventAt:"2026-02-22T13:45:00Z",snapshotProgress:100,errorMessage:"Replication lag exceeded threshold (5000ms). OpLog may have rolled over.",tables:["page_events","click_events"]},{id:"c5",name:"staging-postgres",source:"staging-pg-01.internal:5432/appdb",sourceType:"postgres",targetTopic:"cdc.staging.all",status:"paused",lag:0,eventsPerSec:0,totalEvents:312049,lastEventAt:"2026-02-21T08:00:00Z",snapshotProgress:100,tables:["*"]}],u=[{id:"ev1",connectorId:"c1",connectorName:"prod-postgres-users",table:"users",op:"UPDATE",lsn:"0/4A3B2C1",timestamp:"2026-02-22T14:31:55Z",before:{id:"12841",email:"alice@example.com",plan:"starter",updated_at:"2026-02-20T10:00:00Z"},after:{id:"12841",email:"alice@example.com",plan:"growth",updated_at:"2026-02-22T14:31:55Z"}},{id:"ev2",connectorId:"c2",connectorName:"prod-postgres-orders",table:"orders",op:"INSERT",lsn:"0/3F2A1B9",timestamp:"2026-02-22T14:31:52Z",before:null,after:{id:"ORD-84291",user_id:"12841",total:"299.00",status:"pending",created_at:"2026-02-22T14:31:52Z"}},{id:"ev3",connectorId:"c1",connectorName:"prod-postgres-users",table:"user_sessions",op:"DELETE",lsn:"0/4A3B2B0",timestamp:"2026-02-22T14:31:50Z",before:{id:"sess_abc123",user_id:"9284",expires_at:"2026-01-22T00:00:00Z"},after:null},{id:"ev4",connectorId:"c2",connectorName:"prod-postgres-orders",table:"order_items",op:"INSERT",lsn:"0/3F2A1A2",timestamp:"2026-02-22T14:31:49Z",before:null,after:{id:"OI-28471",order_id:"ORD-84291",product_id:"PROD-119",qty:"2",price:"149.50"}},{id:"ev5",connectorId:"c3",connectorName:"prod-mysql-inventory",table:"inventory_levels",op:"UPDATE",lsn:"binlog.000124:9284810",timestamp:"2026-02-22T14:31:45Z",before:{product_id:"PROD-119",qty_available:"48",warehouse_id:"WH-01"},after:{product_id:"PROD-119",qty_available:"46",warehouse_id:"WH-01"}}],h=[{time:"14:00",insertCount:180,updateCount:312,deleteCount:42},{time:"14:05",insertCount:195,updateCount:298,deleteCount:38},{time:"14:10",insertCount:210,updateCount:345,deleteCount:51},{time:"14:15",insertCount:188,updateCount:301,deleteCount:44},{time:"14:20",insertCount:224,updateCount:389,deleteCount:55},{time:"14:25",insertCount:198,updateCount:342,deleteCount:48},{time:"14:30",insertCount:215,updateCount:365,deleteCount:52}],T=["Connectors","Event Log","Throughput","Settings"],g={running:"text-emerald-400 bg-emerald-400/10 border-emerald-400/30",paused:"text-zinc-400 bg-zinc-400/10 border-zinc-400/30",failed:"text-rose-400 bg-rose-400/10 border-rose-400/30",syncing:"text-indigo-400 bg-indigo-400/10 border-indigo-400/30",initializing:"text-amber-400 bg-amber-400/10 border-amber-400/30"},C={INSERT:"text-emerald-400 bg-emerald-400/10",UPDATE:"text-indigo-400 bg-indigo-400/10",DELETE:"text-rose-400 bg-rose-400/10",DDL:"text-amber-400 bg-amber-400/10",TRUNCATE:"text-rose-500 bg-rose-500/10"},x={postgres:"ðŸ˜",mysql:"ðŸ¬",mongodb:"ðŸƒ",oracle:"ðŸ”¶",sqlserver:"ðŸ—„ï¸"};function w(){const[o,b]=d.useState("Connectors"),[t,v]=d.useState(i[0]),[l,f]=d.useState(null),[c,j]=d.useState("all"),N=Math.max(...h.map(s=>s.insertCount+s.updateCount+s.deleteCount)),m=y();function y(){return c==="all"?u:u.filter(s=>s.op===c)}const p=i.filter(s=>s.status==="running"||s.status==="syncing").reduce((s,r)=>s+r.eventsPerSec,0);return e.jsxs("div",{className:"h-full flex flex-col bg-zinc-950 text-white overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-zinc-800 shrink-0",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-semibold",children:"Change Data Capture"}),e.jsx("p",{className:"text-xs text-zinc-400 mt-0.5",children:"Real-time database event streaming via Debezium-compatible connectors"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"text-xs text-zinc-400",children:[e.jsx("span",{className:"text-white font-semibold",children:p.toLocaleString()})," events/s"]}),e.jsx("button",{className:"px-3 py-1.5 text-xs bg-indigo-600 hover:bg-indigo-500 rounded-md transition-colors",children:"+ Connector"})]})]}),e.jsx("div",{className:"flex gap-1 px-6 pt-3 border-b border-zinc-800 shrink-0",children:T.map(s=>e.jsxs("button",{onClick:()=>b(s),className:n("px-4 py-2 text-sm font-medium rounded-t transition-colors border-b-2 -mb-px",o===s?"text-indigo-400 border-indigo-500":"text-zinc-400 border-transparent hover:text-white"),children:[s,s==="Connectors"&&i.filter(r=>r.status==="failed").length>0&&e.jsxs("span",{className:"ml-1.5 text-[10px] text-rose-400",children:[i.filter(r=>r.status==="failed").length," failed"]})]},s))}),e.jsxs("div",{className:"flex-1 overflow-hidden",children:[o==="Connectors"&&e.jsxs("div",{className:"h-full flex",children:[e.jsx("div",{className:"w-72 border-r border-zinc-800 overflow-y-auto",children:i.map(s=>e.jsxs("button",{onClick:()=>v(s),className:n("w-full text-left px-4 py-4 border-b border-zinc-800/50 transition-colors",t.id===s.id?"bg-indigo-600/10":"hover:bg-zinc-800/40"),children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("span",{children:x[s.sourceType]}),e.jsx("span",{className:"text-xs font-medium text-white truncate max-w-[120px]",children:s.name})]}),e.jsx("span",{className:n("text-[10px] px-1 py-0.5 rounded border shrink-0",g[s.status]),children:s.status})]}),e.jsx("div",{className:"text-[10px] text-zinc-500 font-mono truncate",children:s.targetTopic}),s.status==="running"&&e.jsxs("div",{className:"text-[10px] text-zinc-400 mt-1",children:[s.eventsPerSec," ev/s Â· lag ",s.lag,"ms"]}),s.status==="syncing"&&e.jsxs("div",{className:"mt-2",children:[e.jsxs("div",{className:"flex justify-between text-[10px] text-zinc-500 mb-1",children:[e.jsx("span",{children:"Snapshot"}),e.jsxs("span",{children:[s.snapshotProgress,"%"]})]}),e.jsx("div",{className:"h-1 bg-zinc-800 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-indigo-500 rounded-full",style:{width:`${s.snapshotProgress}%`}})})]})]},s.id))}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-5",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsx("div",{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-2xl",children:x[t.sourceType]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold",children:t.name}),e.jsx("div",{className:"text-xs text-zinc-500 font-mono",children:t.source})]}),e.jsx("span",{className:n("text-xs px-2 py-0.5 rounded border",g[t.status]),children:t.status})]})}),e.jsxs("div",{className:"flex gap-2",children:[t.status==="running"&&e.jsx("button",{className:"px-3 py-1.5 text-xs border border-amber-500/40 text-amber-400 hover:bg-amber-500/10 rounded-md transition-colors",children:"Pause"}),t.status==="paused"&&e.jsx("button",{className:"px-3 py-1.5 text-xs bg-indigo-600/20 border border-indigo-600/40 text-indigo-300 rounded-md transition-colors",children:"Resume"}),t.status==="failed"&&e.jsx("button",{className:"px-3 py-1.5 text-xs bg-indigo-600/20 border border-indigo-600/40 text-indigo-300 rounded-md transition-colors",children:"Restart"})]})]}),t.errorMessage&&e.jsxs("div",{className:"bg-rose-400/10 border border-rose-400/30 rounded-lg p-4",children:[e.jsx("div",{className:"text-xs font-medium text-rose-400 mb-1",children:"Error"}),e.jsx("div",{className:"text-xs text-zinc-300",children:t.errorMessage})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{label:"Events/sec",value:t.eventsPerSec.toLocaleString()},{label:"Total Events",value:t.totalEvents.toLocaleString()},{label:"Lag",value:t.lag>0?`${t.lag}ms`:"â€”"},{label:"Last Event",value:t.lastEventAt.slice(11,19)}].map(s=>e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-lg p-3",children:[e.jsx("div",{className:"text-xs text-zinc-500",children:s.label}),e.jsx("div",{className:"text-sm font-semibold mt-1",children:s.value})]},s.label))}),e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-lg p-4",children:[e.jsx("div",{className:"text-xs text-zinc-400 font-semibold uppercase tracking-wider mb-3",children:"Target Topic"}),e.jsx("div",{className:"font-mono text-sm text-indigo-300 break-all",children:t.targetTopic})]}),e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-lg p-4",children:[e.jsx("div",{className:"text-xs text-zinc-400 font-semibold uppercase tracking-wider mb-3",children:"Captured Tables"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:t.tables.map(s=>e.jsx("span",{className:"text-xs px-2 py-1 rounded bg-zinc-800 border border-zinc-700 font-mono text-zinc-300",children:s},s))})]}),t.snapshotProgress<100&&e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-lg p-4",children:[e.jsxs("div",{className:"flex justify-between text-xs text-zinc-400 mb-2",children:[e.jsx("span",{children:"Snapshot Progress"}),e.jsxs("span",{className:"text-indigo-300",children:[t.snapshotProgress,"%"]})]}),e.jsx("div",{className:"h-2 bg-zinc-800 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-indigo-500 rounded-full transition-all",style:{width:`${t.snapshotProgress}%`}})})]})]})]}),o==="Event Log"&&e.jsxs("div",{className:"h-full flex flex-col overflow-hidden",children:[e.jsxs("div",{className:"flex items-center gap-2 px-6 py-3 border-b border-zinc-800 shrink-0",children:[e.jsx("span",{className:"text-xs text-zinc-500",children:"Op:"}),["all","INSERT","UPDATE","DELETE","DDL"].map(s=>e.jsx("button",{onClick:()=>j(s),className:n("px-2 py-1 text-[10px] rounded border transition-colors",c===s?"bg-indigo-600/20 border-indigo-500 text-indigo-300":"border-zinc-700 text-zinc-400 hover:border-zinc-600"),children:s},s)),e.jsxs("span",{className:"ml-auto text-xs text-zinc-500",children:[m.length," events"]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto divide-y divide-zinc-800/50",children:m.map(s=>e.jsxs("div",{onClick:()=>f((l==null?void 0:l.id)===s.id?null:s),className:"px-6 py-3 cursor-pointer hover:bg-zinc-800/30 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:n("text-[10px] px-1.5 py-0.5 rounded font-mono font-bold",C[s.op]),children:s.op}),e.jsx("span",{className:"text-xs font-mono text-zinc-200",children:s.table}),e.jsx("span",{className:"text-xs text-zinc-500",children:s.connectorName}),e.jsx("span",{className:"text-xs text-zinc-600 font-mono ml-auto",children:s.lsn}),e.jsx("span",{className:"text-xs text-zinc-500",children:s.timestamp.slice(11,19)})]}),(l==null?void 0:l.id)===s.id&&e.jsxs("div",{className:"mt-3 grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.before&&e.jsxs("div",{className:"bg-zinc-800/60 rounded-lg p-3",children:[e.jsx("div",{className:"text-[10px] uppercase tracking-wider text-rose-400 mb-2 font-semibold",children:"Before"}),e.jsx("div",{className:"space-y-1",children:Object.entries(s.before).map(([r,a])=>e.jsxs("div",{className:"flex gap-2 text-xs",children:[e.jsxs("span",{className:"text-zinc-500 font-mono w-24 shrink-0",children:[r,":"]}),e.jsx("span",{className:"text-zinc-200 break-all",children:a})]},r))})]}),s.after&&e.jsxs("div",{className:"bg-zinc-800/60 rounded-lg p-3",children:[e.jsx("div",{className:"text-[10px] uppercase tracking-wider text-emerald-400 mb-2 font-semibold",children:"After"}),e.jsx("div",{className:"space-y-1",children:Object.entries(s.after).map(([r,a])=>e.jsxs("div",{className:"flex gap-2 text-xs",children:[e.jsxs("span",{className:"text-zinc-500 font-mono w-24 shrink-0",children:[r,":"]}),e.jsx("span",{className:n("break-all",s.before&&s.before[r]!==a?"text-amber-300":"text-zinc-200"),children:a})]},r))})]})]})]},s.id))})]}),o==="Throughput"&&e.jsxs("div",{className:"h-full overflow-y-auto p-6 space-y-6",children:[e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-lg p-5",children:[e.jsx("h3",{className:"text-sm font-medium mb-4",children:"Event Throughput (last 35 minutes)"}),e.jsx("div",{className:"flex items-end gap-2 h-40",children:h.map(s=>{s.insertCount+s.updateCount+s.deleteCount;const r=128/N;return e.jsxs("div",{className:"flex-1 flex flex-col items-center gap-1",children:[e.jsx("div",{className:"flex flex-col-reverse gap-0.5 w-full",children:[{val:s.insertCount,color:"bg-emerald-500"},{val:s.updateCount,color:"bg-indigo-500"},{val:s.deleteCount,color:"bg-rose-500"}].map((a,z)=>e.jsx("div",{className:n("w-full rounded-sm",a.color),style:{height:Math.max(2,Math.round(a.val*r))}},z))}),e.jsx("div",{className:"text-[10px] text-zinc-500",children:s.time})]},s.time)})}),e.jsx("div",{className:"flex gap-4 mt-3",children:[{label:"INSERT",color:"bg-emerald-500"},{label:"UPDATE",color:"bg-indigo-500"},{label:"DELETE",color:"bg-rose-500"}].map(s=>e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:n("w-2.5 h-2.5 rounded-sm",s.color)}),e.jsx("span",{className:"text-xs text-zinc-400",children:s.label})]},s.label))})]}),e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-lg overflow-hidden",children:[e.jsx("div",{className:"px-5 py-3 border-b border-zinc-800",children:e.jsx("h3",{className:"text-sm font-medium",children:"Per-Connector Throughput"})}),e.jsx("div",{className:"divide-y divide-zinc-800",children:i.map(s=>e.jsxs("div",{className:"px-5 py-3 flex items-center gap-4",children:[e.jsx("span",{children:x[s.sourceType]}),e.jsx("div",{className:"flex-1",children:e.jsx("div",{className:"text-sm",children:s.name})}),e.jsx("div",{className:"w-40",children:e.jsx("div",{className:"h-2 bg-zinc-800 rounded-full overflow-hidden",children:e.jsx("div",{className:n("h-full rounded-full",s.status==="failed"||s.status==="paused"?"bg-zinc-600":"bg-emerald-500"),style:{width:`${Math.min(100,s.eventsPerSec/p*100)}%`}})})}),e.jsxs("div",{className:"w-20 text-right text-sm font-mono",children:[s.eventsPerSec," ",e.jsx("span",{className:"text-xs text-zinc-500",children:"ev/s"})]})]},s.id))})]})]}),o==="Settings"&&e.jsx("div",{className:"h-full overflow-y-auto p-6 space-y-4",children:[{label:"Max Lag Threshold",value:"1000 ms",desc:"Alert when connector lag exceeds this value"},{label:"Event Retention",value:"7 days",desc:"How long to retain captured events in the buffer"},{label:"Batch Size",value:"1000 events",desc:"Number of events per batch for downstream consumers"},{label:"Snapshot Mode",value:"initial",desc:"How to perform the initial snapshot (initial, never, always)"},{label:"Kafka Bootstrap Servers",value:"kafka-01:9092, kafka-02:9092",desc:"Target Kafka cluster endpoints"},{label:"Schema Registry URL",value:"http://127.0.0.1:8081",desc:"Confluent Schema Registry for Avro serialization"}].map(s=>e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-lg p-4 flex items-center gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-sm font-medium",children:s.label}),e.jsx("div",{className:"text-xs text-zinc-500 mt-0.5",children:s.desc})]}),e.jsx("div",{className:"text-sm font-mono text-zinc-300 text-right",children:s.value}),e.jsx("button",{className:"text-xs text-indigo-400 hover:text-indigo-300 shrink-0",children:"Edit"})]},s.label))})]})]})}export{w as default};
