import{r as f,j as e,c as d}from"./index-BATz4P4j.js";const v=[{id:"rec-001",title:"Right-size m5.2xlarge EC2 instances in Production",description:"14 EC2 instances in the production cluster are running at under 20% CPU and 30% memory utilization. Downsizing to m5.xlarge reduces cost without any performance impact on batch workloads.",estimatedSavings:3240,effort:"low",status:"new",category:"Compute",implementationSteps:["Review CPU and memory utilization metrics over the past 30 days in CloudWatch","Create AMI snapshots of all instances scheduled for resize","Schedule maintenance window: Sunday 02:00–04:00 UTC","Stop instances and change instance type to m5.xlarge via EC2 console or AWS CLI","Restart instances and run smoke tests against production endpoints","Monitor CloudWatch metrics for 72 hours before closing the ticket"],affectedResources:["i-0a1b2c3d4e5f","i-1b2c3d4e5f6a","i-2c3d4e5f6a7b"],risk:"Low — instances are non-critical batch workers with no customer-facing SLA"},{id:"rec-002",title:"Purchase Reserved Instances for Aurora RDS clusters",description:"Aurora clusters in us-east-1 have been running fully on-demand for 18+ months. 1-year reserved instances deliver 40% cost savings with zero operational changes required.",estimatedSavings:5820,effort:"low",status:"in-progress",category:"Database",implementationSteps:["Identify all RDS instances with consistent usage over the past 6 months","Open the AWS Cost Explorer Reserved Instance Recommendations report","Compare 1-year No Upfront vs Partial Upfront cost profiles","Submit purchase request for finance approval","Purchase reserved instances via AWS Billing console","Confirm reservations are applying to running instances in Cost Explorer"],affectedResources:["db-prod-aurora-cluster-writer","db-analytics-aurora-writer"],risk:"None — financial commitment only, zero operational changes required"},{id:"rec-003",title:"Terminate idle NAT Gateways in dev environments",description:"8 NAT Gateways in non-production VPCs process under 1 GB/month but still incur the $32/month base fee each plus per-GB data processing charges.",estimatedSavings:256,effort:"medium",status:"new",category:"Network",implementationSteps:["Audit all NAT Gateways across dev and staging VPCs","Check CloudWatch NetworkIn/Out metrics over the past 30 days","Verify no active services route through each gateway","Issue a 1-week advance notice to development teams via Slack #dev-infra","Update VPC route tables to remove all NAT Gateway routes","Delete NAT Gateways and archive the Terraform state diff in the PR"],affectedResources:["nat-dev-use1-01","nat-dev-use1-02","nat-staging-use1-01","nat-staging-use1-02"],risk:"Medium — may disrupt developer outbound traffic if not coordinated in advance"},{id:"rec-004",title:"Transition analytics S3 bucket to Intelligent-Tiering",description:"The 4.2 TB analytics-data-prod bucket sits in STANDARD class but objects are only accessed occasionally after 30 days. Intelligent-Tiering auto-optimizes storage costs based on real access frequency.",estimatedSavings:892,effort:"low",status:"new",category:"Storage",implementationSteps:["Enable S3 Intelligent-Tiering archive configuration on analytics-data-prod","Create a lifecycle rule to transition objects to Intelligent-Tiering after 30 days of inactivity","Review S3 Storage Lens access-frequency report after 90 days","Validate no latency impact on downstream analytics queries","Apply the same policy to reports-archive-prod bucket"],affectedResources:["s3://analytics-data-prod","s3://reports-archive-prod"],risk:"Low — transparent to applications with no API or latency changes for hot objects"},{id:"rec-005",title:"Delete unattached EBS volumes from terminated instances",description:"47 EBS volumes totaling 8.3 TB are unattached and are remnants of terminated EC2 instances. Verified snapshot backups exist for all volumes in the same region.",estimatedSavings:664,effort:"medium",status:"implemented",category:"Storage",implementationSteps:["Run: aws ec2 describe-volumes --filters Name=status,Values=available","Cross-reference volumes with terminated instance IDs from CloudTrail","Verify each volume has at least one restorable snapshot","Tag volumes as pending-deletion and notify resource owners by email","Enforce a 14-day hold period for owner objections","Delete volumes in batches and log all deletions to the audit S3 bucket"],affectedResources:["vol-0a1b2c3d4e5f","vol-1b2c3d4e5f6a","vol-2c3d4e5f6a7b","vol-3d4e5f6a7b8c"],risk:"Medium — data loss is permanent; snapshot verification is mandatory before deletion"},{id:"rec-006",title:"Consolidate underutilized ElastiCache Redis clusters in staging",description:"Three staging Redis clusters each run at under 10% utilization. Merging into a single cluster with logical database separation cuts infrastructure overhead by 66%.",estimatedSavings:1440,effort:"high",status:"new",category:"Database",implementationSteps:["Document all Redis keyspaces, TTL policies, and eviction configurations","Design key namespace separation strategy using logical database indices (DB 0, 1, 2)","Provision consolidated cache.r6g.large cluster with extra memory headroom","Benchmark consolidated cluster performance under combined synthetic load","Update application configs with new Redis endpoint and database selectors","Migrate data using redis-cli DUMP/RESTORE across all three keyspaces","Run old and new clusters in parallel for 2 weeks with full monitoring","Decommission old clusters after zero-regression validation period"],affectedResources:["cache-staging-sessions","cache-staging-queue","cache-staging-api"],risk:"High — requires coordinated application config changes and careful live data migration"},{id:"rec-007",title:"Purchase Compute Savings Plans for Lambda functions",description:"Lambda invocations have been stable at ~2 M/day for 6+ months. A 1-year Compute Savings Plan covers approximately 65% of Lambda costs at a 35% discount rate.",estimatedSavings:720,effort:"low",status:"new",category:"Compute",implementationSteps:["Pull Lambda usage trend from Cost Explorer over the past 90 days","Run Savings Plans Calculator at a conservative 80% commitment level","Get finance approval for the 1-year committed spend","Purchase Compute Savings Plan via AWS Billing and Cost Management console","Confirm plan is applying in the Cost Explorer Savings Plans utilization report"],affectedResources:["lambda-api-handler","lambda-event-processor","lambda-cron-jobs","lambda-notifier"],risk:"None — financial commitment only, no operational or architectural changes required"},{id:"rec-008",title:"Migrate 312 gp2 EBS volumes to gp3",description:"312 gp2 EBS volumes (45 TB total) can be live-migrated to gp3 for 20% cost savings while maintaining equivalent baseline IOPS and unlocking independent IOPS/throughput scaling.",estimatedSavings:2160,effort:"low",status:"in-progress",category:"Storage",implementationSteps:["List gp2 volumes: aws ec2 describe-volumes --filters Name=volume-type,Values=gp2","Generate migration script using aws ec2 modify-volume --volume-type gp3","Set IOPS and throughput baseline values to match or exceed gp2 equivalents","Monitor CloudWatch VolumeReadOps and VolumeWriteOps for 24 hours post-migration","Update all Terraform modules to provision gp3 by default going forward"],affectedResources:["vol-prod-app-001 through vol-prod-app-180","vol-staging-001 through vol-staging-132"],risk:"Low — fully online migration; no instance restart or application downtime required"},{id:"rec-009",title:"Release 23 unused Elastic IP addresses",description:"23 Elastic IPs are allocated but not associated with any running resource, incurring $0.005/hr ($3.65/month) each — approximately $84/month in idle spend.",estimatedSavings:101,effort:"low",status:"dismissed",category:"Network",implementationSteps:["List unassociated EIPs: aws ec2 describe-addresses --filters Name=domain,Values=vpc","Verify none of the EIPs appear in external DNS A-records or whitelists","Notify network team and allow 5 business days for objections","Release each EIP: aws ec2 release-address --allocation-id <id>"],affectedResources:["eip-prod-01","eip-prod-02","eip-staging-01"],risk:"Low — no functional impact once DNS record verification is complete"},{id:"rec-010",title:"Apply environment-appropriate CloudWatch Log retention policies",description:"All log groups retain logs for 365 days by default. Reducing dev retention to 30 days and staging to 90 days substantially cuts CloudWatch Logs storage costs.",estimatedSavings:384,effort:"low",status:"new",category:"Storage",implementationSteps:["Enumerate all CloudWatch Log Groups across all accounts using AWS Organizations","Tag all log groups by environment if the Environment tag is missing","Apply retention rules via Terraform: dev=30d, staging=90d, prod=365d","Deploy a Lambda + EventBridge rule to enforce retention on newly created log groups","Review storage size reduction in CloudWatch Logs Insights after 30 days"],affectedResources:["/aws/lambda/*-dev","/aws/ecs/*-staging","/aws/rds/*-dev"],risk:"Low — logs beyond retention are permanently deleted; verify no active compliance requirements first"},{id:"rec-011",title:"Rightsize Aurora read replicas to match actual query load",description:"Aurora read replicas are provisioned at db.r6g.2xlarge matching the primary but only handle 15% of query traffic. Downsizing to r6g.large reduces cost without impacting read SLA.",estimatedSavings:1980,effort:"medium",status:"new",category:"Database",implementationSteps:["Pull read replica CloudWatch metrics: CPU, DatabaseConnections, ReadIOPS over 30 days","Confirm replicas average under 25% CPU utilization across the sample window","Provision a test r6g.large replica and route 10% of read traffic to it via weighted endpoint","Validate P99 query latency does not exceed production SLA thresholds","Perform rolling resize one replica at a time to minimize connection disruption","Update the Terraform RDS module with the new instance class and re-apply","Monitor all replicas for 2 weeks and confirm zero regressions"],affectedResources:["db-prod-aurora-replica-1","db-prod-aurora-replica-2","db-prod-aurora-replica-3"],risk:"Medium — brief connection interruption per replica during instance modification"},{id:"rec-012",title:"Apply S3 lifecycle policies to all application log buckets",description:"Application log buckets have no lifecycle policies and have accumulated 12+ TB in STANDARD storage class. Lifecycle rules reduce costs while satisfying the 365-day compliance retention requirement.",estimatedSavings:1120,effort:"low",status:"new",category:"Storage",implementationSteps:["Inventory all application log S3 buckets across all accounts","Confirm retention requirements with legal and security teams","Define lifecycle rule: STANDARD (0d) -> STANDARD_IA (30d) -> GLACIER (90d) -> Delete (365d)","Apply rules via Terraform aws_s3_bucket_lifecycle_configuration resource","Validate transitions in the S3 console Storage Class Analysis after 30 days","Set up a CloudWatch alarm for unexpected storage growth above the cost baseline"],affectedResources:["s3://app-logs-prod","s3://access-logs-prod","s3://audit-logs-prod","s3://elb-logs-prod"],risk:"Low — only affects archival storage; active application log writes are fully unaffected"}],h=[{id:"i-0a1b2c3d",name:"prod-web-server-01",category:"compute",costPerMonth:892,utilizationPct:18,wastePct:72,trend:"up",region:"us-east-1",resourceType:"m5.2xlarge",overProvisioned:!0},{id:"i-1b2c3d4e",name:"prod-web-server-02",category:"compute",costPerMonth:892,utilizationPct:21,wastePct:68,trend:"stable",region:"us-east-1",resourceType:"m5.2xlarge",overProvisioned:!0},{id:"i-api-worker-01",name:"api-worker-primary",category:"compute",costPerMonth:446,utilizationPct:62,wastePct:18,trend:"down",region:"us-east-1",resourceType:"m5.xlarge",overProvisioned:!1},{id:"i-ml-inference-01",name:"ml-inference-worker-01",category:"compute",costPerMonth:1840,utilizationPct:84,wastePct:8,trend:"up",region:"us-east-1",resourceType:"g4dn.xlarge",overProvisioned:!1},{id:"i-batch-proc-01",name:"batch-processing-worker-01",category:"compute",costPerMonth:892,utilizationPct:14,wastePct:79,trend:"stable",region:"us-west-2",resourceType:"m5.2xlarge",overProvisioned:!0},{id:"db-aurora-prod-writer",name:"aurora-prod-cluster-writer",category:"database",costPerMonth:2840,utilizationPct:71,wastePct:12,trend:"stable",region:"us-east-1",resourceType:"db.r6g.2xlarge",overProvisioned:!1},{id:"db-aurora-replica-1",name:"aurora-prod-replica-1",category:"database",costPerMonth:2840,utilizationPct:15,wastePct:74,trend:"down",region:"us-east-1",resourceType:"db.r6g.2xlarge",overProvisioned:!0},{id:"db-aurora-replica-2",name:"aurora-prod-replica-2",category:"database",costPerMonth:2840,utilizationPct:14,wastePct:75,trend:"down",region:"us-west-2",resourceType:"db.r6g.2xlarge",overProvisioned:!0},{id:"cache-staging-sessions",name:"elasticache-staging-sessions",category:"database",costPerMonth:480,utilizationPct:9,wastePct:81,trend:"stable",region:"us-east-1",resourceType:"cache.r6g.large",overProvisioned:!0},{id:"cache-staging-queue",name:"elasticache-staging-queue",category:"database",costPerMonth:480,utilizationPct:7,wastePct:83,trend:"stable",region:"us-east-1",resourceType:"cache.r6g.large",overProvisioned:!0},{id:"s3-analytics-data",name:"analytics-data-prod",category:"storage",costPerMonth:1240,utilizationPct:100,wastePct:61,trend:"up",region:"us-east-1",resourceType:"S3 Standard (4.2 TB)",overProvisioned:!0},{id:"s3-app-logs",name:"app-logs-prod",category:"storage",costPerMonth:890,utilizationPct:100,wastePct:55,trend:"up",region:"us-east-1",resourceType:"S3 Standard (3.1 TB)",overProvisioned:!0},{id:"ebs-batch-vol-01",name:"batch-processing-vol-01",category:"storage",costPerMonth:320,utilizationPct:22,wastePct:78,trend:"stable",region:"us-east-1",resourceType:"gp2 1 TB",overProvisioned:!0},{id:"s3-db-backups",name:"database-backups-prod",category:"storage",costPerMonth:440,utilizationPct:100,wastePct:20,trend:"up",region:"us-east-1",resourceType:"S3 Standard (1.6 TB)",overProvisioned:!1},{id:"nat-dev-01",name:"nat-gateway-dev-01",category:"network",costPerMonth:32,utilizationPct:3,wastePct:95,trend:"stable",region:"us-east-1",resourceType:"NAT Gateway",overProvisioned:!0},{id:"nat-dev-02",name:"nat-gateway-dev-02",category:"network",costPerMonth:32,utilizationPct:2,wastePct:97,trend:"stable",region:"us-east-1",resourceType:"NAT Gateway",overProvisioned:!0},{id:"alb-prod-main",name:"alb-prod-main",category:"network",costPerMonth:184,utilizationPct:58,wastePct:12,trend:"up",region:"us-east-1",resourceType:"Application Load Balancer",overProvisioned:!1}],b=[{month:"Mar",implemented:0,potential:18777,cumulative:0},{month:"Apr",implemented:664,potential:18777,cumulative:664},{month:"May",implemented:1120,potential:18777,cumulative:1784},{month:"Jun",implemented:892,potential:18777,cumulative:2676},{month:"Jul",implemented:2160,potential:18777,cumulative:4836},{month:"Aug",implemented:384,potential:18777,cumulative:5220},{month:"Sep",implemented:1980,potential:18777,cumulative:7200},{month:"Oct",implemented:3240,potential:18777,cumulative:10440},{month:"Nov",implemented:720,potential:18777,cumulative:11160},{month:"Dec",implemented:5820,potential:18777,cumulative:16980},{month:"Jan",implemented:256,potential:18777,cumulative:17236},{month:"Feb",implemented:101,potential:18777,cumulative:17337}],z=[{category:"Compute",implemented:3960,potential:5400,color:"bg-indigo-500"},{category:"Database",implemented:5820,potential:12080,color:"bg-violet-500"},{category:"Storage",implemented:2840,potential:6260,color:"bg-cyan-500"},{category:"Network",implemented:256,potential:389,color:"bg-emerald-500"}],P=[{id:"pol-001",name:"No Untagged Resources",description:"All AWS resources must carry required tags: Environment, Owner, CostCenter, Project. Resources missing any required tag are flagged for immediate remediation by the resource owner.",compliancePct:73,violationCount:142,severity:"critical",affectedResources:142,lastChecked:"2 hours ago"},{id:"pol-002",name:"Maximum Instance Size per Environment",description:"Dev and staging environments are restricted to m5.xlarge (compute) and db.t3.medium (database). Production allows up to m5.4xlarge and db.r6g.2xlarge only.",compliancePct:88,violationCount:23,severity:"warning",affectedResources:23,lastChecked:"15 minutes ago"},{id:"pol-003",name:"Idle Resource Automatic Shutdown",description:"EC2 instances in dev/staging that are idle for 4+ hours during business hours are automatically stopped. Resources idle for 7 days are flagged for owner-confirmed termination.",compliancePct:91,violationCount:14,severity:"warning",affectedResources:14,lastChecked:"30 minutes ago"},{id:"pol-004",name:"Minimum Reserved Instance Coverage (70%)",description:"Production compute and database workloads must maintain at least 70% reserved instance coverage. On-demand usage above the threshold triggers an automatic RI purchase recommendation.",compliancePct:64,violationCount:8,severity:"critical",affectedResources:8,lastChecked:"1 hour ago"},{id:"pol-005",name:"S3 Bucket Lifecycle Policy Required",description:"All S3 buckets storing logs, archives, or backup data must have a lifecycle policy configured. Buckets without lifecycle rules are marked non-compliant and reported weekly.",compliancePct:61,violationCount:31,severity:"warning",affectedResources:31,lastChecked:"45 minutes ago"},{id:"pol-006",name:"S3 Public Access Block Enforcement",description:"All S3 buckets must have public access blocked unless listed in the approved-public-buckets SSM parameter. Unauthorized public buckets trigger a critical security alert.",compliancePct:99,violationCount:1,severity:"info",affectedResources:1,lastChecked:"5 minutes ago"}];function c(t){return"$"+t.toLocaleString()}function g(t){return t>=1e3?"$"+(t/1e3).toFixed(1)+"k":"$"+t}function S(t){return t==="up"?"↑":t==="down"?"↓":"→"}function C(t){return t==="up"?"text-rose-400":t==="down"?"text-emerald-400":"text-zinc-400"}function j(t){return t==="low"?"bg-emerald-900 text-emerald-300 border border-emerald-800":t==="medium"?"bg-amber-900 text-amber-300 border border-amber-800":"bg-rose-900 text-rose-300 border border-rose-800"}function w(t){return t==="new"?"bg-indigo-900 text-indigo-300 border border-indigo-800":t==="in-progress"?"bg-amber-900 text-amber-300 border border-amber-800":t==="implemented"?"bg-emerald-900 text-emerald-300 border border-emerald-800":"bg-zinc-800 text-zinc-400 border border-zinc-700"}function k(t){return t==="critical"?"bg-rose-900 text-rose-300 border border-rose-800":t==="warning"?"bg-amber-900 text-amber-300 border border-amber-800":"bg-blue-900 text-blue-300 border border-blue-800"}function T(t){return t<25?"bg-rose-500":t<50?"bg-amber-500":"bg-emerald-500"}function N(t){return t<70?"bg-rose-500":t<90?"bg-amber-500":"bg-emerald-500"}const y={new:"New","in-progress":"In Progress",implemented:"Implemented",dismissed:"Dismissed"},R={compute:"Compute",storage:"Storage",network:"Network",database:"Database"},A=["compute","database","storage","network"];function M({rec:t,onClose:m}){return e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-zinc-800",children:[e.jsxs("div",{className:"flex items-start justify-between gap-4 mb-3",children:[e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("span",{className:d("text-xs font-medium px-2.5 py-1 rounded-full",w(t.status)),children:y[t.status]}),e.jsxs("span",{className:d("text-xs font-medium px-2.5 py-1 rounded-full",j(t.effort)),children:[t.effort.charAt(0).toUpperCase()+t.effort.slice(1)," effort"]}),e.jsx("span",{className:"text-xs font-medium px-2.5 py-1 rounded-full bg-zinc-800 text-zinc-300 border border-zinc-700",children:t.category})]}),e.jsx("button",{onClick:m,className:"flex-none text-zinc-400 hover:text-white transition-colors text-sm font-medium px-3 py-1 rounded-lg bg-zinc-800 hover:bg-zinc-700",children:"← Back"})]}),e.jsx("h3",{className:"text-xl font-bold text-white leading-snug",children:t.title})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-zinc-950 rounded-xl p-4 border border-zinc-800",children:[e.jsx("p",{className:"text-xs text-zinc-500 uppercase tracking-wider mb-1",children:"Monthly Savings"}),e.jsx("p",{className:"text-3xl font-bold text-emerald-400",children:c(t.estimatedSavings)})]}),e.jsxs("div",{className:"bg-zinc-950 rounded-xl p-4 border border-zinc-800",children:[e.jsx("p",{className:"text-xs text-zinc-500 uppercase tracking-wider mb-1",children:"Annual Potential"}),e.jsx("p",{className:"text-3xl font-bold text-white",children:c(t.estimatedSavings*12)})]})]}),e.jsx("div",{children:e.jsx("p",{className:"text-sm text-zinc-300 leading-relaxed",children:t.description})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-white mb-4",children:"Implementation Steps"}),e.jsx("ol",{className:"space-y-3",children:t.implementationSteps.map((u,o)=>e.jsxs("li",{className:"flex gap-3",children:[e.jsx("span",{className:"flex-none w-6 h-6 rounded-full bg-indigo-900 text-indigo-300 border border-indigo-800 text-xs flex items-center justify-center font-bold mt-0.5",children:o+1}),e.jsx("span",{className:"text-sm text-zinc-300 leading-relaxed",children:u})]},o))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-white mb-3",children:"Affected Resources"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:t.affectedResources.map((u,o)=>e.jsx("code",{className:"text-xs bg-zinc-800 text-zinc-300 px-2.5 py-1.5 rounded-lg font-mono border border-zinc-700",children:u},o))})]}),e.jsxs("div",{className:"flex gap-3 items-start bg-zinc-950 rounded-xl p-4 border border-zinc-800",children:[e.jsx("span",{className:"text-amber-400 text-base flex-none mt-0.5",children:"⚠"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs font-semibold text-zinc-400 uppercase tracking-wider block mb-1",children:"Risk Assessment"}),e.jsx("span",{className:"text-sm text-zinc-300",children:t.risk})]})]})]})]})}function I({recommendations:t}){const[m,u]=f.useState(null),[o,s]=f.useState("all"),r=[{value:"all",label:"All"},{value:"new",label:"New"},{value:"in-progress",label:"In Progress"},{value:"implemented",label:"Implemented"},{value:"dismissed",label:"Dismissed"}],l=o==="all"?t:t.filter(n=>n.status===o),a=t.reduce((n,x)=>n+x.estimatedSavings,0),i=t.filter(n=>n.status==="implemented").reduce((n,x)=>n+x.estimatedSavings,0),p=t.filter(n=>n.status==="new").length;return m!==null?e.jsx("div",{className:"p-6",children:e.jsx(M,{rec:m,onClose:()=>u(null)})}):e.jsxs("div",{className:"p-6 space-y-5",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl p-4",children:[e.jsx("p",{className:"text-xs text-zinc-500 uppercase tracking-wider mb-1",children:"Total Potential"}),e.jsxs("p",{className:"text-2xl font-bold text-white",children:[c(a),e.jsx("span",{className:"text-sm font-normal text-zinc-400",children:"/mo"})]})]}),e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl p-4",children:[e.jsx("p",{className:"text-xs text-zinc-500 uppercase tracking-wider mb-1",children:"Implemented Savings"}),e.jsxs("p",{className:"text-2xl font-bold text-emerald-400",children:[c(i),e.jsx("span",{className:"text-sm font-normal text-zinc-400",children:"/mo"})]})]}),e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl p-4",children:[e.jsx("p",{className:"text-xs text-zinc-500 uppercase tracking-wider mb-1",children:"Open Recommendations"}),e.jsxs("p",{className:"text-2xl font-bold text-indigo-400",children:[p," ",e.jsx("span",{className:"text-sm font-normal text-zinc-400",children:"new"})]})]})]}),e.jsx("div",{className:"flex gap-2 flex-wrap",children:r.map(n=>e.jsx("button",{onClick:()=>s(n.value),className:d("text-xs font-medium px-3 py-1.5 rounded-full border transition-colors",o===n.value?"bg-indigo-600 text-white border-indigo-500":"bg-zinc-900 text-zinc-400 border-zinc-700 hover:text-white hover:border-zinc-500"),children:n.label},n.value))}),e.jsx("div",{className:"space-y-3",children:l.map(n=>e.jsx("button",{onClick:()=>u(n),className:"w-full text-left bg-zinc-900 border border-zinc-800 rounded-xl p-5 hover:border-indigo-700 hover:bg-zinc-800 transition-all group",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex flex-wrap gap-2 mb-2",children:[e.jsx("span",{className:d("text-xs font-medium px-2 py-0.5 rounded-full",w(n.status)),children:y[n.status]}),e.jsxs("span",{className:d("text-xs font-medium px-2 py-0.5 rounded-full",j(n.effort)),children:[n.effort.charAt(0).toUpperCase()+n.effort.slice(1)," effort"]}),e.jsx("span",{className:"text-xs font-medium px-2 py-0.5 rounded-full bg-zinc-800 text-zinc-400 border border-zinc-700",children:n.category})]}),e.jsx("h4",{className:"text-sm font-semibold text-white group-hover:text-indigo-300 transition-colors leading-snug mb-1.5",children:n.title}),e.jsx("p",{className:"text-xs text-zinc-400 line-clamp-2 leading-relaxed",children:n.description})]}),e.jsxs("div",{className:"flex-none text-right",children:[e.jsx("p",{className:"text-lg font-bold text-emerald-400",children:g(n.estimatedSavings)}),e.jsx("p",{className:"text-xs text-zinc-500",children:"/month"})]})]})},n.id))})]})}function E({resources:t}){const m=t.reduce((s,r)=>s+r.costPerMonth,0),u=t.filter(s=>s.overProvisioned).length,o=t.reduce((s,r)=>s+r.costPerMonth*(r.wastePct/100),0);return e.jsxs("div",{className:"p-6 space-y-5",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl p-4",children:[e.jsx("p",{className:"text-xs text-zinc-500 uppercase tracking-wider mb-1",children:"Total Monthly Cost"}),e.jsx("p",{className:"text-2xl font-bold text-white",children:c(m)})]}),e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl p-4",children:[e.jsx("p",{className:"text-xs text-zinc-500 uppercase tracking-wider mb-1",children:"Estimated Waste"}),e.jsxs("p",{className:"text-2xl font-bold text-rose-400",children:[c(Math.round(o)),e.jsx("span",{className:"text-sm font-normal text-zinc-400",children:"/mo"})]})]}),e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl p-4",children:[e.jsx("p",{className:"text-xs text-zinc-500 uppercase tracking-wider mb-1",children:"Over-provisioned"}),e.jsxs("p",{className:"text-2xl font-bold text-amber-400",children:[u," ",e.jsx("span",{className:"text-sm font-normal text-zinc-400",children:"resources"})]})]})]}),A.map(s=>{const r=t.filter(a=>a.category===s);if(r.length===0)return null;const l=r.reduce((a,i)=>a+i.costPerMonth,0);return e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between px-5 py-3 border-b border-zinc-800 bg-zinc-950",children:[e.jsx("h3",{className:"text-sm font-semibold text-white",children:R[s]}),e.jsxs("span",{className:"text-sm font-semibold text-zinc-300",children:[c(l),"/mo"]})]}),e.jsxs("div",{className:"grid grid-cols-12 gap-2 px-5 py-2.5 border-b border-zinc-800 text-xs text-zinc-500 uppercase tracking-wider",children:[e.jsx("div",{className:"col-span-3",children:"Name"}),e.jsx("div",{className:"col-span-2",children:"Type"}),e.jsx("div",{className:"col-span-1",children:"Region"}),e.jsx("div",{className:"col-span-2 text-right",children:"Cost/mo"}),e.jsx("div",{className:"col-span-2",children:"Utilization"}),e.jsx("div",{className:"col-span-1 text-right",children:"Waste"}),e.jsx("div",{className:"col-span-1 text-right",children:"Trend"})]}),r.map(a=>e.jsxs("div",{className:d("grid grid-cols-12 gap-2 px-5 py-3 border-b border-zinc-800 last:border-b-0 items-center text-sm",a.overProvisioned?"bg-rose-950/20":""),children:[e.jsxs("div",{className:"col-span-3 flex items-center gap-2 min-w-0",children:[a.overProvisioned&&e.jsx("span",{className:"flex-none w-1.5 h-1.5 rounded-full bg-rose-500"}),e.jsx("span",{className:"text-white font-medium truncate",children:a.name})]}),e.jsx("div",{className:"col-span-2 text-zinc-400 text-xs font-mono truncate",children:a.resourceType}),e.jsx("div",{className:"col-span-1 text-zinc-500 text-xs",children:a.region}),e.jsx("div",{className:"col-span-2 text-right font-semibold text-white",children:c(a.costPerMonth)}),e.jsx("div",{className:"col-span-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex-1 h-2 bg-zinc-800 rounded-full overflow-hidden",children:e.jsx("div",{className:d("h-full rounded-full",T(a.utilizationPct)),style:{width:a.utilizationPct+"%"}})}),e.jsxs("span",{className:"text-xs text-zinc-400 w-8 text-right",children:[a.utilizationPct,"%"]})]})}),e.jsxs("div",{className:d("col-span-1 text-right text-sm font-semibold",a.wastePct>60?"text-rose-400":a.wastePct>30?"text-amber-400":"text-zinc-400"),children:[a.wastePct,"%"]}),e.jsx("div",{className:d("col-span-1 text-right font-bold",C(a.trend)),children:S(a.trend)})]},a.id))]},s)}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-zinc-500",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-rose-500 inline-block"}),"Over-provisioned (highlighted)"]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("span",{className:"inline-block text-rose-400 font-bold",children:"↑"}),"Cost trending up"]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("span",{className:"inline-block text-emerald-400 font-bold",children:"↓"}),"Cost trending down"]})]})]})}function D({monthly:t,categories:m}){const o=t[t.length-1].cumulative,s=m.reduce((i,p)=>i+p.potential,0),r=Math.round(o/s*100),l=Math.max(...t.map(i=>i.cumulative),1),a=200;return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl p-4",children:[e.jsx("p",{className:"text-xs text-zinc-500 uppercase tracking-wider mb-1",children:"Total Implemented"}),e.jsxs("p",{className:"text-2xl font-bold text-emerald-400",children:[c(o),e.jsx("span",{className:"text-sm font-normal text-zinc-400",children:"/mo"})]}),e.jsxs("p",{className:"text-xs text-zinc-500 mt-1",children:["Annual: ",c(o*12)]})]}),e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl p-4",children:[e.jsx("p",{className:"text-xs text-zinc-500 uppercase tracking-wider mb-1",children:"Total Potential"}),e.jsxs("p",{className:"text-2xl font-bold text-white",children:[c(s),e.jsx("span",{className:"text-sm font-normal text-zinc-400",children:"/mo"})]}),e.jsxs("p",{className:"text-xs text-zinc-500 mt-1",children:["Annual: ",c(s*12)]})]}),e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl p-4",children:[e.jsx("p",{className:"text-xs text-zinc-500 uppercase tracking-wider mb-1",children:"Savings Realized"}),e.jsxs("p",{className:"text-2xl font-bold text-indigo-400",children:[r,"%"]}),e.jsx("div",{className:"mt-2 h-2 bg-zinc-800 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-indigo-500 rounded-full",style:{width:r+"%"}})})]})]}),e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl p-5",children:[e.jsx("h3",{className:"text-sm font-semibold text-white mb-4",children:"Cumulative Monthly Savings (12-month waterfall)"}),e.jsxs("div",{className:"flex gap-1 items-end",style:{height:a+32+"px"},children:[e.jsx("div",{className:"flex flex-col justify-between text-right pr-2 flex-none",style:{height:a+"px"},children:[100,75,50,25,0].map(i=>e.jsx("span",{className:"text-xs text-zinc-600 leading-none",children:g(Math.round(l*i/100))},i))}),e.jsx("div",{className:"flex-1 flex gap-1 items-end",children:t.map(i=>{const p=i.implemented/l*a,n=(i.cumulative-i.implemented)/l*a;return e.jsxs("div",{className:"flex-1 flex flex-col items-stretch",children:[e.jsxs("div",{className:"relative flex-none",style:{height:a+"px"},children:[[25,50,75].map(x=>e.jsx("div",{className:"absolute left-0 right-0 border-t border-dashed border-zinc-800",style:{bottom:x/100*a+"px"}},x)),i.implemented>0&&e.jsxs("div",{className:"absolute left-0.5 right-0.5",style:{bottom:n+"px",height:Math.max(p,4)+"px"},children:[e.jsx("div",{className:"w-full h-full bg-indigo-500 rounded-t-sm group relative",children:e.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-1 hidden group-hover:flex flex-col items-center z-10 pointer-events-none",children:[e.jsxs("div",{className:"bg-zinc-800 border border-zinc-700 rounded px-2 py-1 text-xs text-white whitespace-nowrap shadow-xl",children:[e.jsxs("span",{className:"font-semibold text-emerald-400",children:["+",g(i.implemented)]}),e.jsx("span",{className:"text-zinc-400 ml-1",children:"this month"})]}),e.jsx("div",{className:"w-1.5 h-1.5 bg-zinc-800 border-r border-b border-zinc-700 rotate-45 -mt-0.5"})]})}),e.jsx("div",{className:"absolute -top-px left-0 right-0 h-0.5 bg-indigo-300 opacity-60"})]})]}),e.jsx("div",{className:"text-center mt-1.5",children:e.jsx("span",{className:"text-xs text-zinc-500",children:i.month})})]},i.month)})})]}),e.jsx("p",{className:"text-xs text-zinc-600 text-center mt-1",children:"Monthly incremental savings (bar height = new savings that month, position = cumulative base)"})]}),e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl p-5",children:[e.jsx("h3",{className:"text-sm font-semibold text-white mb-4",children:"Savings by Category"}),e.jsx("div",{className:"space-y-4",children:m.map(i=>{const p=Math.round(i.implemented/i.potential*100);return e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsx("span",{className:"text-sm font-medium text-white",children:i.category}),e.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[e.jsx("span",{className:"text-emerald-400 font-semibold",children:g(i.implemented)}),e.jsx("span",{className:"text-zinc-600",children:"/"}),e.jsx("span",{className:"text-zinc-400",children:g(i.potential)}),e.jsxs("span",{className:"text-xs text-zinc-500 w-10 text-right",children:[p,"%"]})]})]}),e.jsx("div",{className:"h-3 bg-zinc-800 rounded-full overflow-hidden",children:e.jsx("div",{className:d("h-full rounded-full transition-all",i.color),style:{width:p+"%"}})})]},i.category)})}),e.jsxs("div",{className:"mt-5 pt-4 border-t border-zinc-800 flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-zinc-400",children:"Total across all categories"}),e.jsxs("div",{className:"flex items-center gap-3 text-sm font-semibold",children:[e.jsx("span",{className:"text-emerald-400",children:c(m.reduce((i,p)=>i+p.implemented,0))}),e.jsx("span",{className:"text-zinc-600",children:"/"}),e.jsx("span",{className:"text-white",children:c(m.reduce((i,p)=>i+p.potential,0))}),e.jsx("span",{className:"text-zinc-500 text-xs",children:"per month"})]})]})]})]})}function L({policies:t}){const m=t.filter(s=>s.severity==="critical").length,u=t.reduce((s,r)=>s+r.violationCount,0),o=Math.round(t.reduce((s,r)=>s+r.compliancePct,0)/t.length);return e.jsxs("div",{className:"p-6 space-y-5",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl p-4",children:[e.jsx("p",{className:"text-xs text-zinc-500 uppercase tracking-wider mb-1",children:"Avg Compliance"}),e.jsxs("p",{className:"text-2xl font-bold text-white",children:[o,"%"]})]}),e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl p-4",children:[e.jsx("p",{className:"text-xs text-zinc-500 uppercase tracking-wider mb-1",children:"Total Violations"}),e.jsx("p",{className:"text-2xl font-bold text-rose-400",children:u})]}),e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl p-4",children:[e.jsx("p",{className:"text-xs text-zinc-500 uppercase tracking-wider mb-1",children:"Critical Policies"}),e.jsx("p",{className:"text-2xl font-bold text-amber-400",children:m})]})]}),e.jsx("div",{className:"space-y-3",children:t.map(s=>e.jsx("div",{className:d("bg-zinc-900 border rounded-xl p-5",s.severity==="critical"?"border-rose-900":s.severity==="warning"?"border-amber-900/50":"border-zinc-800"),children:e.jsx("div",{className:"flex items-start gap-4",children:e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-3 mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("h4",{className:"text-base font-semibold text-white",children:s.name}),e.jsx("span",{className:d("text-xs font-medium px-2.5 py-0.5 rounded-full",k(s.severity)),children:s.severity.charAt(0).toUpperCase()+s.severity.slice(1)})]}),e.jsxs("div",{className:"flex-none text-right",children:[e.jsxs("p",{className:d("text-xl font-bold",N(s.compliancePct).replace("bg-","text-")),children:[s.compliancePct,"%"]}),e.jsx("p",{className:"text-xs text-zinc-500",children:"compliant"})]})]}),e.jsx("div",{className:"h-2 bg-zinc-800 rounded-full overflow-hidden mb-3",children:e.jsx("div",{className:d("h-full rounded-full",N(s.compliancePct)),style:{width:s.compliancePct+"%"}})}),e.jsx("p",{className:"text-sm text-zinc-400 leading-relaxed mb-3",children:s.description}),e.jsxs("div",{className:"flex items-center gap-5 text-xs text-zinc-500",children:[e.jsxs("span",{children:[e.jsx("span",{className:d("font-semibold",s.violationCount>0?"text-rose-400":"text-zinc-300"),children:s.violationCount})," ","violation",s.violationCount!==1?"s":""]}),e.jsxs("span",{children:[e.jsx("span",{className:"font-semibold text-zinc-300",children:s.affectedResources})," resource",s.affectedResources!==1?"s":""," affected"]}),e.jsxs("span",{children:["Checked ",s.lastChecked]})]})]})})},s.id))})]})}const B=[{id:"recommendations",label:"Recommendations"},{id:"resources",label:"Resources"},{id:"savings",label:"Savings Tracker"},{id:"policies",label:"Policies"}];function q(){const[t,m]=f.useState("recommendations"),u=h.reduce((l,a)=>l+a.costPerMonth,0),o=v.reduce((l,a)=>l+a.estimatedSavings,0),s=b[b.length-1].cumulative,r=h.filter(l=>l.overProvisioned).length;return e.jsxs("div",{className:"min-h-screen bg-zinc-950 text-white",children:[e.jsx("div",{className:"border-b border-zinc-800 bg-zinc-950 px-6 py-5",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Cloud Cost Optimizer"}),e.jsx("p",{className:"text-sm text-zinc-400 mt-1",children:"Identify, track, and implement cloud infrastructure savings across all AWS accounts"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-zinc-500 bg-zinc-900 border border-zinc-800 rounded-lg px-3 py-2",children:[e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500 inline-block"}),"Live — last refreshed 3 min ago"]})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-4 mt-5",children:[e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl p-4",children:[e.jsx("p",{className:"text-xs text-zinc-500 uppercase tracking-wider mb-1",children:"Monthly Spend"}),e.jsx("p",{className:"text-xl font-bold text-white",children:c(u)})]}),e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl p-4",children:[e.jsx("p",{className:"text-xs text-zinc-500 uppercase tracking-wider mb-1",children:"Savings Potential"}),e.jsxs("p",{className:"text-xl font-bold text-indigo-400",children:[c(o),e.jsx("span",{className:"text-sm font-normal text-zinc-500",children:"/mo"})]})]}),e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl p-4",children:[e.jsx("p",{className:"text-xs text-zinc-500 uppercase tracking-wider mb-1",children:"Savings Implemented"}),e.jsxs("p",{className:"text-xl font-bold text-emerald-400",children:[c(s),e.jsx("span",{className:"text-sm font-normal text-zinc-500",children:"/mo"})]})]}),e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl p-4",children:[e.jsx("p",{className:"text-xs text-zinc-500 uppercase tracking-wider mb-1",children:"Over-provisioned"}),e.jsxs("p",{className:"text-xl font-bold text-amber-400",children:[r," ",e.jsx("span",{className:"text-sm font-normal text-zinc-500",children:"resources"})]})]})]})]})}),e.jsx("div",{className:"border-b border-zinc-800 bg-zinc-950 px-6",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsx("div",{className:"flex gap-0",children:B.map(l=>e.jsx("button",{onClick:()=>m(l.id),className:d("px-5 py-3.5 text-sm font-medium border-b-2 transition-colors",t===l.id?"border-indigo-500 text-indigo-400":"border-transparent text-zinc-400 hover:text-zinc-200 hover:border-zinc-600"),children:l.label},l.id))})})}),e.jsxs("div",{className:"max-w-7xl mx-auto",children:[t==="recommendations"&&e.jsx(I,{recommendations:v}),t==="resources"&&e.jsx(E,{resources:h}),t==="savings"&&e.jsx(D,{monthly:b,categories:z}),t==="policies"&&e.jsx(L,{policies:P})]})]})}export{q as default};
