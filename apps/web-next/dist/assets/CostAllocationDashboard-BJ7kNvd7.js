import{r as g,j as e,c as r}from"./index-BvekFnzL.js";const p=[{id:"cc-001",name:"Platform Core",team:"Platform",budget:45e3,spent:38200,forecast:43500,status:"on-track",trend:"up",trendPct:4.2,topCategory:"compute",breakdown:{compute:22e3,storage:8e3,network:3500,database:3200,ai:1e3,other:500},alerts:0},{id:"cc-002",name:"Product & UI",team:"Product",budget:12e3,spent:11400,forecast:13200,status:"warning",trend:"up",trendPct:12.5,topCategory:"ai",breakdown:{compute:3200,storage:1800,network:800,database:600,ai:4500,other:500},alerts:2},{id:"cc-003",name:"Data Science",team:"Analytics",budget:35e3,spent:36800,forecast:41e3,status:"over",trend:"up",trendPct:18.3,topCategory:"ai",breakdown:{compute:12e3,storage:5e3,network:2e3,database:3e3,ai:14e3,other:800},alerts:3},{id:"cc-004",name:"Customer Ops",team:"Operations",budget:18e3,spent:14200,forecast:16800,status:"under",trend:"down",trendPct:-3.1,topCategory:"compute",breakdown:{compute:7e3,storage:3500,network:1500,database:1800,ai:200,other:200},alerts:0},{id:"cc-005",name:"Security",team:"Security",budget:22e3,spent:19800,forecast:21500,status:"on-track",trend:"flat",trendPct:.8,topCategory:"compute",breakdown:{compute:9e3,storage:4500,network:2500,database:2800,ai:500,other:500},alerts:1},{id:"cc-006",name:"DevOps/Infra",team:"DevOps",budget:55e3,spent:52100,forecast:54800,status:"on-track",trend:"up",trendPct:2.1,topCategory:"compute",breakdown:{compute:28e3,storage:12e3,network:6e3,database:4500,ai:800,other:800},alerts:1}],T=[{id:"s-001",service:"EC2 Instances",provider:"aws",category:"compute",monthlyCost:28400,change:5.2,trend:"up",costCenter:"DevOps/Infra",resourceCount:142,topResource:"m5.2xlarge"},{id:"s-002",service:"Cloud Storage",provider:"gcp",category:"storage",monthlyCost:12800,change:-2.1,trend:"down",costCenter:"Platform Core",resourceCount:48,topResource:"standard-bucket"},{id:"s-003",service:"AI API Calls",provider:"internal",category:"ai",monthlyCost:18600,change:22.4,trend:"up",costCenter:"Data Science",resourceCount:8,topResource:"inference-cluster"},{id:"s-004",service:"RDS Databases",provider:"aws",category:"database",monthlyCost:9200,change:.4,trend:"flat",costCenter:"Platform Core",resourceCount:24,topResource:"db.r5.large"},{id:"s-005",service:"CDN / Network",provider:"aws",category:"network",monthlyCost:6400,change:3.1,trend:"up",costCenter:"Product & UI",resourceCount:12,topResource:"CloudFront dist."},{id:"s-006",service:"Kubernetes",provider:"gcp",category:"compute",monthlyCost:22100,change:1.8,trend:"up",costCenter:"DevOps/Infra",resourceCount:320,topResource:"n2-standard-4"},{id:"s-007",service:"BigQuery",provider:"gcp",category:"database",monthlyCost:7800,change:8.9,trend:"up",costCenter:"Data Science",resourceCount:16,topResource:"analysis dataset"},{id:"s-008",service:"Azure OpenAI",provider:"azure",category:"ai",monthlyCost:14200,change:31,trend:"up",costCenter:"Data Science",resourceCount:4,topResource:"gpt-4o endpoint"}],j=[{id:"a-001",costCenter:"Data Science",type:"threshold",message:"Spent 105% of monthly budget",severity:"critical",triggeredAt:"2026-02-22T10:00:00Z",resolved:!1},{id:"a-002",costCenter:"Data Science",type:"forecast",message:"Forecasted to exceed budget by $6k",severity:"critical",triggeredAt:"2026-02-20T08:00:00Z",resolved:!1},{id:"a-003",costCenter:"Data Science",type:"anomaly",message:"Azure OpenAI costs up 31% MoM",severity:"warning",triggeredAt:"2026-02-21T14:00:00Z",resolved:!1},{id:"a-004",costCenter:"Product & UI",type:"forecast",message:"Forecasted to exceed budget by $1.2k",severity:"warning",triggeredAt:"2026-02-22T09:00:00Z",resolved:!1},{id:"a-005",costCenter:"Product & UI",type:"anomaly",message:"AI API spend up 22% vs last month",severity:"warning",triggeredAt:"2026-02-19T12:00:00Z",resolved:!1},{id:"a-006",costCenter:"Security",type:"threshold",message:"Reached 90% of monthly budget",severity:"info",triggeredAt:"2026-02-18T16:00:00Z",resolved:!1},{id:"a-007",costCenter:"DevOps/Infra",type:"anomaly",message:"Unusual bandwidth spike (2Ã— baseline)",severity:"info",triggeredAt:"2026-02-17T11:00:00Z",resolved:!1}],$=[{date:"Feb 08",compute:58,storage:28,network:13,database:18,ai:28,other:4},{date:"Feb 09",compute:60,storage:27,network:14,database:17,ai:30,other:4},{date:"Feb 10",compute:59,storage:29,network:13,database:19,ai:31,other:5},{date:"Feb 11",compute:62,storage:28,network:15,database:18,ai:33,other:4},{date:"Feb 12",compute:61,storage:30,network:14,database:20,ai:35,other:5},{date:"Feb 13",compute:64,storage:29,network:16,database:19,ai:36,other:4},{date:"Feb 14",compute:63,storage:31,network:15,database:21,ai:38,other:5},{date:"Feb 15",compute:66,storage:30,network:17,database:20,ai:39,other:5},{date:"Feb 16",compute:65,storage:32,network:16,database:22,ai:40,other:5},{date:"Feb 17",compute:68,storage:31,network:18,database:21,ai:42,other:6},{date:"Feb 18",compute:67,storage:33,network:17,database:23,ai:44,other:6},{date:"Feb 19",compute:70,storage:32,network:19,database:22,ai:46,other:6},{date:"Feb 20",compute:69,storage:34,network:18,database:24,ai:48,other:7},{date:"Feb 21",compute:72,storage:33,network:20,database:23,ai:50,other:7},{date:"Feb 22",compute:81,storage:35,network:14,database:20,ai:37,other:3}];function l(s){return s>=1e3?`$${(s/1e3).toFixed(1)}k`:`$${s.toLocaleString()}`}function D(s){return s==="over"?"text-rose-400":s==="warning"?"text-amber-400":s==="under"?"text-sky-400":"text-emerald-400"}function O(s){return s==="over"?"bg-rose-500/20 text-rose-300":s==="warning"?"bg-amber-500/20 text-amber-300":s==="under"?"bg-sky-500/20 text-sky-300":"bg-emerald-500/20 text-emerald-300"}function z(s){return s==="up"?"text-rose-400":s==="down"?"text-emerald-400":"text-zinc-400"}function h(s){return{compute:"bg-indigo-500",storage:"bg-sky-500",network:"bg-violet-500",database:"bg-amber-500",ai:"bg-rose-500",other:"bg-zinc-500"}[s]}function B(s){return{aws:"bg-amber-500/20 text-amber-300",gcp:"bg-sky-500/20 text-sky-300",azure:"bg-blue-500/20 text-blue-300",internal:"bg-indigo-500/20 text-indigo-300"}[s]??"bg-zinc-700 text-zinc-300"}function U(s){return s==="critical"?"bg-rose-500/20 text-rose-300":s==="warning"?"bg-amber-500/20 text-amber-300":"bg-sky-500/20 text-sky-300"}function R({breakdown:s}){const i=Object.values(s).reduce((a,c)=>a+c,0),d=["compute","storage","database","network","ai","other"];return e.jsx("div",{className:"flex h-2 w-full rounded-full overflow-hidden gap-px",children:d.map(a=>{const c=i>0?s[a]/i*100:0;return c>0?e.jsx("div",{className:r(h(a)),style:{width:`${c}%`},title:`${a}: ${l(s[a])}`},a):null})})}function E({points:s}){var c,b;const i=["compute","storage","database","network","ai","other"],d={compute:"#6366f1",storage:"#0ea5e9",network:"#8b5cf6",database:"#f59e0b",ai:"#f43f5e",other:"#71717a"},a=Math.max(...s.map(n=>i.reduce((x,m)=>x+n[m],0)));return e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"flex flex-wrap gap-3",children:i.map(n=>e.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-zinc-400",children:[e.jsx("div",{className:"w-2.5 h-2.5 rounded-sm",style:{background:d[n]}}),n]},n))}),e.jsx("div",{className:"flex items-end gap-1 h-32",children:s.map(n=>{const x=i.reduce((u,v)=>u+n[v],0),m=a>0?x/a*100:0;return e.jsxs("div",{className:"flex-1 flex flex-col justify-end gap-px group relative",style:{height:"100%"},children:[e.jsx("div",{className:"flex flex-col justify-end overflow-hidden rounded-sm",style:{height:`${m}%`},children:i.map(u=>{const v=x>0?n[u]/x*100:0;return e.jsx("div",{style:{height:`${v}%`,background:d[u]}},u)})}),e.jsx("div",{className:"absolute -bottom-5 left-1/2 -translate-x-1/2 text-[9px] text-zinc-500 whitespace-nowrap hidden group-hover:block",children:n.date})]},n.date)})}),e.jsxs("div",{className:"flex justify-between text-[10px] text-zinc-500 mt-1",children:[e.jsx("span",{children:(c=s[0])==null?void 0:c.date}),e.jsx("span",{children:(b=s[s.length-1])==null?void 0:b.date})]})]})}function Z({cc:s}){const i=["compute","storage","database","network","ai","other"],d=Math.round(s.spent/s.budget*100);return e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-semibold text-white",children:s.name}),e.jsx("span",{className:r("px-2 py-0.5 rounded text-xs font-medium",O(s.status)),children:s.status==="over"?"Over Budget":s.status==="warning"?"Warning":s.status==="under"?"Under Budget":"On Track"}),s.alerts>0&&e.jsxs("span",{className:"px-1.5 py-0.5 rounded text-xs bg-rose-500/20 text-rose-300",children:[s.alerts," alert",s.alerts>1?"s":""]})]}),e.jsx("div",{className:"text-xs text-zinc-400 mt-0.5",children:s.team})]})}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:[{label:"Spent",val:l(s.spent),sub:`of ${l(s.budget)} budget`,color:D(s.status)},{label:"Forecast",val:l(s.forecast),sub:"end-of-month est.",color:"text-zinc-200"},{label:"MoM Change",val:`${s.trend==="up"?"+":""}${s.trendPct}%`,sub:"vs. last month",color:z(s.trend)}].map(a=>e.jsxs("div",{className:"bg-zinc-800/60 rounded-lg p-3",children:[e.jsx("div",{className:"text-xs text-zinc-400",children:a.label}),e.jsx("div",{className:r("text-lg font-bold mt-1",a.color),children:a.val}),e.jsx("div",{className:"text-xs text-zinc-500",children:a.sub})]},a.label))}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-xs text-zinc-400 mb-1",children:[e.jsx("span",{children:"Budget utilization"}),e.jsxs("span",{className:D(s.status),children:[d,"%"]})]}),e.jsx("div",{className:"h-2 bg-zinc-800 rounded-full overflow-hidden",children:e.jsx("div",{className:r("h-full rounded-full transition-all",s.status==="over"?"bg-rose-500":s.status==="warning"?"bg-amber-500":"bg-indigo-500"),style:{width:`${Math.min(d,100)}%`}})})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-zinc-400 mb-2",children:"Cost breakdown"}),e.jsx(R,{breakdown:s.breakdown}),e.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1 mt-3",children:i.map(a=>e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsxs("div",{className:"flex items-center gap-1.5 text-zinc-400",children:[e.jsx("div",{className:r("w-2 h-2 rounded-sm",h(a))}),a]}),e.jsx("span",{className:"text-zinc-300",children:l(s.breakdown[a])})]},a))})]})]})}function W(){const[s,i]=g.useState("centers"),[d,a]=g.useState(null),[c,b]=g.useState("30d"),[n,x]=g.useState("all"),[m,u]=g.useState("all"),[v,_]=g.useState("tag"),I=p.filter(t=>n==="all"||t.status===n),S=T.filter(t=>m==="all"||t.category===m),F=p.reduce((t,o)=>t+o.spent,0),f=p.reduce((t,o)=>t+o.budget,0),y=p.reduce((t,o)=>t+o.forecast,0),N=j.filter(t=>!t.resolved).length,M=[{id:"centers",label:"Cost Centers",count:p.length},{id:"services",label:"Services",count:T.length},{id:"alerts",label:"Alerts",count:N},{id:"trends",label:"Trends"}];return e.jsxs("div",{className:"h-full flex flex-col bg-zinc-950 text-white",children:[e.jsxs("div",{className:"border-b border-zinc-800 px-6 py-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-semibold text-white",children:"Cost Allocation"}),e.jsx("p",{className:"text-sm text-zinc-400 mt-0.5",children:"Budget tracking, service costs, and anomaly detection"})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("div",{className:"flex rounded-lg bg-zinc-800 p-0.5 text-xs",children:["7d","30d","90d","ytd"].map(t=>e.jsx("button",{onClick:()=>b(t),className:r("px-3 py-1.5 rounded-md transition-colors",c===t?"bg-indigo-600 text-white":"text-zinc-400 hover:text-white"),children:t.toUpperCase()},t))})})]}),e.jsx("div",{className:"grid grid-cols-4 gap-4 mt-4",children:[{label:"Total Spent",val:l(F),sub:`${Math.round(F/f*100)}% of budget`,color:"text-white"},{label:"Budget",val:l(f),sub:"monthly allocation",color:"text-zinc-200"},{label:"Forecast",val:l(y),sub:y>f?"âš ï¸ exceeds budget":"âœ“ within budget",color:y>f?"text-amber-400":"text-emerald-400"},{label:"Open Alerts",val:String(N),sub:`${j.filter(t=>!t.resolved&&t.severity==="critical").length} critical`,color:N>0?"text-amber-400":"text-emerald-400"}].map(t=>e.jsxs("div",{className:"bg-zinc-900 rounded-lg p-3",children:[e.jsx("div",{className:"text-xs text-zinc-400",children:t.label}),e.jsx("div",{className:r("text-xl font-bold mt-0.5",t.color),children:t.val}),e.jsx("div",{className:"text-xs text-zinc-500 mt-0.5",children:t.sub})]},t.label))})]}),e.jsx("div",{className:"flex border-b border-zinc-800 px-6",children:M.map(t=>e.jsxs("button",{onClick:()=>{i(t.id),a(null)},className:r("px-4 py-3 text-sm font-medium border-b-2 transition-colors flex items-center gap-2",s===t.id?"border-indigo-500 text-white":"border-transparent text-zinc-400 hover:text-white"),children:[t.label,"count"in t&&t.count!==void 0&&e.jsx("span",{className:r("text-xs px-1.5 py-0.5 rounded-full",s===t.id?"bg-indigo-500/20 text-indigo-300":"bg-zinc-700 text-zinc-400"),children:t.count})]},t.id))}),e.jsxs("div",{className:"flex-1 overflow-hidden flex",children:[s==="centers"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col w-72 border-r border-zinc-800 overflow-hidden",children:[e.jsx("div",{className:"p-3 border-b border-zinc-800",children:e.jsxs("select",{value:n,onChange:t=>x(t.target.value),className:"w-full bg-zinc-800 border border-zinc-700 rounded-lg px-3 py-1.5 text-xs text-white",children:[e.jsx("option",{value:"all",children:"All Statuses"}),e.jsx("option",{value:"over",children:"Over Budget"}),e.jsx("option",{value:"warning",children:"Warning"}),e.jsx("option",{value:"on-track",children:"On Track"}),e.jsx("option",{value:"under",children:"Under Budget"})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:I.map(t=>e.jsxs("button",{onClick:()=>a(t),className:r("w-full text-left px-4 py-3 border-b border-zinc-800 hover:bg-zinc-800/40 transition-colors",(d==null?void 0:d.id)===t.id&&"bg-zinc-800/60"),children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"text-sm font-medium text-white",children:t.name}),e.jsx("span",{className:r("text-xs px-1.5 py-0.5 rounded",O(t.status)),children:t.status==="over"?"Over":t.status==="warning"?"Warn":t.status==="under"?"Under":"OK"})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-zinc-400 mb-1.5",children:[e.jsx("span",{children:l(t.spent)}),e.jsxs("span",{className:z(t.trend),children:[t.trend==="up"?"â–²":t.trend==="down"?"â–¼":"â€”"," ",Math.abs(t.trendPct),"%"]})]}),e.jsx(R,{breakdown:t.breakdown})]},t.id))})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:d?e.jsx(Z,{cc:d}):e.jsx("div",{className:"flex items-center justify-center h-full text-zinc-500 text-sm",children:"Select a cost center to view details"})})]}),s==="services"&&e.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsxs("select",{value:m,onChange:t=>u(t.target.value),className:"bg-zinc-800 border border-zinc-700 rounded-lg px-3 py-1.5 text-xs text-white",children:[e.jsx("option",{value:"all",children:"All Categories"}),["compute","storage","network","database","ai","other"].map(t=>e.jsx("option",{value:t,children:t},t))]}),e.jsxs("span",{className:"text-xs text-zinc-500",children:[S.length," services"]})]}),e.jsx("div",{className:"space-y-2",children:S.sort((t,o)=>o.monthlyCost-t.monthlyCost).map(t=>e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:r("w-2.5 h-2.5 rounded-sm flex-shrink-0 mt-1",h(t.category))}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-medium text-white",children:t.service}),e.jsx("span",{className:r("px-1.5 py-0.5 rounded text-xs",B(t.provider)),children:t.provider.toUpperCase()}),e.jsx("span",{className:"text-xs text-zinc-500",children:t.category})]}),e.jsxs("div",{className:"text-xs text-zinc-400 mt-0.5",children:[t.costCenter," Â· ",t.resourceCount," resources Â· Top: ",t.topResource]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-sm font-bold text-white",children:[l(t.monthlyCost),e.jsx("span",{className:"text-xs font-normal text-zinc-400",children:"/mo"})]}),e.jsxs("div",{className:r("text-xs mt-0.5",z(t.trend)),children:[t.change>0?"+":"",t.change,"% MoM"]})]})]}),e.jsx("div",{className:"mt-3 h-1.5 bg-zinc-800 rounded-full overflow-hidden",children:e.jsx("div",{className:r("h-full rounded-full",h(t.category)),style:{width:`${Math.min(t.monthlyCost/3e4*100,100)}%`}})})]},t.id))})]}),s==="alerts"&&e.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:e.jsxs("div",{className:"space-y-3",children:[j.filter(t=>!t.resolved).map(t=>e.jsx("div",{className:"bg-zinc-900 border border-zinc-800 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-lg mt-0.5",children:t.severity==="critical"?"ðŸš¨":t.severity==="warning"?"âš ï¸":"â„¹ï¸"}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-medium text-white",children:t.costCenter}),e.jsx("span",{className:r("px-1.5 py-0.5 rounded text-xs",U(t.severity)),children:t.severity}),e.jsx("span",{className:"text-xs text-zinc-500",children:t.type})]}),e.jsx("div",{className:"text-sm text-zinc-300 mt-1",children:t.message}),e.jsx("div",{className:"text-xs text-zinc-500 mt-1",children:new Date(t.triggeredAt).toLocaleString()})]})]}),e.jsx("button",{className:"text-xs text-zinc-400 hover:text-white px-2 py-1 rounded bg-zinc-800 hover:bg-zinc-700 transition-colors",children:"Resolve"})]})},t.id)),j.filter(t=>!t.resolved).length===0&&e.jsx("div",{className:"text-center py-12 text-zinc-500 text-sm",children:"No open alerts"})]})}),s==="trends"&&e.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-lg p-5",children:[e.jsx("h3",{className:"text-sm font-medium text-white mb-4",children:"Daily cost trend by category ($k)"}),e.jsx(E,{points:$})]}),e.jsx("div",{className:"grid grid-cols-2 gap-4 mt-4",children:["compute","ai","storage","database"].map(t=>{const o=$.map(k=>k[t]),A=o[o.length-1],w=o[0],C=w>0?(A-w)/w*100:0;return e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:r("w-2.5 h-2.5 rounded-sm",h(t))}),e.jsx("span",{className:"text-xs text-zinc-400 capitalize",children:t})]}),e.jsxs("div",{className:"text-xl font-bold text-white",children:["$",A,"k"]}),e.jsxs("div",{className:r("text-xs mt-1",C>0?"text-rose-400":"text-emerald-400"),children:[C>0?"+":"",C.toFixed(1),"% over period"]}),e.jsx("div",{className:"flex items-end gap-0.5 h-8 mt-2",children:o.map((k,P)=>e.jsx("div",{className:r("flex-1 rounded-sm",h(t)),style:{height:`${k/Math.max(...o)*100}%`,opacity:.4+P/o.length*.6}},P))})]},t)})})]})]})]})}export{W as default};
