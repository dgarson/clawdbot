import{r as u,j as e,c as l}from"./index-BuITcl8D.js";const p=[{id:"ec2",name:"EC2 Compute",category:"Compute",currentCost:18420,lastMonthCost:16890,costPerUnit:.085,unitLabel:"/hr",trend:[14200,15100,16890,17200,18100,18420],dailyCosts:[580,610,595,620,640,605,590,615,630,645,610,595,620,635,650,620,600,615,630,645,610,595,620,635,650,620,600,615,630,645],resources:[{id:"r1",name:"prod-api-cluster",type:"c5.2xlarge",cost:8200,region:"us-east-1"},{id:"r2",name:"worker-fleet",type:"m5.xlarge",cost:5100,region:"us-west-2"},{id:"r3",name:"analytics-batch",type:"r5.4xlarge",cost:3200,region:"us-east-1"},{id:"r4",name:"staging-cluster",type:"t3.large",cost:1920,region:"eu-west-1"}]},{id:"eks",name:"EKS Kubernetes",category:"Compute",currentCost:5680,lastMonthCost:4920,costPerUnit:.1,unitLabel:"/hr",trend:[3800,4100,4500,4920,5200,5680],dailyCosts:[180,182,185,188,190,185,182,185,188,192,194,188,185,188,192,194,190,186,184,188,192,194,190,186,184,188,192,194,190,186],resources:[{id:"r16",name:"prod-cluster-nodes",type:"m5.xlarge",cost:4200,region:"us-east-1"},{id:"r17",name:"prod-cluster-control",type:"EKS Control Plane",cost:1480,region:"us-east-1"}]},{id:"rds",name:"RDS Database",category:"Database",currentCost:9840,lastMonthCost:9840,costPerUnit:.24,unitLabel:"/hr",trend:[8900,9100,9400,9840,9840,9840],dailyCosts:[320,320,320,320,320,320,320,320,320,320,320,340,340,340,340,340,340,340,320,320,320,320,320,320,320,320,320,320,320,320],resources:[{id:"r5",name:"prod-postgres-primary",type:"db.r5.2xlarge",cost:5200,region:"us-east-1"},{id:"r6",name:"prod-postgres-replica",type:"db.r5.xlarge",cost:2800,region:"us-east-1"},{id:"r7",name:"analytics-aurora",type:"db.r5.large",cost:1840,region:"us-east-1"}]},{id:"elasticache",name:"ElastiCache",category:"Database",currentCost:2160,lastMonthCost:2160,costPerUnit:.068,unitLabel:"/hr",trend:[2160,2160,2160,2160,2160,2160],dailyCosts:[72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72],resources:[{id:"r18",name:"session-cache-cluster",type:"cache.r6g.large",cost:1440,region:"us-east-1"},{id:"r19",name:"query-cache",type:"cache.t3.medium",cost:720,region:"us-east-1"}]},{id:"s3",name:"S3 Storage",category:"Storage",currentCost:4210,lastMonthCost:3980,costPerUnit:.023,unitLabel:"/GB",trend:[2800,3100,3500,3800,3980,4210],dailyCosts:[130,132,134,136,138,140,138,136,140,142,144,140,138,142,144,146,142,140,138,140,142,144,140,142,144,146,142,140,138,140],resources:[{id:"r8",name:"media-assets-prod",type:"Standard",cost:2100,region:"us-east-1"},{id:"r9",name:"logs-archive",type:"Standard-IA",cost:890,region:"us-east-1"},{id:"r10",name:"backups",type:"Glacier",cost:1220,region:"us-east-1"}]},{id:"cloudfront",name:"CloudFront CDN",category:"Network",currentCost:3120,lastMonthCost:2890,costPerUnit:.0085,unitLabel:"/req",trend:[2200,2400,2600,2800,2890,3120],dailyCosts:[95,98,102,105,108,102,98,100,104,108,110,104,100,104,108,110,106,102,100,104,108,110,106,102,100,104,108,110,106,102],resources:[{id:"r11",name:"prod-cdn-distribution",type:"Distribution",cost:2400,region:"global"},{id:"r12",name:"staging-cdn",type:"Distribution",cost:720,region:"global"}]},{id:"lambda",name:"Lambda Functions",category:"Compute",currentCost:2840,lastMonthCost:3120,costPerUnit:2e-7,unitLabel:"/req",trend:[3600,3400,3200,3120,3e3,2840],dailyCosts:[100,98,96,94,92,90,94,96,98,96,94,92,94,96,98,96,94,92,90,92,94,96,98,96,94,92,90,92,94,96],resources:[{id:"r13",name:"api-handlers",type:"Function",cost:1600,region:"us-east-1"},{id:"r14",name:"event-processors",type:"Function",cost:840,region:"us-east-1"},{id:"r15",name:"cron-jobs",type:"Function",cost:400,region:"us-east-1"}]},{id:"cloudwatch",name:"CloudWatch",category:"Observability",currentCost:1680,lastMonthCost:1520,costPerUnit:.3,unitLabel:"/GB ingested",trend:[1100,1200,1350,1450,1520,1680],dailyCosts:[52,54,55,56,58,54,52,55,57,59,56,54,55,57,59,57,55,53,55,57,59,57,55,53,55,57,59,57,55,53],resources:[{id:"r26",name:"log-groups-prod",type:"Log Groups",cost:980,region:"us-east-1"},{id:"r27",name:"metrics-dashboards",type:"Metrics",cost:700,region:"us-east-1"}]},{id:"waf",name:"WAF & Shield",category:"Security",currentCost:1240,lastMonthCost:1240,costPerUnit:5,unitLabel:"/rule/mo",trend:[1240,1240,1240,1240,1240,1240],dailyCosts:[41,41,41,41,41,41,41,41,41,41,41,41,41,41,41,41,41,41,41,41,41,41,41,41,41,41,41,41,41,41],resources:[{id:"r23",name:"prod-waf-rules",type:"WebACL",cost:840,region:"us-east-1"},{id:"r24",name:"shield-advanced",type:"Shield",cost:400,region:"global"}]},{id:"cognito",name:"Cognito Auth",category:"Security",currentCost:890,lastMonthCost:810,costPerUnit:.0055,unitLabel:"/MAU",trend:[600,680,740,800,810,890],dailyCosts:[28,29,30,30,31,29,28,30,31,32,30,29,30,31,32,30,29,30,31,32,30,29,30,31,32,30,29,30,31,30],resources:[{id:"r22",name:"prod-user-pool",type:"User Pool",cost:890,region:"us-east-1"}]},{id:"sqs",name:"SQS Queues",category:"Messaging",currentCost:480,lastMonthCost:420,costPerUnit:.4,unitLabel:"/1M req",trend:[320,350,380,400,420,480],dailyCosts:[14,15,15,16,16,17,15,15,16,16,17,16,15,16,17,17,16,15,16,17,16,15,16,17,16,15,16,17,16,15],resources:[{id:"r20",name:"order-processing-queue",type:"Standard",cost:280,region:"us-east-1"},{id:"r21",name:"notification-queue",type:"FIFO",cost:200,region:"us-east-1"}]},{id:"route53",name:"Route 53 DNS",category:"Network",currentCost:320,lastMonthCost:310,costPerUnit:.5,unitLabel:"/zone/mo",trend:[290,295,300,305,310,320],dailyCosts:[10,10,11,10,11,10,10,11,10,11,11,10,11,10,11,11,10,11,10,11,11,10,11,10,11,11,10,11,10,11],resources:[{id:"r25",name:"prod-hosted-zones",type:"Hosted Zone",cost:320,region:"global"}]}],N=[{id:"a1",severity:"critical",description:"EC2 spend spiked 42% over weekend â€” unscheduled batch job left running",resource:"analytics-batch (r5.4xlarge, us-east-1)",estimatedWaste:1840,recommendedAction:"terminate",detectedAt:"2026-02-20",resolved:!1},{id:"a2",severity:"high",description:"RDS snapshot retention set to 35 days â€” policy requires 7",resource:"prod-postgres-primary (us-east-1)",estimatedWaste:620,recommendedAction:"reserved",detectedAt:"2026-02-18",resolved:!1},{id:"a3",severity:"high",description:"CloudWatch log ingestion up 40% â€” verbose debug logging left on in prod",resource:"log-groups-prod (us-east-1)",estimatedWaste:380,recommendedAction:"right-size",detectedAt:"2026-02-21",resolved:!1},{id:"a4",severity:"medium",description:"4 idle NAT Gateways detected with <1% traffic utilization",resource:"nat-gw-staging-* (eu-west-1)",estimatedWaste:290,recommendedAction:"terminate",detectedAt:"2026-02-19",resolved:!1},{id:"a5",severity:"medium",description:"EKS node group over-provisioned â€” CPU utilization avg 12% across 6 nodes",resource:"prod-cluster-nodes (m5.xlarge x6)",estimatedWaste:1200,recommendedAction:"right-size",detectedAt:"2026-02-17",resolved:!1},{id:"a6",severity:"low",description:"S3 Intelligent-Tiering not enabled â€” 82% of objects are cold (>30 days unaccessed)",resource:"media-assets-prod (us-east-1)",estimatedWaste:420,recommendedAction:"right-size",detectedAt:"2026-02-15",resolved:!1}],h=[{id:"s1",type:"reserved",service:"EC2 Compute",description:"Convert prod-api-cluster to 1-year Reserved Instances (35% discount)",currentCost:8200,optimizedCost:5330,monthlySavings:2870,effort:"low",currentInstance:"On-Demand c5.2xlarge",recommendedInstance:"1yr RI c5.2xlarge"},{id:"s2",type:"reserved",service:"RDS Database",description:"Convert prod-postgres-primary to Reserved Instance",currentCost:5200,optimizedCost:3380,monthlySavings:1820,effort:"low",currentInstance:"On-Demand db.r5.2xlarge",recommendedInstance:"1yr RI db.r5.2xlarge"},{id:"s3",type:"reserved",service:"ElastiCache",description:"Convert session-cache-cluster to Reserved Nodes (35% discount)",currentCost:1440,optimizedCost:936,monthlySavings:504,effort:"low",currentInstance:"On-Demand cache.r6g.large",recommendedInstance:"1yr RI cache.r6g.large"},{id:"s4",type:"rightsizing",service:"EC2 Compute",description:"Downsize analytics-batch â€” avg CPU 18%, avg RAM 24% over 30 days",currentCost:3200,optimizedCost:1600,monthlySavings:1600,effort:"medium",currentInstance:"r5.4xlarge",recommendedInstance:"r5.2xlarge"},{id:"s5",type:"rightsizing",service:"EKS Kubernetes",description:"Scale EKS node group from 6 â†’ 4 nodes (avg cluster utilization 12%)",currentCost:4200,optimizedCost:2800,monthlySavings:1400,effort:"medium",currentInstance:"6Ã— m5.xlarge",recommendedInstance:"4Ã— m5.xlarge"},{id:"s6",type:"rightsizing",service:"RDS Database",description:"Downsize analytics-aurora â€” avg CPU 8%, peak connections 12/100",currentCost:1840,optimizedCost:920,monthlySavings:920,effort:"medium",currentInstance:"db.r5.large",recommendedInstance:"db.t3.medium"},{id:"s7",type:"idle",service:"EC2 Compute",description:"staging-cluster has received zero traffic for 14 consecutive days",currentCost:1920,optimizedCost:0,monthlySavings:1920,effort:"low"},{id:"s8",type:"idle",service:"CloudFront CDN",description:"staging-cdn distribution â€” 0 requests in last 30 days",currentCost:720,optimizedCost:0,monthlySavings:720,effort:"low"},{id:"s9",type:"idle",service:"S3 Storage",description:"logs-archive last accessed 90+ days ago â€” migrate to Glacier Deep Archive",currentCost:890,optimizedCost:178,monthlySavings:712,effort:"low"}],y=["Sep","Oct","Nov","Dec","Jan","Feb"],b={Compute:"bg-indigo-500",Database:"bg-emerald-500",Storage:"bg-amber-500",Network:"bg-sky-500",Messaging:"bg-purple-500",Security:"bg-rose-500",Observability:"bg-orange-500"},f={reserved:"Reserved Instances",rightsizing:"Rightsizing",idle:"Idle Cleanup"};function x(s){return s>=1e3?"$"+(s/1e3).toFixed(1)+"k":"$"+s.toLocaleString()}function j(s,a){const n=(s-a)/a*100;return{pct:Math.abs(n),down:s<a}}function w({values:s,color:a="bg-indigo-500"}){const n=Math.max(...s);return e.jsx("div",{className:"flex items-end gap-px h-6",children:s.map((c,o)=>e.jsx("div",{className:l("w-2 rounded-sm opacity-75",a),style:{height:`${Math.max(8,c/n*100)}%`}},o))})}function S({value:s,max:a,color:n="bg-indigo-500"}){const c=Math.min(100,s/a*100);return e.jsx("div",{className:"h-1.5 bg-zinc-800 rounded-full overflow-hidden flex-1",children:e.jsx("div",{className:l("h-full rounded-full",n),style:{width:`${c}%`}})})}function A({data:s,labels:a,colorFn:n}){const c=Math.max(...s);return e.jsx("div",{className:"flex items-end gap-2",style:{height:"120px"},children:s.map((o,i)=>e.jsxs("div",{className:"flex flex-col items-center gap-1 flex-1 h-full justify-end",children:[e.jsx("div",{className:l("w-full rounded-t",n?n(i):"bg-indigo-500"),style:{height:`${Math.max(4,o/c*96)}px`}}),e.jsx("span",{className:"text-xs text-zinc-500 shrink-0",children:a[i]})]},i))})}function M({values:s}){const a=Math.max(...s);return e.jsx("div",{className:"flex items-end gap-px",style:{height:"80px"},children:s.map((n,c)=>e.jsx("div",{title:`Day ${c+1}: $${n}`,className:"flex-1 rounded-t-sm bg-indigo-500 opacity-70 hover:opacity-100 transition-opacity cursor-default",style:{height:`${Math.max(4,n/a*76)}px`}},c))})}function C({severity:s}){const a={critical:"bg-rose-500/20 text-rose-400 border-rose-500/30",high:"bg-amber-500/20 text-amber-400 border-amber-500/30",medium:"bg-yellow-500/20 text-yellow-400 border-yellow-600/30",low:"bg-zinc-700/40 text-zinc-400 border-zinc-700"};return e.jsx("span",{className:l("px-2 py-0.5 text-xs rounded-full border font-semibold capitalize",a[s]),children:s})}function k({effort:s}){const a={low:"bg-emerald-500/10 text-emerald-400",medium:"bg-amber-500/10 text-amber-400",high:"bg-rose-500/10 text-rose-400"};return e.jsxs("span",{className:l("text-xs px-1.5 py-0.5 rounded font-medium capitalize",a[s]),children:[s," effort"]})}function I(){const s=p.reduce((r,m)=>r+m.currentCost,0),a=p.reduce((r,m)=>r+m.lastMonthCost,0),n=Math.round(s*1.095),{pct:c,down:o}=j(s,a),i=y.map((r,m)=>p.reduce((v,z)=>v+(z.trend[m]??0),0)),d=[...p].sort((r,m)=>m.currentCost-r.currentCost).slice(0,5),g=Array.from(new Set(p.map(r=>r.category))),t=[{label:"Current Month",value:x(s),sub:"as of Feb 22",cls:"text-white"},{label:"Last Month",value:x(a),sub:"January 2026",cls:"text-zinc-300"},{label:"MoM Change",value:`${o?"â†“":"â†‘"} ${c.toFixed(1)}%`,sub:o?"Spend decreased":"Spend increased",cls:o?"text-emerald-400":"text-rose-400"},{label:"Forecast (Feb)",value:x(n),sub:"YoY +18.4%",cls:"text-amber-400"}];return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:t.map(r=>e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl p-4",children:[e.jsx("p",{className:"text-xs text-zinc-500 mb-1",children:r.label}),e.jsx("p",{className:l("text-2xl font-bold",r.cls),children:r.value}),e.jsx("p",{className:"text-xs text-zinc-500 mt-1",children:r.sub})]},r.label))}),e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl p-5",children:[e.jsx("h3",{className:"text-sm font-semibold text-white mb-5",children:"6-Month Cost Trend"}),e.jsx(A,{data:i,labels:y,colorFn:r=>r===y.length-1?"bg-indigo-500":"bg-indigo-900"}),e.jsx("div",{className:"mt-4 flex flex-wrap gap-3 border-t border-zinc-800 pt-4",children:g.map(r=>e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:l("w-2.5 h-2.5 rounded-sm",b[r]??"bg-zinc-600")}),e.jsx("span",{className:"text-xs text-zinc-400",children:r})]},r))})]}),e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl p-5",children:[e.jsx("h3",{className:"text-sm font-semibold text-white mb-4",children:"Top 5 Cost Drivers"}),e.jsx("div",{className:"space-y-3",children:d.map((r,m)=>{const v=(r.currentCost/s*100).toFixed(1);return e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-xs text-zinc-600 w-4 shrink-0",children:m+1}),e.jsx("span",{className:"text-sm text-white w-36 shrink-0 truncate",children:r.name}),e.jsx(S,{value:r.currentCost,max:d[0].currentCost,color:b[r.category]??"bg-indigo-500"}),e.jsx("span",{className:"text-sm font-semibold text-white w-16 text-right shrink-0",children:x(r.currentCost)}),e.jsxs("span",{className:"text-xs text-zinc-500 w-12 text-right shrink-0",children:[v,"%"]})]},r.id)})})]})]})}function D(){const[s,a]=u.useState(""),[n,c]=u.useState(null),o=p.filter(i=>i.name.toLowerCase().includes(s.toLowerCase())||i.category.toLowerCase().includes(s.toLowerCase()));if(n){const i=j(n.currentCost,n.lastMonthCost);return e.jsxs("div",{className:"space-y-5",children:[e.jsx("button",{onClick:()=>c(null),className:"text-sm text-indigo-400 hover:text-indigo-300 transition-colors",children:"â† Back to services"}),e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl p-5",children:[e.jsxs("div",{className:"flex items-start justify-between mb-5",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-white",children:n.name}),e.jsx("span",{className:"text-xs text-zinc-500",children:n.category})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-2xl font-bold text-white",children:x(n.currentCost)}),e.jsxs("p",{className:l("text-xs mt-0.5",i.down?"text-emerald-400":"text-rose-400"),children:[i.down?"â†“":"â†‘"," ",i.pct.toFixed(1),"% vs last month"]})]})]}),e.jsx("p",{className:"text-xs font-medium text-zinc-400 mb-3 uppercase tracking-wider",children:"Daily Cost â€” Last 30 Days"}),e.jsx(M,{values:n.dailyCosts}),e.jsxs("div",{className:"flex justify-between mt-1",children:[e.jsx("span",{className:"text-xs text-zinc-600",children:"Feb 1"}),e.jsx("span",{className:"text-xs text-zinc-600",children:"Feb 22"})]})]}),e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl p-5",children:[e.jsx("p",{className:"text-sm font-semibold text-white mb-3",children:"Resource Breakdown"}),e.jsx("div",{className:"space-y-2",children:n.resources.map(d=>e.jsxs("div",{className:"flex items-center justify-between bg-zinc-800 rounded-lg px-4 py-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-white font-medium",children:d.name}),e.jsxs("p",{className:"text-xs text-zinc-500",children:[d.type," Â· ",d.region]})]}),e.jsx("span",{className:"text-sm font-semibold text-white",children:x(d.cost)})]},d.id))})]})]})}return e.jsxs("div",{className:"space-y-4",children:[e.jsx("input",{type:"text",placeholder:"Filter by service or category...",value:s,onChange:i=>a(i.target.value),className:"w-full bg-zinc-800 border border-zinc-700 rounded-lg px-3 py-2 text-sm text-white placeholder-zinc-500 focus:outline-none focus:border-indigo-500 transition-colors"}),e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl overflow-hidden",children:[e.jsxs("div",{className:"grid grid-cols-12 px-4 py-2.5 border-b border-zinc-800 text-xs font-medium text-zinc-500 uppercase tracking-wider",children:[e.jsx("span",{className:"col-span-3",children:"Service"}),e.jsx("span",{className:"col-span-2 text-right",children:"Cost"}),e.jsx("span",{className:"col-span-2 text-right",children:"MoM"}),e.jsx("span",{className:"col-span-3 text-right",children:"Per Unit"}),e.jsx("span",{className:"col-span-2 text-right",children:"Trend"})]}),o.map(i=>{const d=j(i.currentCost,i.lastMonthCost);return e.jsxs("button",{onClick:()=>c(i),className:"w-full grid grid-cols-12 px-4 py-3 border-b border-zinc-800/50 hover:bg-zinc-800/40 text-left transition-colors last:border-0",children:[e.jsxs("div",{className:"col-span-3",children:[e.jsx("p",{className:"text-sm font-medium text-white",children:i.name}),e.jsxs("div",{className:"flex items-center gap-1 mt-0.5",children:[e.jsx("div",{className:l("w-1.5 h-1.5 rounded-full",b[i.category]??"bg-zinc-500")}),e.jsx("span",{className:"text-xs text-zinc-500",children:i.category})]})]}),e.jsx("span",{className:"col-span-2 text-sm font-semibold text-white text-right self-center",children:x(i.currentCost)}),e.jsxs("span",{className:l("col-span-2 text-xs font-semibold text-right self-center",d.down?"text-emerald-400":"text-rose-400"),children:[d.down?"â†“":"â†‘",d.pct.toFixed(1),"%"]}),e.jsxs("span",{className:"col-span-3 text-xs text-zinc-400 text-right self-center font-mono",children:["$",i.costPerUnit.toFixed(4),i.unitLabel]}),e.jsx("div",{className:"col-span-2 self-center flex justify-end",children:e.jsx(w,{values:i.trend,color:b[i.category]??"bg-indigo-500"})})]},i.id)}),o.length===0&&e.jsx("p",{className:"text-sm text-zinc-500 text-center py-10",children:"No services match your filter."})]})]})}function R(){const[s,a]=u.useState([]),n=t=>a(r=>[...r,t]),c=t=>a(r=>r.filter(m=>m!==t)),o=N.filter(t=>!s.includes(t.id)),i=N.filter(t=>s.includes(t.id)),d=o.reduce((t,r)=>t+r.estimatedWaste,0),g={terminate:"text-rose-400","right-size":"text-amber-400",reserved:"text-indigo-400"};return e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"flex items-center justify-between bg-rose-500/10 border border-rose-500/20 rounded-xl px-5 py-4",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-semibold text-rose-400",children:[o.length," Active Anomalies"]}),e.jsxs("p",{className:"text-xs text-zinc-400 mt-0.5",children:["Est. waste:"," ",e.jsxs("span",{className:"font-semibold text-rose-400",children:[x(d),"/mo"]})]})]}),e.jsx("div",{className:"w-10 h-10 bg-rose-500/20 rounded-full flex items-center justify-center text-xl",children:"âš "})]}),o.length===0&&e.jsx("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl p-10 text-center",children:e.jsx("p",{className:"text-zinc-500 text-sm",children:"All anomalies resolved ðŸŽ‰"})}),o.map(t=>e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl p-5",children:[e.jsxs("div",{className:"flex items-start justify-between gap-3 mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx(C,{severity:t.severity}),e.jsx("span",{className:"text-xs text-zinc-500",children:t.detectedAt})]}),e.jsx("button",{onClick:()=>n(t.id),className:"text-xs bg-zinc-800 hover:bg-zinc-700 text-zinc-400 hover:text-white px-3 py-1.5 rounded-lg transition-colors shrink-0 font-medium",children:"Mark resolved"})]}),e.jsx("p",{className:"text-sm font-semibold text-white mb-1",children:t.description}),e.jsxs("p",{className:"text-xs text-zinc-500 mb-4",children:["Resource:"," ",e.jsx("span",{className:"text-zinc-300 font-mono",children:t.resource})]}),e.jsxs("div",{className:"flex items-center justify-between bg-zinc-800 rounded-lg px-4 py-2.5",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-zinc-500 mb-0.5",children:"Estimated waste"}),e.jsxs("p",{className:"text-sm font-bold text-rose-400",children:[x(t.estimatedWaste),"/mo"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-xs text-zinc-500 mb-0.5",children:"Recommended action"}),e.jsx("p",{className:l("text-sm font-semibold capitalize",g[t.recommendedAction]??"text-zinc-400"),children:t.recommendedAction})]})]})]},t.id)),i.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{className:"text-xs text-zinc-500 font-semibold uppercase tracking-wider px-1",children:["Resolved (",i.length,")"]}),i.map(t=>e.jsx("div",{className:"bg-zinc-900/50 border border-zinc-800/50 rounded-xl px-5 py-3 opacity-50 hover:opacity-70 transition-opacity",children:e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[e.jsx(C,{severity:t.severity}),e.jsx("p",{className:"text-sm text-zinc-400 truncate",children:t.description})]}),e.jsx("button",{onClick:()=>c(t.id),className:"text-xs text-zinc-500 hover:text-zinc-300 transition-colors shrink-0",children:"Reopen"})]})},t.id))]})]})}function L(){const[s,a]=u.useState("all"),n=h.reduce((t,r)=>t+r.monthlySavings,0),c={reserved:h.filter(t=>t.type==="reserved").reduce((t,r)=>t+r.monthlySavings,0),rightsizing:h.filter(t=>t.type==="rightsizing").reduce((t,r)=>t+r.monthlySavings,0),idle:h.filter(t=>t.type==="idle").reduce((t,r)=>t+r.monthlySavings,0)},o={reserved:"text-indigo-400",rightsizing:"text-amber-400",idle:"text-rose-400"},i={reserved:"bg-indigo-600 text-white",rightsizing:"bg-amber-600 text-white",idle:"bg-rose-600 text-white"},d=s==="all"?h:h.filter(t=>t.type===s),g=["all","reserved","rightsizing","idle"];return e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-emerald-500/10 border border-emerald-500/20 rounded-xl p-6 text-center",children:[e.jsx("p",{className:"text-sm text-zinc-400 mb-1",children:"Total Potential Monthly Savings"}),e.jsx("p",{className:"text-5xl font-bold text-emerald-400",children:x(n)}),e.jsxs("p",{className:"text-xs text-zinc-500 mt-2",children:[x(n*12),"/yr Â· ",h.length," recommendations"]})]}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:["reserved","rightsizing","idle"].map(t=>e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl p-4 text-center",children:[e.jsx("p",{className:"text-xs text-zinc-500 mb-1",children:f[t]}),e.jsx("p",{className:l("text-xl font-bold",o[t]),children:x(c[t])}),e.jsx("p",{className:"text-xs text-zinc-600",children:"/mo"})]},t))}),e.jsx("div",{className:"flex gap-2 flex-wrap",children:g.map(t=>e.jsx("button",{onClick:()=>a(t),className:l("px-3 py-1.5 text-xs rounded-lg font-medium transition-colors capitalize",s===t?t==="all"?"bg-indigo-600 text-white":i[t]:"bg-zinc-800 text-zinc-400 hover:text-white hover:bg-zinc-700"),children:t==="all"?"All":f[t]},t))}),e.jsx("div",{className:"space-y-3",children:d.map(t=>e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl p-5",children:[e.jsxs("div",{className:"flex items-start justify-between gap-4 mb-3",children:[e.jsxs("div",{className:"min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap mb-1",children:[e.jsx("span",{className:l("text-xs font-semibold uppercase tracking-wide",o[t.type]),children:f[t.type]}),e.jsx("span",{className:"text-zinc-600 text-xs",children:"Â·"}),e.jsx("span",{className:"text-xs text-zinc-500",children:t.service}),e.jsx(k,{effort:t.effort})]}),e.jsx("p",{className:"text-sm font-semibold text-white",children:t.description})]}),e.jsxs("div",{className:"text-right shrink-0",children:[e.jsx("p",{className:"text-xl font-bold text-emerald-400",children:x(t.monthlySavings)}),e.jsx("p",{className:"text-xs text-zinc-500",children:"saved/mo"})]})]}),t.currentInstance&&t.recommendedInstance&&e.jsxs("div",{className:"flex items-stretch gap-2 bg-zinc-800 rounded-lg p-3 mb-3",children:[e.jsxs("div",{className:"flex-1 text-center",children:[e.jsx("p",{className:"text-xs text-zinc-500 mb-1",children:"Current"}),e.jsx("p",{className:"text-xs font-mono text-zinc-300",children:t.currentInstance}),e.jsxs("p",{className:"text-sm font-bold text-white mt-1",children:[x(t.currentCost),"/mo"]})]}),e.jsx("div",{className:"flex items-center text-zinc-600 text-sm",children:"â†’"}),e.jsxs("div",{className:"flex-1 text-center",children:[e.jsx("p",{className:"text-xs text-zinc-500 mb-1",children:"Recommended"}),e.jsx("p",{className:"text-xs font-mono text-zinc-300",children:t.recommendedInstance}),e.jsxs("p",{className:"text-sm font-bold text-emerald-400 mt-1",children:[x(t.optimizedCost),"/mo"]})]})]}),e.jsx("button",{className:"w-full bg-indigo-600 hover:bg-indigo-500 text-white text-xs font-semibold py-2 rounded-lg transition-colors",children:"Apply Recommendation"})]},t.id))})]})}function E(){const[s,a]=u.useState("overview"),n=[{id:"overview",label:"Overview"},{id:"services",label:"By Service"},{id:"anomalies",label:"Anomalies",badge:"6",badgeCls:"bg-rose-500"},{id:"savings",label:"Savings",badge:"9",badgeCls:"bg-emerald-600"}];return e.jsx("div",{className:"min-h-screen bg-zinc-950 text-white p-4 md:p-8",children:e.jsxs("div",{className:"max-w-5xl mx-auto",children:[e.jsxs("div",{className:"mb-6 flex items-end justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Cost Breakdown Analyzer"}),e.jsx("p",{className:"text-sm text-zinc-500 mt-0.5",children:"AWS Â· All Regions Â· February 2026"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-xs text-zinc-500",children:"Data source"}),e.jsx("p",{className:"text-xs font-mono text-zinc-400",children:"http://127.0.0.1:8080/api/costs"})]})]}),e.jsx("div",{className:"flex gap-1 bg-zinc-900 border border-zinc-800 rounded-xl p-1 mb-6",children:n.map(c=>e.jsxs("button",{onClick:()=>a(c.id),className:l("flex-1 flex items-center justify-center gap-1.5 py-2 px-2 text-sm font-medium rounded-lg transition-colors",s===c.id?"bg-indigo-600 text-white":"text-zinc-400 hover:text-white hover:bg-zinc-800"),children:[c.label,c.badge&&e.jsx("span",{className:l("text-xs font-bold text-white px-1.5 py-0.5 rounded-full leading-none",c.badgeCls),children:c.badge})]},c.id))}),s==="overview"&&e.jsx(I,{}),s==="services"&&e.jsx(D,{}),s==="anomalies"&&e.jsx(R,{}),s==="savings"&&e.jsx(L,{})]})})}export{E as default};
