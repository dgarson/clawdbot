import{r as n,j as e,c as u}from"./index-CCNFd_0f.js";const w=[{id:"sessions",icon:"ðŸ’¬",title:"Sessions",description:"Full conversation history",stats:"14 sessions Â· ~4.2 MB",formats:["json","csv"],supportsDateRange:!0,lastExported:"2d ago"},{id:"agent-configs",icon:"ðŸ¤–",title:"Agent Configs",description:"All agent YAML configs",stats:"12 agents Â· ~128 KB",formats:["zip"],supportsDateRange:!1,lastExported:"1w ago"},{id:"audit-log",icon:"ðŸ“‹",title:"Audit Log",description:"Compliance event log",stats:"847 events Â· ~2.1 MB",formats:["csv"],supportsDateRange:!0,lastExported:"today"},{id:"usage-data",icon:"ðŸ“Š",title:"Usage Data",description:"Token & cost breakdown",stats:"31 days tracked Â· ~890 KB",formats:["csv","json"],supportsDateRange:!0,lastExported:"3d ago"},{id:"workspace-files",icon:"ðŸ“",title:"Workspace Files",description:"Full workspace backup",stats:"2.3 GB total",formats:["zip"],supportsDateRange:!1,lastExported:"5d ago"},{id:"full-backup",icon:"ðŸ—„ï¸",title:"Everything (Full Backup)",description:"All of the above as a single archive",stats:"~2.5 GB estimated",formats:["zip"],supportsDateRange:!1,lastExported:"1w ago"}],S=[{id:"sched-1",name:"Daily Audit Log â†’ S3",exportType:"Audit Log",frequency:"daily",format:"csv",destination:"s3",enabled:!0,lastRun:"Today, 00:00 UTC",nextRun:"Tomorrow, 00:00 UTC"},{id:"sched-2",name:"Weekly Full Backup â†’ Local",exportType:"Full Backup",frequency:"weekly",format:"zip",destination:"local",enabled:!0,lastRun:"Feb 16, 2026",nextRun:"Feb 23, 2026"}],T=[{id:"exp-1",exportType:"Audit Log",format:"csv",size:"2.1 MB",status:"completed",timestamp:"Feb 22, 2026 00:00",downloadable:!0},{id:"exp-2",exportType:"Sessions",format:"json",size:"4.2 MB",status:"completed",timestamp:"Feb 20, 2026 14:32",downloadable:!0},{id:"exp-3",exportType:"Full Backup",format:"zip",size:"2.4 GB",status:"completed",timestamp:"Feb 16, 2026 00:00",downloadable:!0},{id:"exp-4",exportType:"Usage Data",format:"csv",size:"890 KB",status:"failed",timestamp:"Feb 19, 2026 11:05",downloadable:!1},{id:"exp-5",exportType:"Agent Configs",format:"zip",size:"128 KB",status:"completed",timestamp:"Feb 15, 2026 09:20",downloadable:!0},{id:"exp-6",exportType:"Workspace Files",format:"zip",size:"â€”",status:"in-progress",timestamp:"Feb 22, 2026 01:10",downloadable:!1}],z={"7d":"Last 7 days","30d":"Last 30 days","90d":"Last 90 days",all:"All time"},k={json:"JSON",csv:"CSV",zip:"ZIP"},R={daily:"Daily",weekly:"Weekly",monthly:"Monthly"};function C(s){switch(s){case"completed":return"bg-emerald-400/15 text-emerald-400 border-emerald-400/25";case"failed":return"bg-rose-400/15 text-rose-400 border-rose-400/25";case"in-progress":return"bg-indigo-400/15 text-indigo-400 border-indigo-400/25"}}function F(s){switch(s){case"completed":return"Completed";case"failed":return"Failed";case"in-progress":return"In Progress"}}function D({config:s,onExport:c,progress:d}){const[o,p]=n.useState(s.formats[0]),[x,m]=n.useState("30d"),l=d!==null;return e.jsxs("div",{className:u("rounded-xl border border-zinc-800 bg-zinc-900 p-5","flex flex-col gap-3 transition-colors","hover:border-zinc-700"),children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-2xl",role:"img","aria-label":s.title,children:s.icon}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h3",{className:"text-sm font-semibold text-white",children:s.title}),e.jsx("p",{className:"text-xs text-zinc-400",children:s.description})]})]}),e.jsx("p",{className:"text-xs text-zinc-500",children:s.stats}),e.jsxs("fieldset",{children:[e.jsxs("legend",{className:"sr-only",children:["Export format for ",s.title]}),e.jsx("div",{className:"flex gap-1.5",children:s.formats.map(a=>e.jsx("button",{type:"button",onClick:()=>p(a),"aria-pressed":o===a,className:u("rounded-md px-2.5 py-1 text-xs font-medium transition-colors","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-500 focus-visible:ring-offset-2 focus-visible:ring-offset-zinc-900",o===a?"bg-indigo-500/20 text-indigo-400 border border-indigo-500/40":"bg-zinc-800 text-zinc-400 border border-zinc-700 hover:border-zinc-600 hover:text-zinc-300"),children:k[a]},a))})]}),s.supportsDateRange&&e.jsxs("fieldset",{children:[e.jsxs("legend",{className:"sr-only",children:["Date range for ",s.title," export"]}),e.jsx("div",{className:"flex flex-wrap gap-1.5",children:Object.keys(z).map(a=>e.jsx("button",{type:"button",onClick:()=>m(a),"aria-pressed":x===a,className:u("rounded-md px-2 py-0.5 text-xs transition-colors","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-500 focus-visible:ring-offset-2 focus-visible:ring-offset-zinc-900",x===a?"bg-zinc-700 text-white":"text-zinc-500 hover:text-zinc-300"),children:z[a]},a))})]}),l&&e.jsxs("div",{className:"w-full",role:"progressbar","aria-valuenow":Math.round(d),"aria-valuemin":0,"aria-valuemax":100,"aria-label":`Exporting ${s.title}`,children:[e.jsx("div",{className:"h-1.5 w-full overflow-hidden rounded-full bg-zinc-800",children:e.jsx("div",{className:"h-full rounded-full bg-indigo-500 transition-all duration-200 ease-out",style:{width:`${d}%`}})}),e.jsxs("p",{className:"mt-1 text-xs text-indigo-400",children:[Math.round(d),"% â€” Exportingâ€¦"]})]}),e.jsxs("div",{className:"mt-auto flex items-center justify-between gap-2 pt-1",children:[e.jsx("button",{type:"button",disabled:l,onClick:()=>c(s.id,o,x),className:u("rounded-lg px-3.5 py-1.5 text-xs font-semibold transition-colors","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-500 focus-visible:ring-offset-2 focus-visible:ring-offset-zinc-900",l?"cursor-not-allowed bg-zinc-800 text-zinc-500":"bg-indigo-600 text-white hover:bg-indigo-500 active:bg-indigo-700"),children:l?"Exportingâ€¦":"Export Now"}),e.jsxs("span",{className:"text-xs text-zinc-600",children:["Last: ",s.lastExported]})]})]})}function A({open:s,onClose:c,onSave:d}){const[o,p]=n.useState(""),[x,m]=n.useState("Audit Log"),[l,a]=n.useState("daily"),[g,y]=n.useState("csv"),[t,h]=n.useState("local"),r=n.useRef(null);n.useEffect(()=>{const i=r.current;i&&(s?i.showModal():i.close())},[s]);const j=n.useCallback(i=>{i.preventDefault(),o.trim()&&(d({name:o.trim(),exportType:x,frequency:l,format:g,destination:t}),p(""),c())},[o,x,l,g,t,d,c]);return s?e.jsx("dialog",{ref:r,onClose:c,className:"fixed inset-0 m-auto w-full max-w-md rounded-2xl border border-zinc-800 bg-zinc-900 p-0 text-white shadow-2xl backdrop:bg-black/60","aria-labelledby":"schedule-modal-title",children:e.jsxs("form",{onSubmit:j,className:"flex flex-col gap-4 p-6",children:[e.jsx("h2",{id:"schedule-modal-title",className:"text-base font-semibold text-white",children:"Add Scheduled Export"}),e.jsxs("label",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-xs font-medium text-zinc-400",children:"Name"}),e.jsx("input",{type:"text",required:!0,value:o,onChange:i=>p(i.target.value),placeholder:"e.g. Weekly Sessions Backup",className:"rounded-lg border border-zinc-700 bg-zinc-800 px-3 py-2 text-sm text-white placeholder:text-zinc-600 focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500"})]}),e.jsxs("label",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-xs font-medium text-zinc-400",children:"Export Type"}),e.jsx("select",{value:x,onChange:i=>m(i.target.value),className:"rounded-lg border border-zinc-700 bg-zinc-800 px-3 py-2 text-sm text-white focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500",children:w.map(i=>e.jsx("option",{value:i.title,children:i.title},i.id))})]}),e.jsxs("label",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-xs font-medium text-zinc-400",children:"Frequency"}),e.jsxs("select",{value:l,onChange:i=>a(i.target.value),className:"rounded-lg border border-zinc-700 bg-zinc-800 px-3 py-2 text-sm text-white focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500",children:[e.jsx("option",{value:"daily",children:"Daily"}),e.jsx("option",{value:"weekly",children:"Weekly"}),e.jsx("option",{value:"monthly",children:"Monthly"})]})]}),e.jsxs("label",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-xs font-medium text-zinc-400",children:"Format"}),e.jsxs("select",{value:g,onChange:i=>y(i.target.value),className:"rounded-lg border border-zinc-700 bg-zinc-800 px-3 py-2 text-sm text-white focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500",children:[e.jsx("option",{value:"json",children:"JSON"}),e.jsx("option",{value:"csv",children:"CSV"}),e.jsx("option",{value:"zip",children:"ZIP"})]})]}),e.jsxs("label",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-xs font-medium text-zinc-400",children:"Destination"}),e.jsxs("select",{value:t,onChange:i=>h(i.target.value),className:"rounded-lg border border-zinc-700 bg-zinc-800 px-3 py-2 text-sm text-white focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500",children:[e.jsx("option",{value:"local",children:"Local Storage"}),e.jsx("option",{value:"s3",children:"S3 (coming soon)"})]})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[e.jsx("button",{type:"button",onClick:c,className:"rounded-lg border border-zinc-700 bg-zinc-800 px-4 py-2 text-sm text-zinc-300 transition-colors hover:bg-zinc-750 hover:text-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-500",children:"Cancel"}),e.jsx("button",{type:"submit",className:"rounded-lg bg-indigo-600 px-4 py-2 text-sm font-semibold text-white transition-colors hover:bg-indigo-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-500",children:"Save Schedule"})]})]})}):null}function B(){const[s,c]=n.useState(S),[d]=n.useState(T),[o,p]=n.useState(new Map),[x,m]=n.useState(!1),l=n.useRef(new Map);n.useEffect(()=>()=>{l.current.forEach(t=>clearInterval(t))},[]);const a=n.useCallback((t,h,r)=>{p(b=>new Map(b).set(t,0));const j=Date.now(),i=2e3,v=window.setInterval(()=>{const b=Date.now()-j,N=Math.min(b/i*100,100);p(E=>{const f=new Map(E);return N>=100?(f.delete(t),f):(f.set(t,N),f)}),b>=i&&(clearInterval(v),l.current.delete(t))},50);l.current.set(t,v)},[]),g=n.useCallback(t=>{c(h=>h.map(r=>r.id===t?{...r,enabled:!r.enabled}:r))},[]),y=n.useCallback(t=>{const h={...t,id:`sched-${Date.now()}`,enabled:!0,lastRun:"â€”",nextRun:"Pending"};c(r=>[...r,h])},[]);return e.jsxs("div",{className:"min-h-screen bg-zinc-950 text-white",children:[e.jsxs("div",{className:"mx-auto max-w-6xl px-6 py-8",children:[e.jsxs("header",{className:"mb-8",children:[e.jsx("h1",{className:"text-2xl font-bold tracking-tight text-white",children:"Data Export Manager"}),e.jsx("p",{className:"mt-1 text-sm text-zinc-400",children:"Back up your data, schedule automatic exports, and download past archives."})]}),e.jsxs("section",{"aria-labelledby":"export-types-heading",className:"mb-10",children:[e.jsx("h2",{id:"export-types-heading",className:"mb-4 text-lg font-semibold text-white",children:"Export Types"}),e.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:w.map(t=>e.jsx(D,{config:t,onExport:a,progress:o.get(t.id)??null},t.id))})]}),e.jsxs("section",{"aria-labelledby":"scheduled-heading",className:"mb-10",children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsx("h2",{id:"scheduled-heading",className:"text-lg font-semibold text-white",children:"Scheduled Exports"}),e.jsx("button",{type:"button",onClick:()=>m(!0),className:"rounded-lg bg-indigo-600 px-3.5 py-1.5 text-xs font-semibold text-white transition-colors hover:bg-indigo-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-500 focus-visible:ring-offset-2 focus-visible:ring-offset-zinc-950",children:"+ Add Schedule"})]}),e.jsx("div",{className:"overflow-hidden rounded-xl border border-zinc-800",children:e.jsxs("table",{className:"w-full text-left text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-zinc-800 bg-zinc-900/60",children:[e.jsx("th",{scope:"col",className:"px-4 py-3 text-xs font-medium uppercase tracking-wider text-zinc-500",children:"Name"}),e.jsx("th",{scope:"col",className:"px-4 py-3 text-xs font-medium uppercase tracking-wider text-zinc-500",children:"Type"}),e.jsx("th",{scope:"col",className:"px-4 py-3 text-xs font-medium uppercase tracking-wider text-zinc-500",children:"Frequency"}),e.jsx("th",{scope:"col",className:"px-4 py-3 text-xs font-medium uppercase tracking-wider text-zinc-500",children:"Last Run"}),e.jsx("th",{scope:"col",className:"px-4 py-3 text-xs font-medium uppercase tracking-wider text-zinc-500",children:"Next Run"}),e.jsx("th",{scope:"col",className:"px-4 py-3 text-xs font-medium uppercase tracking-wider text-zinc-500",children:"Enabled"})]})}),e.jsxs("tbody",{children:[s.map(t=>e.jsxs("tr",{className:"border-b border-zinc-800/60 last:border-0",children:[e.jsx("td",{className:"px-4 py-3 font-medium text-white",children:t.name}),e.jsx("td",{className:"px-4 py-3 text-zinc-400",children:t.exportType}),e.jsx("td",{className:"px-4 py-3 text-zinc-400",children:R[t.frequency]}),e.jsx("td",{className:"px-4 py-3 text-zinc-500",children:t.lastRun}),e.jsx("td",{className:"px-4 py-3 text-zinc-500",children:t.nextRun}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("button",{type:"button",role:"switch","aria-checked":t.enabled,"aria-label":`Toggle ${t.name}`,onClick:()=>g(t.id),className:u("relative inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full transition-colors","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-500 focus-visible:ring-offset-2 focus-visible:ring-offset-zinc-950",t.enabled?"bg-indigo-600":"bg-zinc-700"),children:e.jsx("span",{className:u("pointer-events-none block h-3.5 w-3.5 rounded-full bg-white shadow-sm transition-transform",t.enabled?"translate-x-[18px]":"translate-x-[3px]")})})})]},t.id)),s.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"px-4 py-8 text-center text-sm text-zinc-600",children:"No scheduled exports yet."})})]})]})})]}),e.jsxs("section",{"aria-labelledby":"recent-heading",children:[e.jsx("h2",{id:"recent-heading",className:"mb-4 text-lg font-semibold text-white",children:"Recent Exports"}),e.jsx("div",{className:"overflow-hidden rounded-xl border border-zinc-800",children:e.jsxs("table",{className:"w-full text-left text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-zinc-800 bg-zinc-900/60",children:[e.jsx("th",{scope:"col",className:"px-4 py-3 text-xs font-medium uppercase tracking-wider text-zinc-500",children:"Export Type"}),e.jsx("th",{scope:"col",className:"px-4 py-3 text-xs font-medium uppercase tracking-wider text-zinc-500",children:"Format"}),e.jsx("th",{scope:"col",className:"px-4 py-3 text-xs font-medium uppercase tracking-wider text-zinc-500",children:"Size"}),e.jsx("th",{scope:"col",className:"px-4 py-3 text-xs font-medium uppercase tracking-wider text-zinc-500",children:"Status"}),e.jsx("th",{scope:"col",className:"px-4 py-3 text-xs font-medium uppercase tracking-wider text-zinc-500",children:"Timestamp"}),e.jsx("th",{scope:"col",className:"px-4 py-3 text-xs font-medium uppercase tracking-wider text-zinc-500",children:e.jsx("span",{className:"sr-only",children:"Actions"})})]})}),e.jsx("tbody",{children:d.map(t=>e.jsxs("tr",{className:"border-b border-zinc-800/60 last:border-0",children:[e.jsx("td",{className:"px-4 py-3 font-medium text-white",children:t.exportType}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{className:"rounded bg-zinc-800 px-1.5 py-0.5 text-xs font-medium text-zinc-300",children:k[t.format]})}),e.jsx("td",{className:"px-4 py-3 text-zinc-400",children:t.size}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{className:u("inline-flex items-center rounded-full border px-2 py-0.5 text-xs font-medium",C(t.status)),children:F(t.status)})}),e.jsx("td",{className:"px-4 py-3 text-zinc-500",children:t.timestamp}),e.jsx("td",{className:"px-4 py-3 text-right",children:t.downloadable?e.jsx("button",{type:"button",className:"rounded-md bg-zinc-800 px-2.5 py-1 text-xs font-medium text-zinc-300 transition-colors hover:bg-zinc-700 hover:text-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-500","aria-label":`Download ${t.exportType} export from ${t.timestamp}`,children:"Download"}):e.jsx("span",{className:"text-xs text-zinc-700",children:"â€”"})})]},t.id))})]})})]})]}),e.jsx(A,{open:x,onClose:()=>m(!1),onSave:y})]})}export{B as default};
