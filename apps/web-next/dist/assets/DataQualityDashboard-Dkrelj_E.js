import{r as p,j as e,c as i}from"./index-kB-f6kHk.js";const y=82,j=[{name:"Completeness",score:91,trend:[{week:"W1",score:84},{week:"W2",score:86},{week:"W3",score:85},{week:"W4",score:88},{week:"W5",score:87},{week:"W6",score:90},{week:"W7",score:89},{week:"W8",score:91}]},{name:"Accuracy",score:87,trend:[{week:"W1",score:80},{week:"W2",score:82},{week:"W3",score:81},{week:"W4",score:84},{week:"W5",score:85},{week:"W6",score:86},{week:"W7",score:85},{week:"W8",score:87}]},{name:"Consistency",score:76,trend:[{week:"W1",score:70},{week:"W2",score:72},{week:"W3",score:71},{week:"W4",score:73},{week:"W5",score:74},{week:"W6",score:75},{week:"W7",score:74},{week:"W8",score:76}]},{name:"Timeliness",score:83,trend:[{week:"W1",score:78},{week:"W2",score:80},{week:"W3",score:79},{week:"W4",score:81},{week:"W5",score:82},{week:"W6",score:80},{week:"W7",score:82},{week:"W8",score:83}]},{name:"Validity",score:72,trend:[{week:"W1",score:65},{week:"W2",score:67},{week:"W3",score:68},{week:"W4",score:70},{week:"W5",score:69},{week:"W6",score:71},{week:"W7",score:70},{week:"W8",score:72}]}],r=[{id:"fc1",check:"null_field_ratio",description:"Null ratio in 'outcome' field exceeds 15% threshold",severity:"critical",source:"agent-logs",recommendedFix:"Add required field validation in agent output schema",timestamp:"2 min ago"},{id:"fc2",check:"schema_drift",description:"Schema version mismatch detected in recent writes",severity:"critical",source:"vector-store",recommendedFix:"Run migration script to align vector schema to v3.2",timestamp:"8 min ago"},{id:"fc3",check:"stale_records",description:"12% of records older than SLA window (48h)",severity:"warning",source:"session-records",recommendedFix:"Increase session ingestion pipeline throughput",timestamp:"14 min ago"},{id:"fc4",check:"duplicate_entries",description:"Duplicate billing entries found for 3 accounts",severity:"critical",source:"billing-data",recommendedFix:"Enable deduplication guard on billing write path",timestamp:"22 min ago"},{id:"fc5",check:"format_violation",description:"Timestamp format inconsistency across 5% of records",severity:"warning",source:"telemetry",recommendedFix:"Enforce ISO-8601 format at ingestion boundary",timestamp:"31 min ago"},{id:"fc6",check:"missing_index",description:"Config entries missing required 'version' index",severity:"warning",source:"config-store",recommendedFix:"Backfill version index for existing config entries",timestamp:"45 min ago"},{id:"fc7",check:"range_outlier",description:"Latency values outside expected range in 2% of spans",severity:"info",source:"telemetry",recommendedFix:"Review outlier spans — may indicate instrumentation bug",timestamp:"1h ago"},{id:"fc8",check:"audit_gap",description:"Minor gap in sequential audit IDs (3 missing)",severity:"info",source:"audit-trail",recommendedFix:"Check event bus delivery guarantees for audit topic",timestamp:"1h ago"},{id:"fc9",check:"encoding_mismatch",description:"UTF-8 encoding issues in 0.3% of model output records",severity:"info",source:"model-outputs",recommendedFix:"Add encoding normalization layer before storage",timestamp:"2h ago"}],b=[{id:"ds1",name:"agent-logs",recordCount:2847312,qualityScore:74,lastChecked:"2 min ago",status:"degraded",failedChecks:r.filter(s=>s.source==="agent-logs")},{id:"ds2",name:"session-records",recordCount:1203884,qualityScore:81,lastChecked:"5 min ago",status:"healthy",failedChecks:r.filter(s=>s.source==="session-records")},{id:"ds3",name:"vector-store",recordCount:948221,qualityScore:68,lastChecked:"3 min ago",status:"failing",failedChecks:r.filter(s=>s.source==="vector-store")},{id:"ds4",name:"model-outputs",recordCount:4112093,qualityScore:89,lastChecked:"1 min ago",status:"healthy",failedChecks:r.filter(s=>s.source==="model-outputs")},{id:"ds5",name:"billing-data",recordCount:312441,qualityScore:71,lastChecked:"8 min ago",status:"failing",failedChecks:r.filter(s=>s.source==="billing-data")},{id:"ds6",name:"audit-trail",recordCount:5887102,qualityScore:93,lastChecked:"1 min ago",status:"healthy",failedChecks:r.filter(s=>s.source==="audit-trail")},{id:"ds7",name:"config-store",recordCount:14832,qualityScore:78,lastChecked:"12 min ago",status:"degraded",failedChecks:r.filter(s=>s.source==="config-store")},{id:"ds8",name:"telemetry",recordCount:11439017,qualityScore:84,lastChecked:"30s ago",status:"healthy",failedChecks:r.filter(s=>s.source==="telemetry")}];function f(s){return s>=90?"bg-emerald-500":s>=75?"bg-indigo-500":s>=60?"bg-amber-500":"bg-red-500"}function g(s){return s>=90?"text-emerald-400":s>=75?"text-indigo-400":s>=60?"text-amber-400":"text-red-400"}function w(s){switch(s){case"healthy":return{label:"Healthy",classes:"bg-emerald-500/15 text-emerald-400 border-emerald-500/30"};case"degraded":return{label:"Degraded",classes:"bg-amber-500/15 text-amber-400 border-amber-500/30"};case"failing":return{label:"Failing",classes:"bg-red-500/15 text-red-400 border-red-500/30"}}}function v(s){switch(s){case"critical":return{label:"Critical",dot:"bg-red-400",classes:"text-red-400"};case"warning":return{label:"Warning",dot:"bg-amber-400",classes:"text-amber-400"};case"info":return{label:"Info",dot:"bg-sky-400",classes:"text-sky-400"}}}function N(s){return s>=1e6?`${(s/1e6).toFixed(1)}M`:s>=1e3?`${(s/1e3).toFixed(1)}K`:String(s)}const z=[{key:"all",label:"All"},{key:"critical",label:"Critical"},{key:"warning",label:"Warnings"},{key:"info",label:"Info"}];function C({trend:s}){const o=Math.max(...s.map(n=>n.score)),a=Math.min(...s.map(n=>n.score)),x=o-a||1,l=28;return e.jsx("div",{className:"flex items-end gap-px h-7",children:s.map((n,u)=>{const h=Math.max(4,(n.score-a)/x*l),t=u===s.length-1;return e.jsx("div",{className:i("w-1.5 rounded-sm transition-all",t?"bg-indigo-400":"bg-zinc-600"),style:{height:`${h}px`},title:`${n.week}: ${n.score}`},n.week)})})}function W({score:s}){const a=s/100*100;return e.jsxs("div",{className:"flex flex-col items-center justify-center gap-3",children:[e.jsxs("div",{className:"relative w-32 h-32 flex items-center justify-center",children:[e.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-zinc-800"}),e.jsx("div",{className:i("absolute inset-0 rounded-full border-4 transition-all duration-700",s>=90?"border-emerald-500":s>=75?"border-indigo-500":s>=60?"border-amber-500":"border-red-500"),style:{clipPath:`polygon(50% 50%, 50% 0%, ${s>=25?"100% 0%":`${50+s/25*50}% 0%`}${s>=25?`, 100% ${s>=50?"100%":`${(s-25)/25*100}%`}`:""}${s>=50?`, ${s>=75?"0%":`${100-(s-50)/25*100}%`} 100%`:""}${s>=75?`, 0% ${100-(s-75)/25*100}%`:""})`}}),e.jsx("div",{className:"absolute inset-2 rounded-full bg-zinc-950 flex items-center justify-center",children:e.jsx("span",{className:i("text-3xl font-bold tabular-nums",g(s)),children:s})})]}),e.jsx("div",{className:"text-xs text-zinc-400 font-medium uppercase tracking-wider",children:"Overall Quality"}),e.jsx("div",{className:"w-full max-w-[10rem] h-2 rounded-full bg-zinc-800 overflow-hidden",children:e.jsx("div",{className:i("h-full rounded-full transition-all duration-700",f(s)),style:{width:`${a}%`}})})]})}function F(){const[s,o]=p.useState(null),[a,x]=p.useState("all"),l=r.filter(t=>a==="all"?!0:t.severity===a),n=r.filter(t=>t.severity==="critical").length,u=r.filter(t=>t.severity==="warning").length,h=r.filter(t=>t.severity==="info").length;return e.jsx("div",{className:"min-h-screen bg-zinc-950 text-white p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Data Quality Dashboard"}),e.jsx("p",{className:"text-sm text-zinc-400 mt-1",children:"Monitor quality across agent outputs, pipelines, and stored records"})]}),e.jsxs("div",{className:"flex items-center gap-3 text-xs text-zinc-500",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500 animate-pulse"}),"Live monitoring"]}),e.jsx("span",{className:"text-zinc-700",children:"|"}),e.jsx("span",{children:"Last refresh: 30s ago"})]})]}),e.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[e.jsx("div",{className:"col-span-3 bg-zinc-900 border border-zinc-800 rounded-xl p-6 flex items-center justify-center",children:e.jsx(W,{score:y})}),e.jsxs("div",{className:"col-span-9 bg-zinc-900 border border-zinc-800 rounded-xl p-5",children:[e.jsx("h2",{className:"text-sm font-semibold text-zinc-300 mb-4",children:"Quality Dimensions"}),e.jsx("div",{className:"space-y-3",children:j.map(t=>e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:"text-sm text-zinc-300 w-28 shrink-0",children:t.name}),e.jsx("div",{className:"flex-1 h-2.5 rounded-full bg-zinc-800 overflow-hidden",children:e.jsx("div",{className:i("h-full rounded-full transition-all duration-500",f(t.score)),style:{width:`${t.score}%`}})}),e.jsx("span",{className:i("text-sm font-semibold tabular-nums w-10 text-right",g(t.score)),children:t.score}),e.jsx("div",{className:"w-20 shrink-0",children:e.jsx(C,{trend:t.trend})})]},t.name))})]})]}),e.jsx("div",{className:"grid grid-cols-4 gap-4",children:[{label:"Total Sources",value:String(b.length),accent:"text-white"},{label:"Critical Issues",value:String(n),accent:"text-red-400"},{label:"Warnings",value:String(u),accent:"text-amber-400"},{label:"Info Notices",value:String(h),accent:"text-sky-400"}].map(t=>e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl px-5 py-3 flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-zinc-400 font-medium",children:t.label}),e.jsx("span",{className:i("text-xl font-bold tabular-nums",t.accent),children:t.value})]},t.label))}),e.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[e.jsxs("div",{className:"col-span-7 bg-zinc-900 border border-zinc-800 rounded-xl overflow-hidden",children:[e.jsx("div",{className:"px-5 py-4 border-b border-zinc-800",children:e.jsx("h2",{className:"text-sm font-semibold text-zinc-300",children:"Data Sources"})}),e.jsx("div",{className:"divide-y divide-zinc-800/60",children:b.map(t=>{const c=w(t.status),m=s===t.id;return e.jsxs("div",{children:[e.jsxs("button",{type:"button",className:i("w-full text-left px-5 py-3 flex items-center gap-4 hover:bg-zinc-800/40 transition-colors cursor-pointer",m&&"bg-zinc-800/30"),onClick:()=>o(m?null:t.id),children:[e.jsx("span",{className:i("text-[10px] transition-transform duration-200 text-zinc-500",m&&"rotate-90"),children:"▶"}),e.jsx("span",{className:"text-sm text-zinc-200 font-mono w-36 shrink-0",children:t.name}),e.jsx("span",{className:"text-xs text-zinc-500 tabular-nums w-16 shrink-0 text-right",children:N(t.recordCount)}),e.jsx("div",{className:"flex-1 h-2 rounded-full bg-zinc-800 overflow-hidden",children:e.jsx("div",{className:i("h-full rounded-full transition-all",f(t.qualityScore)),style:{width:`${t.qualityScore}%`}})}),e.jsx("span",{className:i("text-xs font-semibold tabular-nums w-8 text-right",g(t.qualityScore)),children:t.qualityScore}),e.jsx("span",{className:"text-[11px] text-zinc-500 w-20 shrink-0 text-right",children:t.lastChecked}),e.jsx("span",{className:i("text-[11px] px-2 py-0.5 rounded-full border font-medium shrink-0",c.classes),children:c.label})]}),m&&e.jsx("div",{className:"px-5 pb-4 pt-1 pl-12 space-y-2 bg-zinc-800/15",children:t.failedChecks.length===0?e.jsx("p",{className:"text-xs text-zinc-500 italic",children:"No failed checks — all quality gates passing."}):t.failedChecks.map(d=>{const k=v(d.severity);return e.jsxs("div",{className:"flex items-start gap-3 text-xs",children:[e.jsx("div",{className:i("w-1.5 h-1.5 rounded-full mt-1.5 shrink-0",k.dot)}),e.jsxs("div",{className:"space-y-0.5",children:[e.jsx("div",{className:"text-zinc-200 font-medium font-mono",children:d.check}),e.jsx("div",{className:"text-zinc-400",children:d.description}),e.jsxs("div",{className:"text-zinc-500",children:["Fix: ",e.jsx("span",{className:"text-zinc-400",children:d.recommendedFix})]})]})]},d.id)})})]},t.id)})})]}),e.jsxs("div",{className:"col-span-5 bg-zinc-900 border border-zinc-800 rounded-xl overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"px-5 py-4 border-b border-zinc-800 flex items-center justify-between",children:[e.jsx("h2",{className:"text-sm font-semibold text-zinc-300",children:"Failed Checks"}),e.jsxs("span",{className:"text-xs text-zinc-500 tabular-nums",children:[l.length," issues"]})]}),e.jsx("div",{className:"flex gap-1 px-4 pt-3 pb-2",children:z.map(t=>e.jsx("button",{type:"button",onClick:()=>x(t.key),className:i("px-3 py-1 rounded-md text-xs font-medium transition-colors cursor-pointer",a===t.key?"bg-indigo-500/20 text-indigo-300 border border-indigo-500/30":"text-zinc-500 hover:text-zinc-300 hover:bg-zinc-800 border border-transparent"),children:t.label},t.key))}),e.jsx("div",{className:"flex-1 overflow-y-auto divide-y divide-zinc-800/50",children:l.length===0?e.jsx("div",{className:"p-6 text-center text-xs text-zinc-500 italic",children:"No issues match this filter."}):l.map(t=>{const c=v(t.severity);return e.jsxs("div",{className:"px-5 py-3 space-y-1.5 hover:bg-zinc-800/20 transition-colors",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:i("w-1.5 h-1.5 rounded-full shrink-0",c.dot)}),e.jsx("span",{className:i("text-[11px] font-semibold uppercase tracking-wide",c.classes),children:c.label}),e.jsx("span",{className:"text-[11px] text-zinc-600",children:"·"}),e.jsx("span",{className:"text-[11px] text-zinc-500 font-mono",children:t.source})]}),e.jsx("span",{className:"text-[10px] text-zinc-600",children:t.timestamp})]}),e.jsx("p",{className:"text-xs text-zinc-300 leading-relaxed",children:t.description}),e.jsxs("div",{className:"flex items-start gap-1.5",children:[e.jsx("span",{className:"text-[11px] text-indigo-400 font-medium shrink-0",children:"Fix →"}),e.jsx("span",{className:"text-[11px] text-zinc-400 leading-relaxed",children:t.recommendedFix})]})]},t.id)})})]})]})]})})}export{F as default};
