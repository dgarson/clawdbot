import{r as d,j as e,c as a}from"./index-BvekFnzL.js";const f=["production_main","analytics_dw","user_service_db","billing_v2"],g=[{id:"q1",sql:"SELECT * FROM orders WHERE user_id = ? AND status = 'pending' ORDER BY created_at DESC LIMIT 50",database:"production_main",table:"orders",p50:12.4,p95:145.2,p99:450.8,calls:15400,type:"SELECT",plan:{operation:"Limit",cost:450.2,rows:50,children:[{operation:"Sort",cost:450.1,rows:1200,children:[{operation:"Index Scan",table:"orders",cost:380.5,rows:1200}]}]},indexUsage:[{indexName:"idx_orders_user_status",scans:14500,reads:12e4}]},{id:"q2",sql:"UPDATE inventory SET stock_count = stock_count - 1 WHERE product_id = ? AND warehouse_id = ?",database:"production_main",table:"inventory",p50:8.1,p95:24.5,p99:89.2,calls:45e3,type:"UPDATE",plan:{operation:"Update",table:"inventory",cost:12.4,rows:1},indexUsage:[{indexName:"pk_inventory",scans:45e3,reads:45e3}]},{id:"q3",sql:"SELECT SUM(total_amount), category_id FROM sales_fact GROUP BY category_id",database:"analytics_dw",table:"sales_fact",p50:1240.5,p95:3500.2,p99:8900.1,calls:120,type:"SELECT",plan:{operation:"Hash Aggregate",cost:8500.5,rows:45,children:[{operation:"Seq Scan",table:"sales_fact",cost:6200.1,rows:85e4}]},indexUsage:[]},{id:"q4",sql:"INSERT INTO audit_logs (event_type, payload, user_id, created_at) VALUES (?, ?, ?, NOW())",database:"user_service_db",table:"audit_logs",p50:2.4,p95:12.8,p99:45.2,calls:85e4,type:"INSERT",plan:{operation:"Insert",table:"audit_logs",cost:.1,rows:1},indexUsage:[]},{id:"q5",sql:"DELETE FROM sessions WHERE expires_at < NOW()",database:"user_service_db",table:"sessions",p50:45.8,p95:890.4,p99:2300.5,calls:1440,type:"DELETE",plan:{operation:"Delete",table:"sessions",cost:2100,rows:5e3,children:[{operation:"Seq Scan",table:"sessions",cost:1800,rows:5e3}]},indexUsage:[]},{id:"q6",sql:"SELECT u.name, p.title FROM users u JOIN posts p ON u.id = p.author_id WHERE p.status = 'published'",database:"production_main",table:"posts",p50:65.2,p95:230.1,p99:560.4,calls:12e3,type:"SELECT",plan:{operation:"Hash Join",cost:500.5,rows:1e3,children:[{operation:"Seq Scan",table:"users",cost:120,rows:5e3},{operation:"Index Scan",table:"posts",cost:250,rows:1e3}]},indexUsage:[{indexName:"idx_posts_author",scans:12e3,reads:45e3}]}],j=[{name:"orders",database:"production_main",rows:125e4,size:"1.2 GB",indexHitRate:98.5,bloat:4.2,topQueries:["q1"]},{name:"inventory",database:"production_main",rows:45e3,size:"12 MB",indexHitRate:99.9,bloat:1.5,topQueries:["q2"]},{name:"sales_fact",database:"analytics_dw",rows:45e6,size:"156 GB",indexHitRate:45.2,bloat:.8,topQueries:["q3"]},{name:"audit_logs",database:"user_service_db",rows:89e6,size:"420 GB",indexHitRate:12.4,bloat:2.1,topQueries:["q4"]},{name:"sessions",database:"user_service_db",rows:12e4,size:"85 MB",indexHitRate:88.5,bloat:35.4,topQueries:["q5"]},{name:"posts",database:"production_main",rows:85e4,size:"850 MB",indexHitRate:94.1,bloat:8.5,topQueries:["q6"]},{name:"users",database:"production_main",rows:5e5,size:"120 MB",indexHitRate:99.2,bloat:3.2,topQueries:["q6"]},{name:"transactions",database:"billing_v2",rows:25e5,size:"4.5 GB",indexHitRate:97.8,bloat:5.6,topQueries:[]},{name:"invoices",database:"billing_v2",rows:12e5,size:"2.1 GB",indexHitRate:96.5,bloat:4.8,topQueries:[]},{name:"customers",database:"billing_v2",rows:45e4,size:"95 MB",indexHitRate:99.5,bloat:2.4,topQueries:[]}],N=Array.from({length:24}).map((n,c)=>({hour:c.toString().padStart(2,"0")+":00",select:Math.floor(Math.random()*5e3)+2e3,insert:Math.floor(Math.random()*1e3)+200,update:Math.floor(Math.random()*800)+100,delete:Math.floor(Math.random()*200)+50})),v=[{id:"l1",database:"production_main",blockedQueryId:"q2",blockingQueryId:"q1",waitMs:1250,type:"RowShareLock",timestamp:"2024-05-22 10:15:02",isDeadlock:!1},{id:"l2",database:"user_service_db",blockedQueryId:"q5",blockingQueryId:"q4",waitMs:4500,type:"ExclusiveLock",timestamp:"2024-05-22 10:20:45",isDeadlock:!0},{id:"l3",database:"billing_v2",blockedQueryId:"q7",blockingQueryId:"q8",waitMs:850,type:"AccessExclusiveLock",timestamp:"2024-05-22 11:05:12",isDeadlock:!1}];function w(){const[n,c]=d.useState("queries"),[t,o]=d.useState(null),[r,h]=d.useState("ALL"),b=g.filter(s=>r==="ALL"||s.database===r),x=s=>s<50?"text-emerald-400":s<500?"text-amber-400":"text-rose-400",p=({node:s,depth:l=0})=>{var i;return e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsxs("div",{className:a("flex items-center gap-3 p-2 rounded border border-zinc-800 bg-zinc-900/50 hover:bg-zinc-800/50 transition-colors",l>0&&"ml-6 border-l-indigo-500/30"),children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-xs font-bold text-indigo-400 uppercase tracking-wider",children:s.operation}),s.table&&e.jsx("span",{className:"text-[10px] text-zinc-500 font-mono",children:s.table})]}),e.jsx("div",{className:"flex-1"}),e.jsxs("div",{className:"flex gap-4 text-[10px]",children:[e.jsxs("div",{className:"flex flex-col items-end",children:[e.jsx("span",{className:"text-zinc-500 uppercase",children:"Cost"}),e.jsx("span",{className:"text-zinc-300",children:s.cost.toLocaleString()})]}),e.jsxs("div",{className:"flex flex-col items-end",children:[e.jsx("span",{className:"text-zinc-500 uppercase",children:"Rows"}),e.jsx("span",{className:"text-zinc-300",children:s.rows.toLocaleString()})]})]})]}),(i=s.children)==null?void 0:i.map((m,u)=>e.jsx(p,{node:m,depth:l+1},u))]})};return e.jsxs("div",{className:"min-h-screen bg-zinc-950 text-white font-sans p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold tracking-tight",children:["ClawDB ",e.jsx("span",{className:"text-indigo-500",children:"Analyzer"})]}),e.jsx("p",{className:"text-zinc-500 text-sm",children:"Performance metrics and query optimization suite"})]}),e.jsx("div",{className:"flex items-center gap-2 bg-zinc-900 p-1 rounded-lg border border-zinc-800",children:["queries","trends","tables","locks"].map(s=>e.jsx("button",{onClick:()=>c(s),className:a("px-4 py-1.5 rounded-md text-xs font-medium capitalize transition-all",n===s?"bg-indigo-500 text-white shadow-lg":"text-zinc-400 hover:text-white hover:bg-zinc-800"),children:s},s))})]}),e.jsxs("div",{className:"grid grid-cols-12 gap-6",children:[n==="queries"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:a("flex flex-col gap-4",t?"col-span-4":"col-span-12"),children:[e.jsxs("div",{className:"flex items-center gap-4 bg-zinc-900 p-3 rounded-xl border border-zinc-800",children:[e.jsx("span",{className:"text-xs font-bold text-zinc-500 uppercase ml-2",children:"Database"}),e.jsxs("select",{value:r,onChange:s=>h(s.target.value),className:"bg-zinc-950 border border-zinc-800 rounded px-3 py-1 text-xs outline-none focus:border-indigo-500 transition-colors",children:[e.jsx("option",{value:"ALL",children:"All Databases"}),f.map(s=>e.jsx("option",{value:s,children:s},s))]})]}),e.jsx("div",{className:"flex flex-col gap-2",children:b.map(s=>e.jsxs("button",{onClick:()=>o(s),className:a("flex flex-col gap-3 p-4 rounded-xl border transition-all text-left group",(t==null?void 0:t.id)===s.id?"bg-indigo-500/10 border-indigo-500 shadow-[0_0_20px_rgba(99,102,241,0.1)]":"bg-zinc-900 border-zinc-800 hover:border-zinc-700"),children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex flex-col gap-1 max-w-[70%]",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:a("text-[10px] font-bold px-1.5 py-0.5 rounded",s.type==="SELECT"?"bg-indigo-500/20 text-indigo-400":s.type==="INSERT"?"bg-emerald-500/20 text-emerald-400":s.type==="UPDATE"?"bg-amber-500/20 text-amber-400":"bg-rose-500/20 text-rose-400"),children:s.type}),e.jsx("span",{className:"text-xs text-zinc-500 font-mono truncate",children:s.database})]}),e.jsx("p",{className:"text-sm font-mono text-zinc-300 line-clamp-2 mt-1 leading-relaxed",children:s.sql})]}),e.jsxs("div",{className:"flex flex-col items-end gap-1",children:[e.jsxs("span",{className:a("text-lg font-bold font-mono",x(s.p95)),children:[s.p95.toFixed(1),"ms"]}),e.jsx("span",{className:"text-[10px] text-zinc-500 uppercase tracking-widest font-bold",children:"p95 Latency"})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-zinc-800/50",children:[e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-[10px] text-zinc-500 uppercase",children:"p50"}),e.jsxs("span",{className:"text-xs text-zinc-300 font-mono",children:[s.p50,"ms"]})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-[10px] text-zinc-500 uppercase",children:"p99"}),e.jsxs("span",{className:"text-xs text-zinc-300 font-mono",children:[s.p99,"ms"]})]})]}),e.jsxs("div",{className:"flex flex-col items-end",children:[e.jsx("span",{className:"text-[10px] text-zinc-500 uppercase",children:"Calls"}),e.jsxs("span",{className:"text-xs text-zinc-300 font-mono",children:[(s.calls/1e3).toFixed(1),"k"]})]})]})]},s.id))})]}),t&&e.jsx("div",{className:"col-span-8 flex flex-col gap-6 animate-in fade-in slide-in-from-right-4 duration-300",children:e.jsxs("div",{className:"bg-zinc-900 rounded-2xl border border-zinc-800 overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-zinc-800 bg-zinc-900/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-sm font-bold uppercase tracking-widest text-zinc-500",children:"Query Context"}),e.jsx("button",{onClick:()=>o(null),className:"text-zinc-500 hover:text-white transition-colors",children:"✕"})]}),e.jsx("div",{className:"p-4 bg-zinc-950 rounded-lg border border-zinc-800 font-mono text-sm leading-relaxed text-indigo-300 whitespace-pre-wrap",children:t.sql.split(" ").map((s,l)=>e.jsxs("span",{className:a(["SELECT","FROM","WHERE","JOIN","ON","GROUP","BY","ORDER","LIMIT","INSERT","UPDATE","DELETE","SET","VALUES","AND","OR"].includes(s.toUpperCase())?"text-indigo-400 font-bold":"text-zinc-300"),children:[s," "]},l))})]}),e.jsxs("div",{className:"p-6 grid grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xs font-bold uppercase tracking-widest text-zinc-500 mb-4",children:"Execution Plan"}),e.jsx(p,{node:t.plan})]}),e.jsxs("div",{className:"flex flex-col gap-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xs font-bold uppercase tracking-widest text-zinc-500 mb-4",children:"Index Statistics"}),t.indexUsage.length>0?e.jsx("div",{className:"flex flex-col gap-2",children:t.indexUsage.map((s,l)=>e.jsxs("div",{className:"p-3 bg-zinc-950 rounded border border-zinc-800",children:[e.jsx("div",{className:"text-xs font-mono text-indigo-400 font-bold mb-2",children:s.indexName}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-[10px] text-zinc-500 uppercase",children:"Scans"}),e.jsx("span",{className:"text-sm text-zinc-300",children:s.scans.toLocaleString()})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-[10px] text-zinc-500 uppercase",children:"Block Reads"}),e.jsx("span",{className:"text-sm text-zinc-300",children:s.reads.toLocaleString()})]})]})]},l))}):e.jsxs("div",{className:"p-8 bg-zinc-950 rounded border border-dashed border-zinc-800 flex flex-col items-center justify-center gap-2",children:[e.jsx("span",{className:"text-rose-400 text-xs font-bold",children:"MISSING INDEXES"}),e.jsx("span",{className:"text-[10px] text-zinc-600",children:"Query is performing sequential scans"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xs font-bold uppercase tracking-widest text-zinc-500 mb-4",children:"Latency Distribution"}),e.jsx("div",{className:"flex flex-col gap-3",children:[{label:"p50",value:t.p50},{label:"p95",value:t.p95},{label:"p99",value:t.p99}].map(s=>e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsxs("div",{className:"flex justify-between text-[10px] uppercase font-bold px-1",children:[e.jsx("span",{className:"text-zinc-500",children:s.label}),e.jsxs("span",{className:x(s.value),children:[s.value,"ms"]})]}),e.jsx("div",{className:"h-1.5 w-full bg-zinc-950 rounded-full overflow-hidden border border-zinc-800",children:e.jsx("div",{className:a("h-full transition-all duration-500",s.label==="p50"?"bg-emerald-500":s.label==="p95"?"bg-amber-500":"bg-rose-500"),style:{width:`${Math.min(100,s.value/t.p99*100)}%`}})})]},s.label))})]})]})]})]})})]}),n==="trends"&&e.jsxs("div",{className:"col-span-12 flex flex-col gap-6",children:[e.jsxs("div",{className:"bg-zinc-900 p-8 rounded-2xl border border-zinc-800",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold",children:"Query Load Trends"}),e.jsx("p",{className:"text-sm text-zinc-500 italic",children:"Aggregated requests per hour (Last 24h)"})]}),e.jsx("div",{className:"flex gap-4",children:[{label:"Select",color:"bg-indigo-500"},{label:"Insert",color:"bg-emerald-400"},{label:"Update",color:"bg-amber-400"},{label:"Delete",color:"bg-rose-400"}].map(s=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:a("w-2 h-2 rounded-full",s.color)}),e.jsx("span",{className:"text-[10px] uppercase font-bold text-zinc-400",children:s.label})]},s.label))})]}),e.jsxs("div",{className:"h-64 flex items-end gap-1.5 relative",children:[e.jsxs("div",{className:"absolute -left-12 top-0 bottom-0 flex flex-col justify-between text-[10px] text-zinc-600 font-mono",children:[e.jsx("span",{children:"8k"}),e.jsx("span",{children:"6k"}),e.jsx("span",{children:"4k"}),e.jsx("span",{children:"2k"}),e.jsx("span",{children:"0"})]}),N.map((s,l)=>{const i=s.select+s.insert+s.update+s.delete;return e.jsxs("div",{className:"flex-1 group relative flex flex-col justify-end h-full",children:[e.jsxs("div",{className:"flex flex-col w-full rounded-t-sm overflow-hidden",style:{height:`${i/8e3*100}%`},children:[e.jsx("div",{className:"bg-rose-400 w-full",style:{height:`${s.delete/i*100}%`}}),e.jsx("div",{className:"bg-amber-400 w-full",style:{height:`${s.update/i*100}%`}}),e.jsx("div",{className:"bg-emerald-400 w-full",style:{height:`${s.insert/i*100}%`}}),e.jsx("div",{className:"bg-indigo-500 w-full flex-1"})]}),e.jsx("div",{className:"absolute bottom-[-24px] left-1/2 -translate-x-1/2 text-[9px] text-zinc-600 font-mono whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity",children:s.hour}),e.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 p-2 bg-zinc-950 border border-zinc-800 rounded shadow-2xl opacity-0 group-hover:opacity-100 transition-opacity z-10 pointer-events-none min-w-[120px]",children:[e.jsx("div",{className:"text-[10px] font-bold text-zinc-400 mb-1 border-b border-zinc-800 pb-1",children:s.hour}),e.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1 text-[10px]",children:[e.jsx("span",{className:"text-indigo-400",children:"SELECT"}),e.jsx("span",{className:"text-right",children:s.select.toLocaleString()}),e.jsx("span",{className:"text-emerald-400",children:"INSERT"}),e.jsx("span",{className:"text-right",children:s.insert.toLocaleString()}),e.jsx("span",{className:"text-amber-400",children:"UPDATE"}),e.jsx("span",{className:"text-right",children:s.update.toLocaleString()}),e.jsx("span",{className:"text-rose-400",children:"DELETE"}),e.jsx("span",{className:"text-right",children:s.delete.toLocaleString()})]})]})]},l)})]})]}),e.jsx("div",{className:"grid grid-cols-4 gap-6",children:[{label:"Throughput",value:"14.2k",sub:"req/sec",trend:"+5.2%"},{label:"Error Rate",value:"0.04%",sub:"avg",trend:"-12%"},{label:"CPU Load",value:"42%",sub:"cluster",trend:"+2.1%"},{label:"Active Conns",value:"842",sub:"connections",trend:"+124"}].map((s,l)=>e.jsxs("div",{className:"bg-zinc-900 p-6 rounded-2xl border border-zinc-800",children:[e.jsx("div",{className:"text-xs font-bold text-zinc-500 uppercase tracking-widest mb-1",children:s.label}),e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-2xl font-bold",children:s.value}),e.jsx("span",{className:"text-xs text-zinc-600",children:s.sub})]}),e.jsxs("div",{className:a("text-[10px] font-bold mt-2",s.trend.startsWith("+")?"text-rose-400":"text-emerald-400"),children:[s.trend," from last period"]})]},l))})]}),n==="tables"&&e.jsx("div",{className:"col-span-12 flex flex-col gap-6",children:e.jsx("div",{className:"bg-zinc-900 rounded-2xl border border-zinc-800 overflow-hidden",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-zinc-950 border-b border-zinc-800 text-[10px] uppercase tracking-widest font-bold text-zinc-500",children:[e.jsx("th",{className:"px-6 py-4",children:"Table / Database"}),e.jsx("th",{className:"px-6 py-4",children:"Rows"}),e.jsx("th",{className:"px-6 py-4",children:"Size"}),e.jsx("th",{className:"px-6 py-4",children:"Index Hit Rate"}),e.jsx("th",{className:"px-6 py-4",children:"Bloat"}),e.jsx("th",{className:"px-6 py-4",children:"Performance"})]})}),e.jsx("tbody",{className:"divide-y divide-zinc-800",children:j.map((s,l)=>e.jsxs("tr",{className:"hover:bg-zinc-800/30 transition-colors group",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-sm font-bold group-hover:text-indigo-400 transition-colors",children:s.name}),e.jsx("span",{className:"text-[10px] text-zinc-500 font-mono",children:s.database})]})}),e.jsx("td",{className:"px-6 py-4 text-xs text-zinc-300 font-mono",children:s.rows>1e6?(s.rows/1e6).toFixed(1)+"M":s.rows.toLocaleString()}),e.jsx("td",{className:"px-6 py-4 text-xs text-zinc-300 font-mono",children:s.size}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex flex-col gap-1.5 w-32",children:[e.jsx("div",{className:"flex justify-between text-[9px] font-bold",children:e.jsxs("span",{className:a(s.indexHitRate>90?"text-emerald-400":"text-rose-400"),children:[s.indexHitRate,"%"]})}),e.jsx("div",{className:"h-1 bg-zinc-950 rounded-full overflow-hidden border border-zinc-800/50",children:e.jsx("div",{className:a("h-full transition-all duration-700",s.indexHitRate>90?"bg-emerald-500":"bg-rose-500"),style:{width:`${s.indexHitRate}%`}})})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("span",{className:a("px-2 py-0.5 rounded-full text-[10px] font-bold",s.bloat<5?"bg-emerald-500/10 text-emerald-400":s.bloat<15?"bg-amber-500/10 text-amber-400":"bg-rose-500/10 text-rose-400"),children:[s.bloat,"%"]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"flex gap-1",children:[0,1,2,3,4].map(i=>e.jsx("div",{className:a("w-1.5 h-1.5 rounded-full",s.indexHitRate>90?"bg-emerald-500":s.indexHitRate>70?"bg-amber-500":"bg-rose-500",i>3&&"opacity-30")},i))})})]},l))})]})})}),n==="locks"&&e.jsxs("div",{className:"col-span-12 grid grid-cols-2 gap-6",children:[e.jsxs("div",{className:"flex flex-col gap-6",children:[e.jsx("h2",{className:"text-sm font-bold uppercase tracking-widest text-zinc-500 mb-2",children:"Active & Recent Lock Events"}),v.map(s=>e.jsxs("div",{className:a("p-6 rounded-2xl border bg-zinc-900 flex flex-col gap-4",s.isDeadlock?"border-rose-500/50 bg-rose-500/5":"border-zinc-800"),children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:a("px-2 py-0.5 rounded text-[10px] font-bold uppercase",s.isDeadlock?"bg-rose-500 text-white":"bg-amber-500/20 text-amber-400"),children:s.isDeadlock?"Deadlock Detected":s.type}),e.jsx("span",{className:"text-xs text-zinc-500 font-mono",children:s.database})]}),e.jsx("span",{className:"text-[10px] text-zinc-600 font-mono",children:s.timestamp})]}),e.jsxs("div",{className:"flex flex-col items-end",children:[e.jsxs("span",{className:"text-xl font-bold font-mono text-rose-400",children:[s.waitMs,"ms"]}),e.jsx("span",{className:"text-[10px] text-zinc-500 uppercase font-bold",children:"Wait Time"})]})]}),e.jsxs("div",{className:"flex items-center gap-4 bg-zinc-950 p-4 rounded-xl border border-zinc-800",children:[e.jsxs("div",{className:"flex flex-col gap-1 flex-1",children:[e.jsx("span",{className:"text-[9px] text-zinc-500 uppercase font-bold",children:"Blocked Query"}),e.jsx("span",{className:"text-xs font-mono text-indigo-400",children:s.blockedQueryId})]}),e.jsx("div",{className:"text-zinc-700",children:"←"}),e.jsxs("div",{className:"flex flex-col gap-1 flex-1 text-right",children:[e.jsx("span",{className:"text-[9px] text-zinc-500 uppercase font-bold",children:"Blocking Query"}),e.jsx("span",{className:"text-xs font-mono text-amber-400",children:s.blockingQueryId})]})]})]},s.id))]}),e.jsxs("div",{className:"bg-zinc-900 p-8 rounded-2xl border border-zinc-800",children:[e.jsx("h2",{className:"text-sm font-bold uppercase tracking-widest text-zinc-500 mb-6",children:"Lock Wait Stats"}),e.jsxs("div",{className:"flex flex-col gap-8",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-end mb-4",children:[e.jsx("span",{className:"text-2xl font-bold",children:"1.2s"}),e.jsx("span",{className:"text-[10px] text-zinc-500 uppercase font-bold",children:"Avg Wait Time"})]}),e.jsxs("div",{className:"h-2 w-full bg-zinc-950 rounded-full overflow-hidden flex",children:[e.jsx("div",{className:"bg-emerald-500 w-[60%]"}),e.jsx("div",{className:"bg-amber-500 w-[25%]"}),e.jsx("div",{className:"bg-rose-500 w-[15%]"})]})]}),e.jsx("div",{className:"space-y-4",children:[{label:"RowShareLock",count:1450,color:"bg-indigo-500"},{label:"ExclusiveLock",count:120,color:"bg-amber-500"},{label:"AccessExclusive",count:12,color:"bg-rose-500"}].map(s=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:a("w-2 h-2 rounded-full",s.color)}),e.jsx("span",{className:"text-xs text-zinc-300 font-medium",children:s.label})]}),e.jsxs("span",{className:"text-xs font-mono text-zinc-500",children:[s.count," events"]})]},s.label))}),e.jsxs("div",{className:"mt-4 p-4 bg-indigo-500/5 border border-indigo-500/20 rounded-xl",children:[e.jsx("h4",{className:"text-[10px] font-bold text-indigo-400 uppercase mb-2",children:"Recommendation"}),e.jsxs("p",{className:"text-xs text-zinc-400 leading-relaxed italic",children:["Detected high wait times on ",e.jsx("span",{className:"text-white font-bold",children:"production_main"}),". Consider breaking up long transactions in the user session cleanup worker."]})]})]})]})]})]}),e.jsxs("div",{className:"mt-12 pt-6 border-t border-zinc-900 flex justify-between items-center text-[10px] text-zinc-600 font-bold uppercase tracking-widest",children:[e.jsxs("div",{className:"flex gap-6",children:[e.jsx("span",{children:"Cluster: US-EAST-1"}),e.jsxs("span",{children:["Status: ",e.jsx("span",{className:"text-emerald-500",children:"Healthy"})]}),e.jsx("span",{children:"Nodes: 8 Active"})]}),e.jsxs("div",{children:["Last updated: ",new Date().toLocaleTimeString()]})]})]})}export{w as default};
