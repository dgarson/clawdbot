import{r as u,j as e,c as n}from"./index-DpHBJgBc.js";const x=[{id:"env-dev",name:"Development",slug:"dev",health:"healthy",lastDeploy:"2026-02-22T05:12:00Z",lastDeployBy:"piper",branch:"feat/env-manager",region:"us-west-2",deployCount:142,uptime:99.1,services:[{id:"svc-api",name:"api-gateway",version:"0.9.14-dev.3",status:"healthy",replicas:1,desiredReplicas:1,cpu:18,memory:42},{id:"svc-web",name:"web-next",version:"1.4.2-dev.7",status:"healthy",replicas:1,desiredReplicas:1,cpu:12,memory:31},{id:"svc-worker",name:"task-worker",version:"0.7.1-dev.2",status:"degraded",replicas:0,desiredReplicas:1,cpu:0,memory:0},{id:"svc-db",name:"postgres-proxy",version:"2.1.0",status:"healthy",replicas:1,desiredReplicas:1,cpu:8,memory:55}]},{id:"env-staging",name:"Staging",slug:"staging",health:"healthy",lastDeploy:"2026-02-21T22:45:00Z",lastDeployBy:"quinn",branch:"dgarson/fork",region:"us-east-1",deployCount:89,uptime:99.7,services:[{id:"svc-api",name:"api-gateway",version:"0.9.13",status:"healthy",replicas:2,desiredReplicas:2,cpu:24,memory:48},{id:"svc-web",name:"web-next",version:"1.4.1",status:"healthy",replicas:2,desiredReplicas:2,cpu:19,memory:37},{id:"svc-worker",name:"task-worker",version:"0.7.0",status:"healthy",replicas:2,desiredReplicas:2,cpu:31,memory:62},{id:"svc-db",name:"postgres-proxy",version:"2.1.0",status:"healthy",replicas:2,desiredReplicas:2,cpu:14,memory:67},{id:"svc-cache",name:"redis-cluster",version:"7.2.3",status:"healthy",replicas:3,desiredReplicas:3,cpu:9,memory:44}]},{id:"env-prod",name:"Production",slug:"prod",health:"healthy",lastDeploy:"2026-02-20T18:00:00Z",lastDeployBy:"luis",branch:"dgarson/fork",region:"us-east-1 + eu-west-1",deployCount:34,uptime:99.98,services:[{id:"svc-api",name:"api-gateway",version:"0.9.12",status:"healthy",replicas:6,desiredReplicas:6,cpu:61,memory:72},{id:"svc-web",name:"web-next",version:"1.4.0",status:"healthy",replicas:4,desiredReplicas:4,cpu:44,memory:58},{id:"svc-worker",name:"task-worker",version:"0.6.9",status:"healthy",replicas:4,desiredReplicas:4,cpu:52,memory:69},{id:"svc-db",name:"postgres-proxy",version:"2.1.0",status:"healthy",replicas:4,desiredReplicas:4,cpu:38,memory:81},{id:"svc-cache",name:"redis-cluster",version:"7.2.3",status:"healthy",replicas:6,desiredReplicas:6,cpu:27,memory:63},{id:"svc-search",name:"search-indexer",version:"1.0.4",status:"healthy",replicas:2,desiredReplicas:2,cpu:33,memory:55}]},{id:"env-canary",name:"Canary",slug:"canary",health:"degraded",lastDeploy:"2026-02-22T04:00:00Z",lastDeployBy:"wes",branch:"feat/search-v2",region:"us-east-1 (5%)",deployCount:12,uptime:97.3,services:[{id:"svc-api",name:"api-gateway",version:"0.9.14-rc.1",status:"healthy",replicas:1,desiredReplicas:1,cpu:29,memory:51},{id:"svc-web",name:"web-next",version:"1.4.2-rc.2",status:"degraded",replicas:1,desiredReplicas:1,cpu:88,memory:79},{id:"svc-search",name:"search-indexer",version:"2.0.0-rc.1",status:"down",replicas:0,desiredReplicas:1,cpu:0,memory:0}]}],g=[{id:"d-001",env:"dev",service:"web-next",version:"1.4.2-dev.7",previousVersion:"1.4.2-dev.6",deployedBy:"piper",deployedAt:"2026-02-22T05:12:00Z",status:"success",duration:"1m 42s",commit:"a3f9c1d",message:"feat: add deployment manager view"},{id:"d-002",env:"canary",service:"search-indexer",version:"2.0.0-rc.1",previousVersion:"1.0.4",deployedBy:"wes",deployedAt:"2026-02-22T04:00:00Z",status:"failed",duration:"3m 11s",commit:"b7e2a44",message:"feat: search v2 indexing pipeline"},{id:"d-003",env:"canary",service:"api-gateway",version:"0.9.14-rc.1",previousVersion:"0.9.13",deployedBy:"wes",deployedAt:"2026-02-22T03:55:00Z",status:"success",duration:"2m 08s",commit:"c1d5f72",message:"feat: search v2 indexing pipeline"},{id:"d-004",env:"staging",service:"task-worker",version:"0.7.0",previousVersion:"0.6.9",deployedBy:"quinn",deployedAt:"2026-02-21T22:45:00Z",status:"success",duration:"2m 33s",commit:"d9a8b31",message:"fix: worker queue drain on shutdown"},{id:"d-005",env:"staging",service:"api-gateway",version:"0.9.13",previousVersion:"0.9.12",deployedBy:"quinn",deployedAt:"2026-02-21T22:40:00Z",status:"success",duration:"1m 57s",commit:"e4c7293",message:"fix: rate limit header propagation"},{id:"d-006",env:"prod",service:"web-next",version:"1.4.0",previousVersion:"1.3.9",deployedBy:"luis",deployedAt:"2026-02-20T18:00:00Z",status:"success",duration:"4m 22s",commit:"f2b1e85",message:"feat: analytics overview redesign"},{id:"d-007",env:"prod",service:"api-gateway",version:"0.9.12",previousVersion:"0.9.11",deployedBy:"luis",deployedAt:"2026-02-20T17:52:00Z",status:"success",duration:"3m 48s",commit:"g7d4c19",message:"feat: analytics overview redesign"},{id:"d-008",env:"dev",service:"task-worker",version:"0.7.1-dev.2",previousVersion:"0.7.1-dev.1",deployedBy:"reed",deployedAt:"2026-02-22T04:30:00Z",status:"failed",duration:"0m 44s",commit:"h5e9a02",message:"fix: memory leak in job processor"}],b=[{envId:"env-dev",vars:[{key:"API_URL",value:"https://api.dev.clawdbot.io",secret:!1,lastModified:"2026-02-10",modifiedBy:"piper"},{key:"LOG_LEVEL",value:"debug",secret:!1,lastModified:"2026-02-01",modifiedBy:"quinn"},{key:"DB_POOL_SIZE",value:"5",secret:!1,lastModified:"2026-01-28",modifiedBy:"reed"},{key:"DB_PASSWORD",value:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",secret:!0,lastModified:"2026-02-15",modifiedBy:"luis"},{key:"FEATURE_SEARCH_V2",value:"true",secret:!1,lastModified:"2026-02-20",modifiedBy:"wes"},{key:"RATE_LIMIT_RPM",value:"1000",secret:!1,lastModified:"2026-02-05",modifiedBy:"piper"}]},{envId:"env-staging",vars:[{key:"API_URL",value:"https://api.staging.clawdbot.io",secret:!1,lastModified:"2026-02-10",modifiedBy:"piper"},{key:"LOG_LEVEL",value:"info",secret:!1,lastModified:"2026-02-01",modifiedBy:"quinn"},{key:"DB_POOL_SIZE",value:"20",secret:!1,lastModified:"2026-01-28",modifiedBy:"reed"},{key:"DB_PASSWORD",value:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",secret:!0,lastModified:"2026-02-15",modifiedBy:"luis"},{key:"FEATURE_SEARCH_V2",value:"false",secret:!1,lastModified:"2026-02-18",modifiedBy:"wes"},{key:"RATE_LIMIT_RPM",value:"5000",secret:!1,lastModified:"2026-02-05",modifiedBy:"piper"}]},{envId:"env-prod",vars:[{key:"API_URL",value:"https://api.clawdbot.io",secret:!1,lastModified:"2026-01-15",modifiedBy:"luis"},{key:"LOG_LEVEL",value:"warn",secret:!1,lastModified:"2026-01-20",modifiedBy:"luis"},{key:"DB_POOL_SIZE",value:"50",secret:!1,lastModified:"2026-01-28",modifiedBy:"reed"},{key:"DB_PASSWORD",value:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",secret:!0,lastModified:"2026-02-15",modifiedBy:"luis"},{key:"FEATURE_SEARCH_V2",value:"false",secret:!1,lastModified:"2026-01-15",modifiedBy:"luis"},{key:"RATE_LIMIT_RPM",value:"10000",secret:!1,lastModified:"2026-02-05",modifiedBy:"piper"}]},{envId:"env-canary",vars:[{key:"API_URL",value:"https://api.canary.clawdbot.io",secret:!1,lastModified:"2026-02-20",modifiedBy:"wes"},{key:"LOG_LEVEL",value:"debug",secret:!1,lastModified:"2026-02-20",modifiedBy:"wes"},{key:"DB_POOL_SIZE",value:"10",secret:!1,lastModified:"2026-02-20",modifiedBy:"wes"},{key:"DB_PASSWORD",value:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",secret:!0,lastModified:"2026-02-20",modifiedBy:"wes"},{key:"FEATURE_SEARCH_V2",value:"true",secret:!1,lastModified:"2026-02-20",modifiedBy:"wes"},{key:"RATE_LIMIT_RPM",value:"10000",secret:!1,lastModified:"2026-02-20",modifiedBy:"wes"}]}],v=[{id:"a-001",name:"Luis Ramirez",email:"luis@clawdbot.io",role:"admin",envId:"env-prod",grantedAt:"2025-12-01",grantedBy:"xavier",status:"approved",mfaEnabled:!0},{id:"a-002",name:"Quinn Park",email:"quinn@clawdbot.io",role:"deployer",envId:"env-prod",grantedAt:"2026-01-10",grantedBy:"luis",status:"approved",mfaEnabled:!0},{id:"a-003",name:"Piper Chen",email:"piper@clawdbot.io",role:"viewer",envId:"env-prod",grantedAt:"2026-01-15",grantedBy:"luis",status:"approved",mfaEnabled:!0},{id:"a-004",name:"Wes Turner",email:"wes@clawdbot.io",role:"deployer",envId:"env-canary",grantedAt:"2026-02-18",grantedBy:"luis",status:"approved",mfaEnabled:!0},{id:"a-005",name:"Reed Nakamura",email:"reed@clawdbot.io",role:"deployer",envId:"env-staging",grantedAt:"2026-01-05",grantedBy:"luis",status:"approved",mfaEnabled:!1},{id:"a-006",name:"Sam Okafor",email:"sam@clawdbot.io",role:"viewer",envId:"env-staging",grantedAt:"2026-01-05",grantedBy:"luis",status:"approved",mfaEnabled:!1},{id:"a-007",name:"Piper Chen",email:"piper@clawdbot.io",role:"admin",envId:"env-dev",grantedAt:"2026-01-01",grantedBy:"luis",status:"approved",mfaEnabled:!0},{id:"a-008",name:"Reed Nakamura",email:"reed@clawdbot.io",role:"admin",envId:"env-dev",grantedAt:"2026-01-01",grantedBy:"luis",status:"approved",mfaEnabled:!1}],w=[{id:"req-001",requestedBy:"Sam Okafor",requestedAt:"2026-02-22T03:00:00Z",envId:"env-prod",role:"viewer",reason:"Need read access to investigate production latency spike.",status:"pending"},{id:"req-002",requestedBy:"Wes Turner",requestedAt:"2026-02-21T18:30:00Z",envId:"env-prod",role:"deployer",reason:"Search v2 canary promotion needs prod deploy access.",status:"pending"},{id:"req-003",requestedBy:"Piper Chen",requestedAt:"2026-02-20T10:00:00Z",envId:"env-staging",role:"admin",reason:"Need to update staging config vars for new feature.",status:"approved"}];function h(s){const d=Date.now()-new Date(s).getTime(),r=Math.floor(d/6e4);if(r<60)return`${r}m ago`;const a=Math.floor(r/60);return a<24?`${a}h ago`:`${Math.floor(a/24)}d ago`}function z(s){return s==="healthy"?"text-emerald-400":s==="degraded"?"text-amber-400":s==="down"?"text-rose-400":"text-zinc-500"}function f(s){return s==="healthy"?"bg-emerald-400":s==="degraded"?"bg-amber-400":s==="down"?"bg-rose-500":"bg-zinc-600"}function k(s){return s==="success"?"bg-emerald-500/15 text-emerald-400 border-emerald-500/30":s==="failed"?"bg-rose-500/15 text-rose-400 border-rose-500/30":s==="in_progress"?"bg-indigo-500/15 text-indigo-400 border-indigo-500/30":s==="rolled_back"?"bg-amber-500/15 text-amber-400 border-amber-500/30":"bg-zinc-800 text-zinc-400 border-zinc-700"}function y(s){return s==="admin"?"bg-rose-500/15 text-rose-400 border-rose-500/30":s==="deployer"?"bg-indigo-500/15 text-indigo-400 border-indigo-500/30":"bg-zinc-800 text-zinc-400 border-zinc-700"}function B(s){return s==="approved"?"bg-emerald-500/15 text-emerald-400 border-emerald-500/30":s==="pending"?"bg-amber-500/15 text-amber-400 border-amber-500/30":"bg-rose-500/15 text-rose-400 border-rose-500/30"}function j({value:s,color:d}){return e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-20 h-1.5 bg-zinc-800 rounded-full overflow-hidden",children:e.jsx("div",{className:n("h-full rounded-full",d),style:{width:`${s}%`}})}),e.jsxs("span",{className:"text-xs text-zinc-500",children:[s,"%"]})]})}function _({health:s}){return e.jsxs("span",{className:n("flex items-center gap-1.5 text-xs font-medium capitalize",z(s)),children:[e.jsx("span",{className:n("w-2 h-2 rounded-full inline-block",f(s))}),s]})}function E({svc:s}){const d=s.replicas===s.desiredReplicas;return e.jsxs("div",{className:"flex items-center gap-4 px-4 py-3 border-b border-zinc-800 last:border-0 hover:bg-zinc-800/40 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-2 w-44 min-w-0",children:[e.jsx("span",{className:n("w-1.5 h-1.5 rounded-full flex-shrink-0",f(s.status))}),e.jsx("span",{className:"text-sm text-white truncate",children:s.name})]}),e.jsx("span",{className:"text-xs text-zinc-500 font-mono w-36 flex-shrink-0",children:s.version}),e.jsxs("span",{className:n("text-xs w-20 flex-shrink-0",d?"text-zinc-400":"text-amber-400"),children:[s.replicas,"/",s.desiredReplicas," pods"]}),e.jsx("div",{className:"w-28 flex-shrink-0",children:e.jsx(j,{value:s.cpu,color:s.cpu>80?"bg-rose-500":s.cpu>60?"bg-amber-400":"bg-indigo-500"})}),e.jsx("div",{className:"w-28 flex-shrink-0",children:e.jsx(j,{value:s.memory,color:s.memory>85?"bg-rose-500":s.memory>70?"bg-amber-400":"bg-emerald-500"})})]})}function A({env:s}){return e.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[e.jsxs("div",{className:"p-5 border-b border-zinc-800",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-white font-semibold text-lg",children:s.name}),e.jsxs("p",{className:"text-zinc-500 text-sm mt-0.5",children:[s.slug," Â· ",s.region]})]}),e.jsx(_,{health:s.health})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-3 mt-4",children:[e.jsxs("div",{className:"bg-zinc-800 rounded-lg p-3",children:[e.jsx("p",{className:"text-zinc-500 text-xs mb-1",children:"Last Deploy"}),e.jsx("p",{className:"text-white text-sm font-medium",children:h(s.lastDeploy)}),e.jsxs("p",{className:"text-zinc-500 text-xs",children:["by ",s.lastDeployBy]})]}),e.jsxs("div",{className:"bg-zinc-800 rounded-lg p-3",children:[e.jsx("p",{className:"text-zinc-500 text-xs mb-1",children:"Deploys (30d)"}),e.jsx("p",{className:"text-white text-sm font-medium",children:s.deployCount}),e.jsx("p",{className:"text-zinc-500 text-xs",children:"deployments"})]}),e.jsxs("div",{className:"bg-zinc-800 rounded-lg p-3",children:[e.jsx("p",{className:"text-zinc-500 text-xs mb-1",children:"Uptime"}),e.jsxs("p",{className:n("text-sm font-medium",s.uptime>99.5?"text-emerald-400":s.uptime>98?"text-amber-400":"text-rose-400"),children:[s.uptime,"%"]}),e.jsx("p",{className:"text-zinc-500 text-xs",children:"30-day avg"})]})]}),e.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[e.jsx("span",{className:"text-zinc-500 text-xs",children:"Branch:"}),e.jsx("code",{className:"text-indigo-400 text-xs bg-indigo-500/10 px-2 py-0.5 rounded font-mono",children:s.branch})]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center gap-4 px-4 py-2 bg-zinc-800/60 border-b border-zinc-800 text-xs text-zinc-500 uppercase tracking-wide",children:[e.jsx("span",{className:"w-44",children:"Service"}),e.jsx("span",{className:"w-36",children:"Version"}),e.jsx("span",{className:"w-20",children:"Replicas"}),e.jsx("span",{className:"w-28",children:"CPU"}),e.jsx("span",{className:"w-28",children:"Memory"})]}),s.services.map(d=>e.jsx(E,{svc:d},d.id))]})]})}function R(){const[s,d]=u.useState(x[0].id),r=x.find(a=>a.id===s)??x[0];return e.jsxs("div",{className:"flex gap-4 h-full min-h-0",children:[e.jsx("div",{className:"w-64 flex-shrink-0 flex flex-col gap-2",children:x.map(a=>e.jsxs("button",{onClick:()=>d(a.id),className:n("w-full text-left rounded-xl border p-4 transition-all",s===a.id?"border-indigo-500/50 bg-indigo-500/10":"border-zinc-800 bg-zinc-900 hover:border-zinc-700 hover:bg-zinc-800"),children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:n("text-sm font-semibold",(s===a.id,"text-white")),children:a.name}),e.jsx("span",{className:n("w-2 h-2 rounded-full",f(a.health))})]}),e.jsxs("p",{className:"text-xs text-zinc-500 mb-1",children:[a.slug," Â· ",a.services.length," services"]}),e.jsxs("p",{className:"text-xs text-zinc-500",children:["Deployed ",h(a.lastDeploy)]})]},a.id))}),e.jsx("div",{className:"flex-1 bg-zinc-900 rounded-xl border border-zinc-800 flex flex-col min-h-0 overflow-hidden",children:e.jsx(A,{env:r})})]})}function M(){const[s,d]=u.useState([]),[r,a]=u.useState("all"),m=r==="all"?g:g.filter(t=>t.env===r);function c(t){d(i=>[...i,t])}return e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[["all","dev","staging","prod","canary"].map(t=>e.jsx("button",{onClick:()=>a(t),className:n("px-3 py-1.5 rounded-lg text-sm font-medium border transition-all capitalize",r===t?"bg-indigo-500/20 text-indigo-400 border-indigo-500/40":"bg-zinc-900 text-zinc-400 border-zinc-800 hover:border-zinc-700 hover:text-zinc-300"),children:t},t)),e.jsxs("span",{className:"ml-auto text-sm text-zinc-500",children:[m.length," events"]})]}),e.jsxs("div",{className:"bg-zinc-900 rounded-xl border border-zinc-800 overflow-hidden",children:[e.jsxs("div",{className:"grid grid-cols-[1fr_120px_130px_140px_120px_130px] gap-4 px-5 py-2.5 bg-zinc-800/60 border-b border-zinc-800 text-xs text-zinc-500 uppercase tracking-wide",children:[e.jsx("span",{children:"Service / Message"}),e.jsx("span",{children:"Environment"}),e.jsx("span",{children:"Version"}),e.jsx("span",{children:"Deployed By"}),e.jsx("span",{children:"Status"}),e.jsx("span",{children:"Actions"})]}),m.map(t=>{const i=s.includes(t.id);return e.jsxs("div",{className:"grid grid-cols-[1fr_120px_130px_140px_120px_130px] gap-4 px-5 py-4 border-b border-zinc-800 last:border-0 hover:bg-zinc-800/30 transition-colors items-center",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-medium text-white",children:t.service}),e.jsx("code",{className:"text-xs text-zinc-500 font-mono",children:t.commit})]}),e.jsx("p",{className:"text-xs text-zinc-500 mt-0.5 truncate",children:t.message}),e.jsxs("p",{className:"text-xs text-zinc-600 mt-0.5",children:[h(t.deployedAt)," Â· ",t.duration]})]}),e.jsx("span",{className:"text-sm text-zinc-300 capitalize",children:t.env}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-mono text-white",children:t.version}),e.jsxs("p",{className:"text-xs font-mono text-zinc-600",children:["â† ",t.previousVersion]})]}),e.jsx("span",{className:"text-sm text-zinc-300",children:t.deployedBy}),e.jsx("span",{className:n("text-xs font-medium px-2 py-1 rounded-md border inline-block",k(i?"rolled_back":t.status)),children:i?"rolled back":t.status.replace(/_/g," ")}),e.jsxs("div",{children:[!i&&t.status!=="in_progress"&&t.env!=="prod"&&e.jsx("button",{onClick:()=>c(t.id),className:"text-xs px-2.5 py-1.5 rounded-lg bg-zinc-800 border border-zinc-700 text-zinc-300 hover:bg-zinc-700 hover:text-white transition-all",children:"â†© Rollback"}),t.env==="prod"&&!i&&t.status!=="in_progress"&&e.jsx("span",{className:"text-xs text-zinc-600 italic",children:"Approval req."}),i&&e.jsx("span",{className:"text-xs text-amber-400",children:"âœ“ Initiated"})]})]},t.id)})]})]})}function I(){const[s,d]=u.useState("env-dev"),[r,a]=u.useState(!1),m=b.find(i=>i.envId===s),c=b.find(i=>i.envId==="env-staging");function t(i,l){const o=c==null?void 0:c.vars.find(p=>p.key===i);return o?o.value===l?"same":"different":"new"}return e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-2",children:x.map(i=>e.jsx("button",{onClick:()=>d(i.id),className:n("px-3 py-1.5 rounded-lg text-sm font-medium border transition-all capitalize",s===i.id?"bg-indigo-500/20 text-indigo-400 border-indigo-500/40":"bg-zinc-900 text-zinc-400 border-zinc-800 hover:border-zinc-700 hover:text-zinc-300"),children:i.slug},i.id))}),s!=="env-staging"&&e.jsxs("button",{onClick:()=>a(i=>!i),className:n("px-3 py-1.5 rounded-lg text-sm font-medium border transition-all flex items-center gap-1.5",r?"bg-indigo-500/20 text-indigo-400 border-indigo-500/40":"bg-zinc-900 text-zinc-400 border-zinc-800 hover:border-zinc-700"),children:[e.jsx("span",{children:"âŽ‡"})," Diff vs staging"]})]}),e.jsxs("div",{className:"bg-zinc-900 rounded-xl border border-zinc-800 overflow-hidden",children:[e.jsxs("div",{className:"grid grid-cols-[240px_1fr_120px_160px_130px] gap-4 px-5 py-2.5 bg-zinc-800/60 border-b border-zinc-800 text-xs text-zinc-500 uppercase tracking-wide",children:[e.jsx("span",{children:"Key"}),e.jsx("span",{children:"Value"}),e.jsx("span",{children:"Type"}),e.jsx("span",{children:"Modified By"}),e.jsx("span",{children:"Last Modified"})]}),m==null?void 0:m.vars.map(i=>{var p;const l=r?t(i.key,i.value):"same",o=(p=c==null?void 0:c.vars.find(N=>N.key===i.key))==null?void 0:p.value;return e.jsxs("div",{className:n("grid grid-cols-[240px_1fr_120px_160px_130px] gap-4 px-5 py-3.5 border-b border-zinc-800 last:border-0 transition-colors items-start",r&&l==="different"?"bg-amber-500/5 hover:bg-amber-500/10":"hover:bg-zinc-800/30",r&&l==="new"?"bg-emerald-500/5 hover:bg-emerald-500/10":""),children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("code",{className:"text-sm font-mono text-white",children:i.key}),r&&l==="different"&&e.jsx("span",{className:"text-xs text-amber-400 bg-amber-500/10 px-1.5 py-0.5 rounded",children:"changed"}),r&&l==="new"&&e.jsx("span",{className:"text-xs text-emerald-400 bg-emerald-500/10 px-1.5 py-0.5 rounded",children:"new"})]}),e.jsxs("div",{children:[e.jsx("code",{className:n("text-sm font-mono",i.secret?"text-zinc-600":"text-indigo-300"),children:i.value}),r&&l==="different"&&o&&e.jsxs("p",{className:"text-xs font-mono text-zinc-500 mt-1 line-through",children:[o," ",e.jsx("span",{className:"no-underline text-zinc-600",children:"(staging)"})]})]}),e.jsx("span",{className:n("text-xs px-2 py-0.5 rounded-md border inline-block",i.secret?"bg-rose-500/10 text-rose-400 border-rose-500/20":"bg-zinc-800 text-zinc-400 border-zinc-700"),children:i.secret?"secret":"plain"}),e.jsx("span",{className:"text-sm text-zinc-400",children:i.modifiedBy}),e.jsx("span",{className:"text-sm text-zinc-500",children:i.lastModified})]},i.key)})]}),r&&s!=="env-staging"&&e.jsxs("div",{className:"flex items-center gap-4 text-xs text-zinc-500",children:[e.jsxs("span",{className:"flex items-center gap-1.5",children:[e.jsx("span",{className:"w-2 h-2 rounded-sm bg-amber-500/30 inline-block"})," Changed vs staging"]}),e.jsxs("span",{className:"flex items-center gap-1.5",children:[e.jsx("span",{className:"w-2 h-2 rounded-sm bg-emerald-500/20 inline-block"})," Not in staging"]})]})]})}function S(){const[s,d]=u.useState("all"),[r,a]=u.useState(w),m=s==="all"?v:v.filter(i=>i.envId===s);function c(i,l){a(o=>o.map(p=>p.id===i?{...p,status:l}:p))}const t=r.filter(i=>i.status==="pending").length;return e.jsxs("div",{className:"flex flex-col gap-6",children:[t>0&&e.jsxs("div",{className:"bg-zinc-900 rounded-xl border border-amber-500/30 overflow-hidden",children:[e.jsxs("div",{className:"px-5 py-3 bg-amber-500/10 border-b border-amber-500/20 flex items-center gap-2",children:[e.jsx("span",{className:"text-amber-400 text-sm font-semibold",children:"â³ Pending Approvals"}),e.jsx("span",{className:"text-xs bg-amber-500/20 text-amber-400 px-2 py-0.5 rounded-full font-medium",children:t})]}),e.jsx("div",{className:"divide-y divide-zinc-800",children:r.map(i=>{const l=x.find(o=>o.id===i.envId);return e.jsxs("div",{className:"px-5 py-4 flex items-center gap-4",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"text-sm font-medium text-white",children:i.requestedBy}),e.jsx("span",{className:"text-zinc-500 text-xs",children:"â†’"}),e.jsx("span",{className:n("text-xs px-2 py-0.5 rounded border",y(i.role)),children:i.role}),e.jsx("span",{className:"text-xs text-zinc-500",children:"on"}),e.jsx("span",{className:"text-xs text-white font-medium",children:l==null?void 0:l.name})]}),e.jsx("p",{className:"text-xs text-zinc-400 truncate",children:i.reason}),e.jsx("p",{className:"text-xs text-zinc-600 mt-0.5",children:h(i.requestedAt)})]}),e.jsx("div",{className:"flex items-center gap-2",children:i.status==="pending"?e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>c(i.id,"approved"),className:"px-3 py-1.5 rounded-lg bg-emerald-500/15 border border-emerald-500/30 text-emerald-400 text-xs font-medium hover:bg-emerald-500/25 transition-all",children:"âœ“ Approve"}),e.jsx("button",{onClick:()=>c(i.id,"denied"),className:"px-3 py-1.5 rounded-lg bg-rose-500/15 border border-rose-500/30 text-rose-400 text-xs font-medium hover:bg-rose-500/25 transition-all",children:"âœ• Deny"})]}):e.jsx("span",{className:n("text-xs px-2.5 py-1 rounded-md border",B(i.status)),children:i.status})})]},i.id)})})]}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-zinc-400 mr-1",children:"Filter:"}),[{id:"all",label:"All"},...x.map(i=>({id:i.id,label:i.name}))].map(i=>e.jsx("button",{onClick:()=>d(i.id),className:n("px-3 py-1.5 rounded-lg text-sm font-medium border transition-all",s===i.id?"bg-indigo-500/20 text-indigo-400 border-indigo-500/40":"bg-zinc-900 text-zinc-400 border-zinc-800 hover:border-zinc-700 hover:text-zinc-300"),children:i.label},i.id))]}),e.jsxs("div",{className:"bg-zinc-900 rounded-xl border border-zinc-800 overflow-hidden",children:[e.jsxs("div",{className:"grid grid-cols-[1fr_160px_120px_120px_80px] gap-4 px-5 py-2.5 bg-zinc-800/60 border-b border-zinc-800 text-xs text-zinc-500 uppercase tracking-wide",children:[e.jsx("span",{children:"User"}),e.jsx("span",{children:"Environment"}),e.jsx("span",{children:"Role"}),e.jsx("span",{children:"Granted By"}),e.jsx("span",{children:"MFA"})]}),m.map(i=>{const l=x.find(o=>o.id===i.envId);return e.jsxs("div",{className:"grid grid-cols-[1fr_160px_120px_120px_80px] gap-4 px-5 py-3.5 border-b border-zinc-800 last:border-0 hover:bg-zinc-800/30 transition-colors items-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-white font-medium",children:i.name}),e.jsx("p",{className:"text-xs text-zinc-500",children:i.email})]}),e.jsx("span",{className:"text-sm text-zinc-300",children:l==null?void 0:l.name}),e.jsx("span",{className:n("text-xs px-2 py-0.5 rounded-md border inline-block w-fit",y(i.role)),children:i.role}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-zinc-400",children:i.grantedBy}),e.jsx("p",{className:"text-xs text-zinc-600",children:i.grantedAt})]}),e.jsx("span",{className:n("text-xs font-medium",i.mfaEnabled?"text-emerald-400":"text-rose-400"),children:i.mfaEnabled?"âœ“ On":"âœ• Off"})]},i.id)})]})]})]})}const T=[{id:"environments",label:"Environments",icon:"ðŸŒ"},{id:"deployments",label:"Deployments",icon:"ðŸš€"},{id:"config",label:"Config",icon:"âš™ï¸"},{id:"access",label:"Access",icon:"ðŸ”‘"}];function L(){const[s,d]=u.useState("environments"),r={healthy:x.filter(a=>a.health==="healthy").length,degraded:x.filter(a=>a.health==="degraded").length,down:x.filter(a=>a.health==="down").length};return e.jsxs("div",{className:"min-h-screen bg-zinc-950 text-white p-6 flex flex-col gap-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Deployment Environment Manager"}),e.jsx("p",{className:"text-zinc-400 text-sm mt-1",children:"Manage environments, track deployments, configure variables, and control access."})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-emerald-400",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-emerald-400 animate-pulse"}),e.jsxs("span",{children:[r.healthy," healthy"]})]}),r.degraded>0&&e.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-amber-400",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-amber-400"}),e.jsxs("span",{children:[r.degraded," degraded"]})]}),r.down>0&&e.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-rose-400",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-rose-500"}),e.jsxs("span",{children:[r.down," down"]})]})]})]}),e.jsx("div",{className:"flex items-center gap-1 border-b border-zinc-800 pb-0",children:T.map(a=>e.jsxs("button",{onClick:()=>d(a.id),className:n("flex items-center gap-2 px-4 py-2.5 text-sm font-medium border-b-2 transition-all -mb-px",s===a.id?"border-indigo-500 text-white":"border-transparent text-zinc-500 hover:text-zinc-300 hover:border-zinc-600"),children:[e.jsx("span",{children:a.icon}),a.label]},a.id))}),e.jsxs("div",{className:n("flex-1",s==="environments"?"flex flex-col":""),children:[s==="environments"&&e.jsx(R,{}),s==="deployments"&&e.jsx(M,{}),s==="config"&&e.jsx(I,{}),s==="access"&&e.jsx(S,{})]})]})}export{L as default};
