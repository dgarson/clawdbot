import{r as t,j as e,c as f}from"./index-SfRm27bA.js";const P=[{id:"seed-1",method:"GET",url:"/api/agents",headers:[{key:"Authorization",value:"Bearer horizon_token_abc123"}],body:"",timestamp:Date.now()-5e3},{id:"seed-2",method:"POST",url:"/api/sessions",headers:[{key:"Content-Type",value:"application/json"},{key:"Authorization",value:"Bearer horizon_token_abc123"}],body:JSON.stringify({label:"new-session",model:"gemini-2.0-flash"},null,2),timestamp:Date.now()-1e4},{id:"seed-3",method:"GET",url:"/api/health",headers:[],body:"",timestamp:Date.now()-15e3}],B=Array.from({length:20}).map((c,m)=>({id:`log-seed-${m}`,timestamp:new Date(Date.now()-(20-m)*1e3).toLocaleTimeString(),level:["INFO","DEBUG","WARN","ERROR"][Math.floor(Math.random()*4)],message:["Gateway daemon started on port 3001","Session agent:luis:123 initialized","Received heartbeat from agent:reed","WebSocket connection established","Failed to resolve peer: node-882 (timeout)","Database migration completed","Authenticated user: david@horizon.ai","Broadcasting event: session.update","Rate limit warning for IP 192.168.1.1","Cleaning up expired sessions..."][Math.floor(Math.random()*10)]+` (Iteration ${m})`})),F=[{id:"f1",type:"message",direction:"in",payload:'{"action":"subscribe","channel":"logs"}',timestamp:"12:00:01"},{id:"f2",type:"event",direction:"out",payload:'{"event":"subscribed","channel":"logs"}',timestamp:"12:00:01"},{id:"f3",type:"ping",direction:"out",payload:"heartbeat",timestamp:"12:00:15"},{id:"f4",type:"pong",direction:"in",payload:"heartbeat",timestamp:"12:00:15"}],_=[{id:"e1",type:"session.create",timestamp:"12:05:10"},{id:"e2",type:"agent.heartbeat",timestamp:"12:05:15"},{id:"e3",type:"cron.fire",timestamp:"12:06:00"},{id:"e4",type:"agent.heartbeat",timestamp:"12:06:15"}],W=({data:c})=>{const d=JSON.stringify(c,null,2).split(`
`);return e.jsx("pre",{className:"font-mono text-sm overflow-x-auto whitespace-pre p-4 bg-zinc-950 rounded border border-zinc-800",children:d.map((p,r)=>{const h=p.match(/^(\s*)"([^"]+)":/),l=p.match(/:\s*(.*)$/);if(h&&l){const u=h[1],b=h[2],n=l[1].replace(/,$/,""),o=l[1].endsWith(",");let x=n;return n==="null"?x=e.jsx("span",{className:"text-rose-400",children:"null"}):n==="true"||n==="false"?x=e.jsx("span",{className:"text-indigo-400",children:n}):!isNaN(Number(n))&&n!==""?x=e.jsx("span",{className:"text-amber-400",children:n}):n.startsWith('"')&&(x=e.jsx("span",{className:"text-emerald-400",children:n})),e.jsxs("div",{children:[u,'"',e.jsx("span",{className:"text-white opacity-80",children:b}),'": ',x,o&&","]},r)}return e.jsx("div",{children:p},r)})})};function V(){const[c,m]=t.useState("api"),[d,p]=t.useState("GET"),[r,h]=t.useState("/api/agents"),[l,u]=t.useState([{key:"",value:""}]),[b,n]=t.useState(""),[o,x]=t.useState(null),[E,T]=t.useState(P),[v,A]=t.useState(!1),[j,D]=t.useState(!1),[w,S]=t.useState(B),[N,I]=t.useState("ALL"),[z,L]=t.useState(!0),y=t.useRef(null),[C]=t.useState(F),[O]=t.useState(_);t.useEffect(()=>{const s=setInterval(()=>{const a=["INFO","DEBUG","WARN","ERROR"],i={id:crypto.randomUUID(),timestamp:new Date().toLocaleTimeString(),level:a[Math.floor(Math.random()*a.length)],message:`Simulated gateway activity: ${Math.random().toString(36).substring(7)}`};S(g=>[...g.slice(-99),i])},5e3);return()=>clearInterval(s)},[]),t.useEffect(()=>{z&&y.current&&y.current.scrollIntoView({behavior:"smooth"})},[w,z]);const H=()=>{const s=Date.now();setTimeout(()=>{const a={status:r.includes("error")?500:r.includes("404")?404:200,time:Date.now()-s+Math.floor(Math.random()*50),data:{success:!r.includes("error"),timestamp:new Date().toISOString(),request:{method:d,url:r,body:b?JSON.parse(b):null},items:d==="GET"?[{id:1,name:"Agent Alpha"},{id:2,name:"Agent Beta"}]:void 0},headers:{"content-type":"application/json","x-request-id":crypto.randomUUID(),server:"Horizon-Gateway/1.0.0"}};x(a);const i={id:crypto.randomUUID(),method:d,url:r,headers:[...l],body:b,timestamp:Date.now()};T(g=>[i,...g].slice(0,5))},400)},U=s=>{p(s.method),h(s.url),u(s.headers),n(s.body)},M=()=>u([...l,{key:"",value:""}]),G=s=>u(l.filter((a,i)=>i!==s)),R=(s,a,i)=>{const g=[...l];g[s][a]=i,u(g)},k=w.filter(s=>N==="ALL"||s.level===N);return e.jsxs("div",{className:"flex flex-col h-full min-h-screen bg-zinc-950 text-white font-sans overflow-hidden",children:[e.jsx("nav",{className:"flex items-center gap-1 p-2 border-b border-zinc-800 bg-zinc-900",role:"tablist",children:["api","logs","gateway"].map(s=>e.jsxs("button",{role:"tab","aria-selected":c===s,onClick:()=>m(s),className:f("px-4 py-2 text-sm font-medium rounded-md transition-colors",c===s?"bg-zinc-800 text-indigo-400":"text-zinc-400 hover:text-white hover:bg-zinc-800"),children:[s.toUpperCase()," ",s==="api"?"Tester":s==="logs"?"Stream":"Inspector"]},s))}),e.jsxs("main",{className:"flex-1 overflow-auto p-4",children:[c==="api"&&e.jsxs("div",{className:"flex gap-4 h-full animate-in fade-in duration-300",children:[e.jsxs("div",{className:"flex-1 flex flex-col gap-4",children:[e.jsxs("section",{className:"bg-zinc-900 p-4 rounded-lg border border-zinc-800 shadow-xl",children:[e.jsxs("div",{className:"flex gap-2 mb-4",children:[e.jsx("select",{value:d,onChange:s=>p(s.target.value),className:"bg-zinc-800 border border-zinc-700 rounded px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500","aria-label":"HTTP Method",children:["GET","POST","PUT","DELETE","PATCH"].map(s=>e.jsx("option",{value:s,children:s},s))}),e.jsx("input",{type:"text",value:r,onChange:s=>h(s.target.value),placeholder:"https://api.horizon.ai/v1/...",className:"flex-1 bg-zinc-800 border border-zinc-700 rounded px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500","aria-label":"Request URL"}),e.jsx("button",{onClick:H,className:"bg-indigo-600 hover:bg-indigo-500 text-white px-6 py-2 rounded text-sm font-bold transition-all shadow-lg active:scale-95",children:"SEND"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("button",{onClick:()=>A(!v),className:"text-xs font-bold text-zinc-500 hover:text-zinc-300 flex items-center gap-1 mb-2 uppercase tracking-widest","aria-expanded":v,children:[v?"▼":"▶"," Headers (",l.length,")"]}),v&&e.jsxs("div",{className:"space-y-2 border-l-2 border-zinc-800 pl-4 py-2",children:[l.map((s,a)=>e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{placeholder:"Key",value:s.key,onChange:i=>R(a,"key",i.target.value),className:"flex-1 bg-zinc-950 border border-zinc-800 rounded px-2 py-1 text-xs font-mono"}),e.jsx("input",{placeholder:"Value",value:s.value,onChange:i=>R(a,"value",i.target.value),className:"flex-1 bg-zinc-950 border border-zinc-800 rounded px-2 py-1 text-xs font-mono"}),e.jsx("button",{onClick:()=>G(a),className:"text-rose-400 hover:bg-rose-900/20 w-8 h-8 rounded","aria-label":"Remove Header",children:"×"})]},a)),e.jsx("button",{onClick:M,className:"text-[10px] bg-zinc-800 hover:bg-zinc-700 text-zinc-300 px-2 py-1 rounded",children:"+ ADD HEADER"})]})]}),["POST","PUT","PATCH"].includes(d)&&e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-zinc-500 mb-2 block uppercase tracking-widest",children:"Request Body (JSON)"}),e.jsx("textarea",{value:b,onChange:s=>n(s.target.value),className:"w-full h-40 bg-zinc-950 border border-zinc-800 rounded p-3 text-sm font-mono focus:outline-none focus:ring-1 focus:ring-indigo-500",spellCheck:!1})]})]}),o&&e.jsxs("section",{className:"bg-zinc-900 p-4 rounded-lg border border-zinc-800 shadow-xl flex-1 flex flex-col min-h-0",children:[e.jsx("div",{className:"flex items-center justify-between mb-4 pb-4 border-b border-zinc-800",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("span",{className:f("px-2 py-1 rounded text-xs font-bold uppercase",o.status<300?"bg-emerald-900/30 text-emerald-400 border border-emerald-800":o.status<500?"bg-amber-900/30 text-amber-400 border border-amber-800":"bg-rose-900/30 text-rose-400 border border-rose-800"),children:["Status: ",o.status]}),e.jsxs("span",{className:"text-xs text-zinc-500 font-mono",children:[o.time,"ms"]})]})}),e.jsxs("div",{className:"flex-1 overflow-auto",children:[e.jsx(W,{data:o.data}),e.jsxs("button",{onClick:()=>D(!j),className:"text-xs font-bold text-zinc-500 hover:text-zinc-300 flex items-center gap-1 my-4 uppercase tracking-widest","aria-expanded":j,children:[j?"▼":"▶"," Response Headers"]}),j&&e.jsx("div",{className:"bg-zinc-950 border border-zinc-800 rounded p-2",children:Object.entries(o.headers).map(([s,a])=>e.jsxs("div",{className:"flex text-xs font-mono py-1 border-b border-zinc-900 last:border-0",children:[e.jsxs("span",{className:"text-indigo-400 w-32 shrink-0",children:[s,":"]}),e.jsx("span",{className:"text-zinc-400 break-all",children:a})]},s))})]})]})]}),e.jsx("aside",{className:"w-64 flex flex-col gap-4",children:e.jsxs("div",{className:"bg-zinc-900 p-4 rounded-lg border border-zinc-800 shadow-xl flex-1 overflow-hidden",children:[e.jsx("h2",{className:"text-xs font-bold text-zinc-500 mb-4 uppercase tracking-widest",children:"History"}),e.jsx("div",{className:"space-y-2 overflow-y-auto h-[calc(100%-2rem)]",children:E.map(s=>e.jsxs("button",{onClick:()=>U(s),className:"w-full text-left p-2 rounded bg-zinc-950 border border-zinc-800 hover:border-indigo-500 transition-colors group",children:[e.jsxs("div",{className:"flex justify-between items-center mb-1",children:[e.jsx("span",{className:f("text-[10px] font-bold px-1 rounded",s.method==="GET"?"text-emerald-400 bg-emerald-400/10":s.method==="POST"?"text-indigo-400 bg-indigo-400/10":"text-amber-400 bg-amber-400/10"),children:s.method}),e.jsx("span",{className:"text-[10px] text-zinc-600 font-mono",children:new Date(s.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"})})]}),e.jsx("div",{className:"text-[11px] font-mono text-zinc-400 truncate group-hover:text-white",children:s.url})]},s.id))})]})})]}),c==="logs"&&e.jsxs("div",{className:"flex flex-col h-full bg-zinc-900 rounded-lg border border-zinc-800 shadow-xl overflow-hidden animate-in zoom-in-95 duration-300",children:[e.jsxs("div",{className:"p-3 border-b border-zinc-800 bg-zinc-900/50 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{htmlFor:"log-filter",className:"text-xs font-bold text-zinc-500 uppercase tracking-tighter",children:"Level:"}),e.jsxs("select",{id:"log-filter",value:N,onChange:s=>I(s.target.value),className:"bg-zinc-800 border border-zinc-700 rounded px-2 py-1 text-xs focus:outline-none",children:[e.jsx("option",{value:"ALL",children:"ALL LEVELS"}),e.jsx("option",{value:"DEBUG",children:"DEBUG"}),e.jsx("option",{value:"INFO",children:"INFO"}),e.jsx("option",{value:"WARN",children:"WARN"}),e.jsx("option",{value:"ERROR",children:"ERROR"})]})]}),e.jsxs("label",{className:"flex items-center gap-2 text-xs font-bold text-zinc-500 cursor-pointer select-none",children:[e.jsx("input",{type:"checkbox",checked:z,onChange:s=>L(s.target.checked),className:"accent-indigo-500"}),"AUTO-SCROLL"]})]}),e.jsx("button",{onClick:()=>S([]),className:"text-[10px] bg-zinc-800 hover:bg-rose-900/30 hover:text-rose-400 text-zinc-400 px-3 py-1 rounded transition-colors border border-zinc-700",children:"CLEAR LOGS"})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 font-mono text-sm space-y-1 bg-zinc-950",children:[k.map(s=>e.jsxs("div",{className:"group flex gap-3 leading-relaxed hover:bg-zinc-900/50 px-2 rounded -mx-2 transition-colors",children:[e.jsxs("span",{className:"text-zinc-600 shrink-0 select-none",children:["[",s.timestamp,"]"]}),e.jsx("span",{className:f("font-bold shrink-0 w-16",s.level==="DEBUG"?"text-indigo-400":s.level==="INFO"?"text-emerald-400":s.level==="WARN"?"text-amber-400":"text-rose-400"),children:s.level}),e.jsx("span",{className:"text-zinc-300 break-all",children:s.message})]},s.id)),e.jsx("div",{ref:y}),k.length===0&&e.jsx("div",{className:"h-full flex flex-col items-center justify-center text-zinc-600 gap-2",children:e.jsx("div",{className:"text-4xl opacity-20",children:"No logs found"})})]})]}),c==="gateway"&&e.jsxs("div",{className:"grid grid-cols-12 gap-4 h-full animate-in slide-in-from-bottom-4 duration-300",children:[e.jsx("div",{className:"col-span-12 grid grid-cols-4 gap-4",children:[{label:"Status",value:"Connected",color:"text-emerald-400"},{label:"Uptime",value:"4d 12h 05m",color:"text-white"},{label:"Active Sessions",value:"12",color:"text-indigo-400"},{label:"Active Agents",value:"8",color:"text-amber-400"}].map(s=>e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 p-4 rounded-lg shadow-xl",children:[e.jsx("div",{className:"text-[10px] font-bold text-zinc-500 uppercase tracking-widest mb-1",children:s.label}),e.jsx("div",{className:f("text-xl font-bold font-mono",s.color),children:s.value})]},s.label))}),e.jsxs("div",{className:"col-span-8 bg-zinc-900 border border-zinc-800 rounded-lg flex flex-col overflow-hidden shadow-xl",children:[e.jsxs("div",{className:"p-3 border-b border-zinc-800 flex justify-between items-center",children:[e.jsx("h3",{className:"text-xs font-bold text-zinc-400 uppercase tracking-widest",children:"WebSocket Frames"}),e.jsxs("span",{className:"flex items-center gap-1.5",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-emerald-500 animate-pulse"}),e.jsx("span",{className:"text-[10px] text-zinc-500 font-bold",children:"STREAMING"})]})]}),e.jsx("div",{className:"flex-1 overflow-auto bg-zinc-950 p-4 font-mono text-xs",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-zinc-600 border-b border-zinc-800",children:[e.jsx("th",{className:"pb-2 font-medium w-24 text-center",children:"Dir"}),e.jsx("th",{className:"pb-2 font-medium w-24",children:"Type"}),e.jsx("th",{className:"pb-2 font-medium",children:"Payload"}),e.jsx("th",{className:"pb-2 font-medium w-24 text-right",children:"Time"})]})}),e.jsx("tbody",{className:"divide-y divide-zinc-900",children:C.map(s=>e.jsxs("tr",{className:"hover:bg-zinc-900/50",children:[e.jsx("td",{className:"py-2 text-center",children:e.jsx("span",{className:f("px-1.5 py-0.5 rounded-sm font-bold text-[9px]",s.direction==="in"?"bg-indigo-900/30 text-indigo-400":"bg-emerald-900/30 text-emerald-400"),children:s.direction.toUpperCase()})}),e.jsx("td",{className:"py-2",children:e.jsx("span",{className:"text-zinc-400 uppercase",children:s.type})}),e.jsx("td",{className:"py-2 font-mono text-zinc-500 truncate max-w-0",children:s.payload}),e.jsx("td",{className:"py-2 text-right text-zinc-600",children:s.timestamp})]},s.id))})]})})]}),e.jsxs("div",{className:"col-span-4 flex flex-col gap-4",children:[e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-lg p-4 shadow-xl flex-1",children:[e.jsx("h3",{className:"text-xs font-bold text-zinc-400 uppercase tracking-widest mb-4",children:"Recent Events"}),e.jsx("div",{className:"space-y-3",children:O.map(s=>e.jsxs("div",{className:"flex justify-between items-center text-xs",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-1 h-4 bg-indigo-500/50 rounded-full"}),e.jsx("span",{className:"font-mono text-zinc-300",children:s.type})]}),e.jsx("span",{className:"text-zinc-600 font-mono",children:s.timestamp})]},s.id))})]}),e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-lg p-4 shadow-xl",children:[e.jsx("h3",{className:"text-xs font-bold text-zinc-400 uppercase tracking-widest mb-4",children:"Performance"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-[10px] text-zinc-500 font-bold mb-1 uppercase",children:[e.jsx("span",{children:"Messages / Min"}),e.jsx("span",{children:"42"})]}),e.jsx("div",{className:"w-full bg-zinc-800 h-1 rounded-full overflow-hidden",children:e.jsx("div",{className:"bg-indigo-500 h-full",style:{width:"42%"}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-[10px] text-zinc-500 font-bold mb-1 uppercase",children:[e.jsx("span",{children:"Error Rate"}),e.jsx("span",{className:"text-rose-400",children:"0.02%"})]}),e.jsx("div",{className:"w-full bg-zinc-800 h-1 rounded-full overflow-hidden",children:e.jsx("div",{className:"bg-rose-500 h-full",style:{width:"2%"}})})]})]})]})]})]})]})]})}export{V as default};
