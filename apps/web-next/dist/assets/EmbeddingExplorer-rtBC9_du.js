import{r as n,j as e,c as a,R as S}from"./index-BIpBYZk3.js";const v={agent:{dot:"bg-indigo-400",text:"text-indigo-400",label:"Agent"},tool:{dot:"bg-emerald-400",text:"text-emerald-400",label:"Tool"},memory:{dot:"bg-purple-400",text:"text-purple-400",label:"Memory"},task:{dot:"bg-amber-400",text:"text-amber-400",label:"Task"},config:{dot:"bg-blue-400",text:"text-blue-400",label:"Config"}};function s(){return Array.from({length:8},()=>parseFloat((Math.random()*2-1).toFixed(4)))}const L=[{id:"emb-001",text:"Agent initialization routine",category:"agent",model:"text-embedding-3-small",dimensions:1536,x:12,y:23,similarity:.94,tags:["init","startup"],vector:s()},{id:"emb-002",text:"Web search tool invocation",category:"tool",model:"text-embedding-3-small",dimensions:1536,x:45,y:67,similarity:.87,tags:["search","web"],vector:s()},{id:"emb-003",text:"Long-term memory retrieval",category:"memory",model:"all-MiniLM",dimensions:384,x:78,y:34,similarity:.91,tags:["retrieval","ltm"],vector:s()},{id:"emb-004",text:"Schedule daily heartbeat task",category:"task",model:"text-embedding-3-small",dimensions:1536,x:34,y:82,similarity:.72,tags:["cron","heartbeat"],vector:s()},{id:"emb-005",text:"Gateway configuration update",category:"config",model:"all-MiniLM",dimensions:384,x:62,y:15,similarity:.68,tags:["gateway","settings"],vector:s()},{id:"emb-006",text:"Multi-agent orchestration flow",category:"agent",model:"text-embedding-3-small",dimensions:1536,x:18,y:45,similarity:.89,tags:["orchestration","multi"],vector:s()},{id:"emb-007",text:"File read and write operations",category:"tool",model:"all-MiniLM",dimensions:384,x:53,y:58,similarity:.76,tags:["file","io"],vector:s()},{id:"emb-008",text:"Conversation context window",category:"memory",model:"text-embedding-3-small",dimensions:1536,x:71,y:42,similarity:.83,tags:["context","window"],vector:s()},{id:"emb-009",text:"PR review and merge workflow",category:"task",model:"text-embedding-3-small",dimensions:1536,x:28,y:71,similarity:.65,tags:["pr","review"],vector:s()},{id:"emb-010",text:"Model temperature parameter",category:"config",model:"all-MiniLM",dimensions:384,x:88,y:20,similarity:.58,tags:["model","temperature"],vector:s()},{id:"emb-011",text:"Subagent spawn and delegation",category:"agent",model:"all-MiniLM",dimensions:384,x:22,y:38,similarity:.92,tags:["spawn","delegate"],vector:s()},{id:"emb-012",text:"Browser automation actions",category:"tool",model:"text-embedding-3-small",dimensions:1536,x:41,y:53,similarity:.81,tags:["browser","automation"],vector:s()},{id:"emb-013",text:"Episodic memory encoding",category:"memory",model:"all-MiniLM",dimensions:384,x:66,y:48,similarity:.77,tags:["episodic","encoding"],vector:s()},{id:"emb-014",text:"Build and deploy pipeline",category:"task",model:"text-embedding-3-small",dimensions:1536,x:37,y:90,similarity:.62,tags:["build","deploy"],vector:s()},{id:"emb-015",text:"API rate limit settings",category:"config",model:"text-embedding-3-small",dimensions:1536,x:82,y:8,similarity:.55,tags:["api","ratelimit"],vector:s()},{id:"emb-016",text:"Agent persona and voice config",category:"agent",model:"text-embedding-3-small",dimensions:1536,x:15,y:60,similarity:.85,tags:["persona","voice"],vector:s()},{id:"emb-017",text:"Shell command execution",category:"tool",model:"all-MiniLM",dimensions:384,x:50,y:75,similarity:.79,tags:["shell","exec"],vector:s()},{id:"emb-018",text:"Working memory buffer flush",category:"memory",model:"text-embedding-3-small",dimensions:1536,x:74,y:55,similarity:.88,tags:["buffer","flush"],vector:s()},{id:"emb-019",text:"Code review checklist task",category:"task",model:"all-MiniLM",dimensions:384,x:30,y:65,similarity:.71,tags:["checklist","review"],vector:s()},{id:"emb-020",text:"Logging verbosity level",category:"config",model:"all-MiniLM",dimensions:384,x:92,y:30,similarity:.52,tags:["logging","verbosity"],vector:s()}];function F(){const[h,w]=n.useState(L),[d,z]=n.useState(""),[y,M]=n.useState(.6),[m,u]=n.useState(null),[x,g]=n.useState(null),[r,E]=n.useState("all"),[o,f]=n.useState(!1),b=h.filter(t=>r==="all"||t.model===r),i=m?h.find(t=>t.id===m)??null:null;x&&h.find(t=>t.id===x);const k=i?[...b].filter(t=>t.id!==i.id).sort((t,l)=>l.similarity-t.similarity).slice(0,5):[];function j(){!d.trim()||o||(f(!0),setTimeout(()=>{const t={id:`emb-q-${Date.now()}`,text:d.trim(),category:"agent",model:r==="all"?"text-embedding-3-small":r,dimensions:r==="all-MiniLM"?384:1536,x:Math.round(Math.random()*80+10),y:Math.round(Math.random()*80+10),similarity:parseFloat((Math.random()*.3+.7).toFixed(2)),tags:d.trim().toLowerCase().split(/\s+/).slice(0,3),vector:s()};w(l=>[...l,t]),u(t.id),f(!1)},1500))}return e.jsxs("div",{className:"min-h-screen bg-zinc-950 text-white p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Embedding Explorer"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("select",{value:r,onChange:t=>E(t.target.value),className:"bg-zinc-800 border border-zinc-700 text-white rounded px-3 py-2 text-sm",children:[e.jsx("option",{value:"all",children:"All Models"}),e.jsx("option",{value:"text-embedding-3-small",children:"text-embedding-3-small"}),e.jsx("option",{value:"all-MiniLM",children:"all-MiniLM"})]}),e.jsx("button",{onClick:j,disabled:!d.trim()||o,className:a("px-3 py-1.5 rounded text-sm font-medium transition-colors",!d.trim()||o?"bg-zinc-700 text-zinc-500 cursor-not-allowed":"bg-indigo-600 hover:bg-indigo-500 text-white"),children:o?"Embedding...":"Embed Query"})]})]}),e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx("input",{type:"text",placeholder:"Enter a query to find similar embeddings...",value:d,onChange:t=>z(t.target.value),onKeyDown:t=>t.key==="Enter"&&j(),className:"flex-1 bg-zinc-800 border border-zinc-700 text-white rounded px-3 py-2 text-sm placeholder:text-zinc-500"}),e.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[e.jsxs("span",{className:"text-zinc-400 text-xs whitespace-nowrap",children:["Threshold: ",y.toFixed(2)]}),e.jsx("input",{type:"range",min:.5,max:.99,step:.01,value:y,onChange:t=>M(parseFloat(t.target.value)),className:"w-28 accent-indigo-500"})]})]}),e.jsxs("div",{className:"flex gap-5",children:[e.jsx("div",{className:"w-[60%]",children:e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-lg p-4",children:[e.jsxs("div",{className:"text-xs text-zinc-500 mb-2",children:["2D Projection · ",b.length," embeddings"]}),e.jsxs("div",{className:"relative h-[420px] bg-zinc-950 rounded border border-zinc-800 overflow-hidden",children:[[25,50,75].map(t=>e.jsxs(S.Fragment,{children:[e.jsx("div",{className:"absolute top-0 bottom-0 border-l border-zinc-800/50",style:{left:`${t}%`}}),e.jsx("div",{className:"absolute left-0 right-0 border-t border-zinc-800/50",style:{top:`${t}%`}})]},t)),o&&e.jsx("div",{className:"absolute inset-0 z-20 flex items-center justify-center",children:e.jsx("div",{className:"bg-zinc-900/80 rounded-lg px-4 py-2 text-sm text-indigo-400 animate-pulse",children:"Computing embedding vector..."})}),b.map(t=>{const l=t.similarity>=y,c=t.id===m,p=t.id===x,N=v[t.category];return e.jsxs("div",{children:[e.jsx("div",{className:a("absolute w-3 h-3 rounded-full cursor-pointer transition-all duration-200 -translate-x-1/2 -translate-y-1/2",N.dot,l?"opacity-100":"opacity-20",c&&"ring-2 ring-white ring-offset-1 ring-offset-zinc-950 w-4 h-4",p&&!c&&"scale-150"),style:{left:`${t.x}%`,top:`${t.y}%`,zIndex:c?10:p?5:1},onClick:()=>u(t.id===m?null:t.id),onMouseEnter:()=>g(t.id),onMouseLeave:()=>g(null)}),p&&e.jsxs("div",{className:"absolute z-30 bg-zinc-800 border border-zinc-700 rounded px-3 py-2 text-xs pointer-events-none shadow-lg max-w-[220px]",style:{left:`${t.x}%`,top:`${t.y}%`,transform:`translate(${t.x>70?"-100%":"8px"}, -110%)`},children:[e.jsx("div",{className:"text-white font-medium mb-1 truncate",children:t.text}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:a("text-xs",N.text),children:t.category}),e.jsx("span",{className:"text-zinc-500",children:"·"}),e.jsxs("span",{className:"text-zinc-400",children:["sim: ",t.similarity.toFixed(2)]})]})]})]},t.id)})]}),e.jsx("div",{className:"flex items-center gap-4 mt-3 flex-wrap",children:Object.entries(v).map(([t,l])=>e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:a("w-2.5 h-2.5 rounded-full",l.dot)}),e.jsx("span",{className:"text-xs text-zinc-400",children:l.label})]},t))})]})}),e.jsxs("div",{className:"w-[40%] space-y-4",children:[e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-lg p-4",children:[e.jsx("h3",{className:"text-sm font-semibold text-zinc-400 uppercase tracking-wider mb-3",children:"Selected Embedding"}),i?e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-white font-medium text-sm",children:i.text}),e.jsx("div",{className:"text-xs text-zinc-500 mt-1",children:i.id})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-zinc-500",children:"Category"}),e.jsx("div",{className:a("font-medium mt-0.5",v[i.category].text),children:i.category})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-zinc-500",children:"Model"}),e.jsx("div",{className:"text-white font-medium mt-0.5 truncate",children:i.model})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-zinc-500",children:"Dimensions"}),e.jsx("div",{className:"text-white font-medium mt-0.5",children:i.dimensions})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-zinc-500",children:"Similarity"}),e.jsx("div",{className:a("font-medium mt-0.5",i.similarity>=.8?"text-emerald-400":i.similarity>=.6?"text-amber-400":"text-rose-400"),children:i.similarity.toFixed(3)})]})]}),e.jsx("div",{className:"flex gap-1.5 flex-wrap",children:i.tags.map(t=>e.jsx("span",{className:"bg-zinc-800 border border-zinc-700 text-zinc-300 text-xs px-2 py-0.5 rounded",children:t},t))}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-xs text-zinc-500 mb-1",children:[e.jsx("span",{children:"Similarity"}),e.jsxs("span",{children:[(i.similarity*100).toFixed(1),"%"]})]}),e.jsx("div",{className:"h-1.5 bg-zinc-800 rounded-full overflow-hidden",children:e.jsx("div",{className:a("h-full rounded-full transition-all duration-300",i.similarity>=.8?"bg-emerald-400":i.similarity>=.6?"bg-amber-400":"bg-rose-400"),style:{width:`${i.similarity*100}%`}})})]})]}):e.jsx("div",{className:"text-zinc-500 text-sm py-6 text-center",children:"Click an embedding point to view details"})]}),i&&e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-lg p-4",children:[e.jsx("h3",{className:"text-sm font-semibold text-zinc-400 uppercase tracking-wider mb-3",children:"Similar Embeddings"}),e.jsx("div",{className:"space-y-2.5",children:k.map(t=>e.jsxs("div",{className:a("p-2 rounded cursor-pointer transition-colors hover:bg-zinc-800",t.id===x&&"bg-zinc-800"),onClick:()=>u(t.id),onMouseEnter:()=>g(t.id),onMouseLeave:()=>g(null),children:[e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsx("div",{className:"text-xs text-white truncate flex-1",children:t.text}),e.jsx("span",{className:a("text-xs font-mono shrink-0",t.similarity>=.8?"text-emerald-400":t.similarity>=.6?"text-amber-400":"text-rose-400"),children:t.similarity.toFixed(2)})]}),e.jsx("div",{className:"h-1 bg-zinc-800 rounded-full mt-1.5 overflow-hidden",children:e.jsx("div",{className:"h-full bg-indigo-500 rounded-full",style:{width:`${t.similarity*100}%`}})})]},t.id))})]}),i&&e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-lg p-4",children:[e.jsxs("h3",{className:"text-sm font-semibold text-zinc-400 uppercase tracking-wider mb-3",children:["Vector Preview",e.jsxs("span",{className:"text-zinc-500 font-normal ml-1",children:["(first 8 of ",i.dimensions,")"]})]}),e.jsx("div",{className:"flex flex-wrap gap-1.5",children:i.vector.map((t,l)=>e.jsxs("span",{className:a("font-mono text-xs px-2 py-1 rounded border",t>=0?"bg-emerald-500/10 border-emerald-500/20 text-emerald-400":"bg-rose-500/10 border-rose-500/20 text-rose-400"),children:[t>=0?"+":"",t.toFixed(4)]},l))}),e.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[e.jsx("div",{className:"h-4 flex-1 flex gap-px",children:i.vector.map((t,l)=>{const c=Math.abs(t);return e.jsx("div",{className:"flex-1 flex flex-col justify-end",children:e.jsx("div",{className:a("w-full rounded-sm",t>=0?"bg-emerald-400":"bg-rose-400"),style:{height:`${c*100}%`}})},l)})}),e.jsx("span",{className:"text-zinc-500 text-xs",children:"magnitude"})]})]})]})]})]})}export{F as default};
