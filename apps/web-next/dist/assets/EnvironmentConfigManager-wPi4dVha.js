import{r as n,j as e,c as i}from"./index-SfRm27bA.js";const _={development:"text-indigo-400",staging:"text-amber-400",production:"text-rose-400",dr:"text-purple-400"},d={development:"bg-indigo-500/20 text-indigo-300 border border-indigo-500/30",staging:"bg-amber-500/20 text-amber-300 border border-amber-500/30",production:"bg-rose-500/20 text-rose-300 border border-rose-500/30",dr:"bg-purple-500/20 text-purple-300 border border-purple-500/30"},u={synced:"bg-emerald-500/20 text-emerald-300 border border-emerald-500/30",pending:"bg-amber-500/20 text-amber-300 border border-amber-500/30",error:"bg-rose-500/20 text-rose-300 border border-rose-500/30",drift:"bg-orange-500/20 text-orange-300 border border-orange-500/30"},h={string:"ðŸ“",json:"ðŸ”§",url:"ðŸ”—",boolean:"âš¡",number:"ðŸ”¢"},V={kubernetes:"â˜¸ï¸",lambda:"Î»",ecs:"ðŸ³",vm:"ðŸ–¥ï¸"},g=[{env:"development",status:"synced",varCount:42,secretCount:12,lastSync:"2m ago",pendingChanges:0,deployTarget:"kubernetes"},{env:"staging",status:"pending",varCount:44,secretCount:12,lastSync:"15m ago",pendingChanges:3,deployTarget:"kubernetes"},{env:"production",status:"synced",varCount:44,secretCount:14,lastSync:"1m ago",pendingChanges:0,deployTarget:"kubernetes"},{env:"dr",status:"drift",varCount:38,secretCount:10,lastSync:"2h ago",pendingChanges:6,deployTarget:"ecs"}],x=[{id:"cv-01",key:"DATABASE_URL",value:"postgres://***@prod-db.internal:5432/clawdbot",type:"url",isSecret:!0,description:"Primary database connection string",service:"api",env:"production",lastModified:"2026-02-20",modifiedBy:"tim",version:5},{id:"cv-02",key:"JWT_SECRET",value:"***",type:"string",isSecret:!0,description:"JWT signing secret",service:"auth-service",env:"production",lastModified:"2026-02-18",modifiedBy:"tim",version:3},{id:"cv-03",key:"REDIS_URL",value:"redis://prod-redis.internal:6379",type:"url",isSecret:!1,description:"Redis cache connection",service:"api",env:"production",lastModified:"2026-02-15",modifiedBy:"sam",version:2},{id:"cv-04",key:"AI_PROVIDER_API_KEY",value:"***",type:"string",isSecret:!0,description:"Anthropic API key for AI features",service:"ai-service",env:"production",lastModified:"2026-02-22",modifiedBy:"xavier",version:7},{id:"cv-05",key:"LOG_LEVEL",value:"warn",type:"string",isSecret:!1,description:"Application log verbosity",service:"api",env:"production",lastModified:"2026-02-01",modifiedBy:"quinn",version:4},{id:"cv-06",key:"MAX_CONNECTIONS",value:"100",type:"number",isSecret:!1,description:"Max DB pool connections",service:"api",env:"production",lastModified:"2026-02-10",modifiedBy:"tim",version:2},{id:"cv-07",key:"FEATURE_FLAGS_JSON",value:'{"session_replay":true,"ai_completions":false}',type:"json",isSecret:!1,description:"Feature flag overrides",service:"api",env:"production",lastModified:"2026-02-22",modifiedBy:"piper",version:12},{id:"cv-08",key:"SMTP_HOST",value:"smtp.sendgrid.net",type:"string",isSecret:!1,description:"Email delivery host",service:"notification-service",env:"production",lastModified:"2026-02-05",modifiedBy:"sam",version:1},{id:"cv-09",key:"ENABLE_RATE_LIMITING",value:"true",type:"boolean",isSecret:!1,description:"Toggle global rate limiting",service:"api-gateway",env:"production",lastModified:"2026-02-12",modifiedBy:"tim",version:3},{id:"cv-10",key:"S3_BUCKET_NAME",value:"clawdbot-prod-assets",type:"string",isSecret:!1,description:"Primary S3 bucket for file storage",service:"storage-service",env:"production",lastModified:"2026-01-15",modifiedBy:"wes",version:1},{id:"cv-11",key:"DATABASE_URL",value:"postgres://***@staging-db.internal:5432/clawdbot",type:"url",isSecret:!0,description:"Staging database connection string",service:"api",env:"staging",lastModified:"2026-02-20",modifiedBy:"tim",version:5},{id:"cv-12",key:"LOG_LEVEL",value:"debug",type:"string",isSecret:!1,description:"Application log verbosity",service:"api",env:"staging",lastModified:"2026-02-01",modifiedBy:"quinn",version:4}],l=[{key:"LOG_LEVEL",env1Value:"debug",env2Value:"warn",match:!1},{key:"DATABASE_URL",env1Value:"postgres://***@staging-db.internal",env2Value:"postgres://***@prod-db.internal",match:!1},{key:"REDIS_URL",env1Value:"redis://staging-redis.internal:6379",env2Value:"redis://prod-redis.internal:6379",match:!1},{key:"AI_PROVIDER_API_KEY",env1Value:"***",env2Value:"***",match:!0},{key:"MAX_CONNECTIONS",env1Value:"50",env2Value:"100",match:!1},{key:"FEATURE_FLAGS_JSON",env1Value:'{"session_replay":true,"ai_completions":true}',env2Value:'{"session_replay":true,"ai_completions":false}',match:!1},{key:"ENABLE_RATE_LIMITING",env1Value:"true",env2Value:"true",match:!0},{key:"S3_BUCKET_NAME",env1Value:"clawdbot-staging-assets",env2Value:"clawdbot-prod-assets",match:!1}],b=[{id:"cl-01",key:"AI_PROVIDER_API_KEY",env:"production",action:"updated",author:"xavier",timestamp:"2026-02-22 10:15",fromValue:"***",toValue:"***",service:"ai-service"},{id:"cl-02",key:"FEATURE_FLAGS_JSON",env:"production",action:"updated",author:"piper",timestamp:"2026-02-22 09:30",fromValue:'{"session_replay":false}',toValue:'{"session_replay":true}',service:"api"},{id:"cl-03",key:"FEATURE_FLAGS_JSON",env:"staging",action:"promoted",author:"tim",timestamp:"2026-02-22 09:00",fromValue:"",toValue:'{"session_replay":true,"ai_completions":true}',service:"api"},{id:"cl-04",key:"JWT_SECRET",env:"production",action:"updated",author:"tim",timestamp:"2026-02-18 14:00",fromValue:"***",toValue:"***",service:"auth-service"},{id:"cl-05",key:"WEBHOOK_SIGNING_SECRET",env:"production",action:"created",author:"sam",timestamp:"2026-02-16 11:45",fromValue:"",toValue:"***",service:"webhook-service"},{id:"cl-06",key:"LEGACY_AUTH_ENABLED",env:"staging",action:"deleted",author:"tim",timestamp:"2026-02-14 16:20",fromValue:"false",toValue:"",service:"auth-service"}],f={created:"bg-emerald-500/20 text-emerald-300",updated:"bg-blue-500/20 text-blue-300",deleted:"bg-rose-500/20 text-rose-300",promoted:"bg-indigo-500/20 text-indigo-300"};function k(){const[a,N]=n.useState("overview"),[m,j]=n.useState("production"),[t,y]=n.useState(x.filter(s=>s.env==="production")[0]),[r,z]=n.useState(!1),[c,S]=n.useState("all"),p=x.filter(s=>s.env===m),E=["all",...Array.from(new Set(x.map(s=>s.service)))],v=c==="all"?p:p.filter(s=>s.service===c),o=l.filter(s=>s.match).length;return e.jsxs("div",{className:"flex flex-col h-full bg-zinc-950 text-white",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-zinc-800 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-semibold",children:"Environment Config Manager"}),e.jsx("p",{className:"text-sm text-zinc-400 mt-0.5",children:"Secrets Â· Variables Â· Drift Detection"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex items-center gap-2",children:g.map(s=>e.jsxs("span",{className:i("flex items-center gap-1 text-xs px-2 py-0.5 rounded-full",u[s.status]),children:[e.jsx("span",{className:"capitalize",children:s.env.slice(0,4)}),s.pendingChanges>0&&e.jsx("span",{className:"font-bold",children:s.pendingChanges})]},s.env))}),e.jsx("button",{className:"px-3 py-1.5 bg-indigo-600 hover:bg-indigo-500 rounded text-sm font-medium transition-colors",children:"+ Add Variable"})]})]}),e.jsx("div",{className:"flex border-b border-zinc-800 px-6",children:["overview","vars","diff","history"].map(s=>e.jsx("button",{onClick:()=>N(s),className:i("px-4 py-3 text-sm font-medium border-b-2 transition-colors capitalize",a===s?"border-indigo-500 text-white":"border-transparent text-zinc-400 hover:text-zinc-200"),children:s==="vars"?"Variables":s==="diff"?"Env Diff":s.charAt(0).toUpperCase()+s.slice(1)},s))}),a==="overview"&&e.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[e.jsx("div",{className:"grid grid-cols-4 gap-4 mb-8",children:g.map(s=>e.jsxs("div",{className:"bg-zinc-900 rounded-xl p-5 border border-zinc-800",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xl",children:V[s.deployTarget]}),e.jsx("span",{className:i("text-sm font-semibold capitalize",_[s.env]),children:s.env})]}),e.jsx("span",{className:i("text-xs px-2 py-0.5 rounded-full",u[s.status]),children:s.status})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xl font-bold font-mono text-white",children:s.varCount}),e.jsx("div",{className:"text-xs text-zinc-500",children:"variables"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xl font-bold font-mono text-amber-400",children:s.secretCount}),e.jsx("div",{className:"text-xs text-zinc-500",children:"secrets"})]})]}),e.jsxs("div",{className:"text-xs text-zinc-500 text-center",children:["Synced ",s.lastSync]}),s.pendingChanges>0&&e.jsxs("div",{className:"mt-2 text-center text-xs text-amber-400 font-medium",children:[s.pendingChanges," pending change",s.pendingChanges>1?"s":""]})]},s.env))}),e.jsx("h2",{className:"text-sm font-medium text-zinc-300 mb-3",children:"Recent Changes"}),e.jsx("div",{className:"space-y-2",children:b.slice(0,4).map(s=>e.jsxs("div",{className:"bg-zinc-900 rounded-lg p-3 flex items-center gap-4",children:[e.jsx("span",{className:i("text-xs px-2 py-0.5 rounded capitalize font-medium",f[s.action]),children:s.action}),e.jsx("span",{className:"font-mono text-sm text-white",children:s.key}),e.jsx("span",{className:i("text-xs px-1.5 py-0.5 rounded",d[s.env]),children:s.env}),e.jsx("span",{className:"text-xs text-zinc-500",children:s.service}),e.jsxs("span",{className:"ml-auto text-xs text-zinc-500",children:["by ",s.author," Â· ",s.timestamp]})]},s.id))})]}),a==="vars"&&e.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[e.jsxs("div",{className:"w-80 border-r border-zinc-800 flex flex-col",children:[e.jsxs("div",{className:"p-3 border-b border-zinc-800 space-y-2",children:[e.jsx("div",{className:"flex gap-1.5 flex-wrap",children:["development","staging","production","dr"].map(s=>e.jsx("button",{onClick:()=>{j(s)},className:i("text-xs px-2 py-0.5 rounded border transition-colors capitalize",m===s?d[s]:"border-zinc-700 text-zinc-400 hover:border-zinc-500"),children:s.slice(0,4)},s))}),e.jsx("select",{value:c,onChange:s=>S(s.target.value),className:"w-full bg-zinc-800 border border-zinc-700 rounded px-2 py-1 text-xs text-white",children:E.map(s=>e.jsx("option",{value:s,children:s==="all"?"All services":s},s))})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto",children:[v.map(s=>e.jsxs("button",{onClick:()=>y(s),className:i("w-full text-left px-4 py-2.5 border-b border-zinc-800/60 hover:bg-zinc-800/40 transition-colors",t.id===s.id&&"bg-zinc-800/60"),children:[e.jsxs("div",{className:"flex items-center gap-2 mb-0.5",children:[e.jsx("span",{className:"text-xs",children:h[s.type]}),e.jsx("span",{className:"font-mono text-xs font-medium text-white truncate",children:s.key}),s.isSecret&&e.jsx("span",{className:"ml-auto text-xs text-amber-400",children:"ðŸ”’"})]}),e.jsx("div",{className:"text-xs text-zinc-500 ml-5",children:s.service})]},s.id)),v.length===0&&e.jsx("div",{className:"text-center py-8 text-zinc-500 text-sm",children:"No variables found"})]})]}),t&&e.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-mono text-lg font-semibold mb-1",children:t.key}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:i("text-xs px-2 py-0.5 rounded",d[t.env]),children:t.env}),e.jsx("span",{className:"text-xs text-zinc-500",children:t.service}),e.jsxs("span",{className:"text-xs text-zinc-500",children:["v",t.version]}),t.isSecret&&e.jsx("span",{className:"text-xs text-amber-400 bg-amber-500/10 px-1.5 py-0.5 rounded",children:"secret"})]})]}),e.jsx("button",{onClick:()=>z(!r),className:"text-xs px-3 py-1.5 bg-zinc-800 hover:bg-zinc-700 rounded border border-zinc-700 transition-colors",children:r?"ðŸ”’ Hide":"ðŸ‘ï¸ Reveal"})]}),e.jsxs("div",{className:"bg-zinc-900 rounded-lg p-4 mb-4",children:[e.jsx("div",{className:"text-xs text-zinc-500 mb-1",children:"Value"}),e.jsx("div",{className:i("font-mono text-sm break-all",t.isSecret&&!r?"text-zinc-600 select-none":"text-white"),children:t.isSecret&&!r?"â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—â—":t.value})]}),e.jsxs("div",{className:"bg-zinc-900 rounded-lg p-4 mb-4",children:[e.jsx("div",{className:"text-xs text-zinc-500 mb-1",children:"Description"}),e.jsx("div",{className:"text-sm text-zinc-300",children:t.description})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-4",children:[e.jsxs("div",{className:"bg-zinc-900 rounded p-3",children:[e.jsx("div",{className:"text-xs text-zinc-500 mb-1",children:"Type"}),e.jsxs("div",{className:"flex items-center gap-1.5 text-sm text-white",children:[e.jsx("span",{children:h[t.type]}),e.jsx("span",{className:"capitalize",children:t.type})]})]}),e.jsxs("div",{className:"bg-zinc-900 rounded p-3",children:[e.jsx("div",{className:"text-xs text-zinc-500 mb-1",children:"Modified"}),e.jsx("div",{className:"text-sm text-white",children:t.lastModified})]}),e.jsxs("div",{className:"bg-zinc-900 rounded p-3",children:[e.jsx("div",{className:"text-xs text-zinc-500 mb-1",children:"By"}),e.jsx("div",{className:"text-sm text-white font-mono",children:t.modifiedBy})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"flex-1 py-2 bg-zinc-800 hover:bg-zinc-700 rounded text-sm transition-colors",children:"Edit"}),e.jsx("button",{className:"flex-1 py-2 bg-indigo-600/30 hover:bg-indigo-600/50 text-indigo-300 rounded text-sm transition-colors",children:"Promote to Prod"}),e.jsx("button",{className:"px-4 py-2 bg-rose-600/20 hover:bg-rose-600/30 text-rose-400 rounded text-sm transition-colors",children:"Delete"})]})]})]}),a==="diff"&&e.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-base font-semibold",children:"Environment Diff"}),e.jsxs("p",{className:"text-sm text-zinc-400 mt-0.5",children:["Staging vs Production â€” ",l.length-o," differences"]})]}),e.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[e.jsxs("span",{className:"flex items-center gap-1.5 text-emerald-400",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-emerald-400"}),o," matching"]}),e.jsxs("span",{className:"flex items-center gap-1.5 text-rose-400",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-rose-400"}),l.length-o," different"]})]})]}),e.jsx("div",{className:"space-y-2",children:l.map(s=>e.jsxs("div",{className:i("rounded-lg border overflow-hidden",s.match?"border-zinc-800":"border-rose-500/30"),children:[e.jsxs("div",{className:i("px-4 py-2 flex items-center gap-3",s.match?"bg-zinc-900":"bg-rose-500/5"),children:[e.jsx("span",{className:s.match?"text-emerald-400":"text-rose-400",children:s.match?"âœ“":"âœ—"}),e.jsx("span",{className:"font-mono text-sm font-medium text-white",children:s.key})]}),!s.match&&e.jsxs("div",{className:"grid grid-cols-2 divide-x divide-zinc-800",children:[e.jsxs("div",{className:"px-4 py-2.5 bg-amber-500/5",children:[e.jsx("div",{className:"text-xs text-amber-400 mb-1",children:"Staging"}),e.jsx("div",{className:"font-mono text-xs text-zinc-300 break-all",children:s.env1Value})]}),e.jsxs("div",{className:"px-4 py-2.5 bg-rose-500/5",children:[e.jsx("div",{className:"text-xs text-rose-400 mb-1",children:"Production"}),e.jsx("div",{className:"font-mono text-xs text-zinc-300 break-all",children:s.env2Value})]})]})]},s.key))})]}),a==="history"&&e.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[e.jsx("h2",{className:"text-base font-semibold mb-4",children:"Change History"}),e.jsx("div",{className:"space-y-3",children:b.map(s=>e.jsxs("div",{className:"bg-zinc-900 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("span",{className:i("text-xs px-2 py-0.5 rounded capitalize font-medium",f[s.action]),children:s.action}),e.jsx("span",{className:"font-mono text-sm font-medium text-white",children:s.key}),e.jsx("span",{className:i("text-xs px-1.5 py-0.5 rounded",d[s.env]),children:s.env}),e.jsx("span",{className:"ml-auto text-xs text-zinc-500",children:s.timestamp})]}),e.jsxs("div",{className:"flex items-center gap-3 text-xs text-zinc-400",children:[e.jsx("span",{className:"font-mono",children:s.service}),e.jsxs("span",{children:["by ",e.jsx("span",{className:"text-white",children:s.author})]})]}),(s.fromValue||s.toValue)&&s.action==="updated"&&e.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-2 text-xs",children:[e.jsxs("div",{className:"bg-rose-500/10 rounded p-2",children:[e.jsx("div",{className:"text-zinc-500 mb-0.5",children:"Before"}),e.jsx("div",{className:"font-mono text-zinc-400",children:s.fromValue||"â€”"})]}),e.jsxs("div",{className:"bg-emerald-500/10 rounded p-2",children:[e.jsx("div",{className:"text-zinc-500 mb-0.5",children:"After"}),e.jsx("div",{className:"font-mono text-zinc-400",children:s.toValue||"â€”"})]})]})]},s.id))})]})]})}export{k as default};
