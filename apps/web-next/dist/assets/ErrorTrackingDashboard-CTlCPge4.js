import{r as x,j as e,c as n}from"./index-B-mNlyPE.js";const d=[{id:"ERR-001",title:"TypeError: Cannot read properties of undefined",message:"Cannot read properties of undefined (reading 'userId')",severity:"critical",status:"unresolved",count24h:842,countTotal:12480,firstSeen:"2025-11-14",lastSeen:"2026-02-22T06:10:00Z",environment:"production",service:"api-gateway",assignee:"alice@openclawapp.com",stack:`at getUserProfile (routes/users.ts:142)
  at async handleRequest (middleware/auth.ts:88)`,tags:["auth","regression","high-impact"]},{id:"ERR-002",title:"UnhandledPromiseRejection: Failed to connect to Redis",message:"connect ECONNREFUSED 127.0.0.1:6379",severity:"critical",status:"unresolved",count24h:214,countTotal:3200,firstSeen:"2026-02-18",lastSeen:"2026-02-22T06:08:00Z",environment:"production",service:"session-manager",assignee:null,stack:`at RedisClient.connect (lib/cache/redis.ts:44)
  at SessionManager.init (services/session.ts:22)`,tags:["redis","infrastructure","cache"]},{id:"ERR-003",title:"ValidationError: Invalid email format",message:"Validation failed: email must be a valid email address",severity:"error",status:"unresolved",count24h:620,countTotal:18400,firstSeen:"2024-08-01",lastSeen:"2026-02-22T06:12:00Z",environment:"production",service:"auth-service",assignee:"bob@openclawapp.com",stack:`at validatePayload (lib/validators/user.ts:38)
  at POST /v1/auth/register (routes/auth.ts:24)`,tags:["validation","user-input"]},{id:"ERR-004",title:"RateLimitError: Too many requests from IP",message:"Rate limit exceeded: 429 Too Many Requests",severity:"warning",status:"unresolved",count24h:2840,countTotal:142e3,firstSeen:"2024-06-01",lastSeen:"2026-02-22T06:14:00Z",environment:"production",service:"api-gateway",assignee:null,stack:`at checkRateLimit (middleware/ratelimit.ts:62)
  at applyMiddleware (core/app.ts:115)`,tags:["rate-limit","security"]},{id:"ERR-005",title:"DatabaseError: Connection pool exhausted",message:"No available connections in pool (max: 20, used: 20)",severity:"critical",status:"regressed",count24h:84,countTotal:1200,firstSeen:"2026-02-20",lastSeen:"2026-02-22T06:00:00Z",environment:"production",service:"data-service",assignee:"carol@openclawapp.com",stack:`at getConnection (lib/db/pool.ts:88)
  at executeQuery (lib/db/index.ts:34)`,tags:["database","postgres","performance"]},{id:"ERR-006",title:"TypeError: fetch is not a function",message:"fetch is not a function in SSR context",severity:"error",status:"resolved",count24h:0,countTotal:4200,firstSeen:"2025-09-01",lastSeen:"2026-02-15T10:00:00Z",environment:"production",service:"web-renderer",assignee:"dave@openclawapp.com",stack:`at fetchServerData (pages/_app.tsx:48)
  at ServerRenderer.render (renderer/ssr.ts:120)`,tags:["ssr","node"]},{id:"ERR-007",title:"ChunkLoadError: Loading chunk 42 failed",message:"Loading chunk 42 failed. (timeout: 127.0.0.1/static/js/42.abc.chunk.js)",severity:"warning",status:"unresolved",count24h:180,countTotal:8400,firstSeen:"2025-12-01",lastSeen:"2026-02-22T05:55:00Z",environment:"production",service:"frontend",assignee:null,stack:`at webpackJsonpCallback (webpack.js:1)
  at browser (entry.js:1)`,tags:["webpack","cdn","browser"]},{id:"ERR-008",title:"JWT expired: token has expired",message:"JsonWebTokenError: jwt expired",severity:"info",status:"ignored",count24h:12400,countTotal:48e4,firstSeen:"2023-06-01",lastSeen:"2026-02-22T06:14:00Z",environment:"production",service:"auth-service",assignee:null,stack:`at verify (jsonwebtoken/index.js:61)
  at verifyToken (middleware/auth.ts:22)`,tags:["auth","jwt","expected"]}],u=[{date:"Feb 15",critical:120,error:580,warning:2200},{date:"Feb 16",critical:98,error:540,warning:1900},{date:"Feb 17",critical:140,error:620,warning:2400},{date:"Feb 18",critical:280,error:820,warning:2800},{date:"Feb 19",critical:320,error:940,warning:3100},{date:"Feb 20",critical:240,error:780,warning:2600},{date:"Feb 21",critical:188,error:660,warning:2400},{date:"Feb 22",critical:142,error:480,warning:2100}],h=[{version:"v2.14.1",deployedAt:"2026-02-22 04:00",errorDelta:-12,newErrors:1,resolvedErrors:13},{version:"v2.14.0",deployedAt:"2026-02-20 16:00",errorDelta:28,newErrors:31,resolvedErrors:3},{version:"v2.13.2",deployedAt:"2026-02-18 10:00",errorDelta:-5,newErrors:2,resolvedErrors:7},{version:"v2.13.1",deployedAt:"2026-02-15 14:00",errorDelta:8,newErrors:9,resolvedErrors:1}];function v(a){return{critical:"bg-rose-500/20 text-rose-400 border-rose-500/30",error:"bg-red-500/20 text-red-400 border-red-500/30",warning:"bg-amber-500/20 text-amber-400 border-amber-500/30",info:"bg-zinc-500/20 text-zinc-400 border-zinc-500/30"}[a]}function p(a){return{critical:"bg-rose-500",error:"bg-red-500",warning:"bg-amber-500",info:"bg-zinc-500"}[a]}function g(a){return{unresolved:"text-rose-400",resolved:"text-emerald-400",ignored:"text-zinc-500",regressed:"text-amber-400"}[a]}function b(){const[a,s]=x.useState("all"),[l,o]=x.useState("all"),[i,r]=x.useState(null),c=d.filter(t=>!(a!=="all"&&t.severity!==a||l!=="all"&&t.status!==l));return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[e.jsx("div",{className:"flex gap-1",children:["all","critical","error","warning","info"].map(t=>e.jsx("button",{onClick:()=>s(t),className:n("px-3 py-1 rounded-full text-xs font-medium capitalize transition-colors",a===t?"bg-indigo-600 text-white":"bg-zinc-800 text-zinc-400 hover:text-white"),children:t},t))}),e.jsx("div",{className:"flex gap-1 ml-auto",children:["all","unresolved","regressed"].map(t=>e.jsx("button",{onClick:()=>o(t),className:n("px-3 py-1 rounded-full text-xs font-medium capitalize transition-colors",l===t?"bg-indigo-600 text-white":"bg-zinc-800 text-zinc-400 hover:text-white"),children:t},t))})]}),e.jsx("div",{className:"space-y-2",children:c.map(t=>e.jsxs("div",{className:n("rounded-xl border p-4 cursor-pointer transition-all",(i==null?void 0:i.id)===t.id?"border-indigo-500 bg-indigo-500/5":"border-zinc-800 bg-zinc-900 hover:border-zinc-600"),onClick:()=>r((i==null?void 0:i.id)===t.id?null:t),children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:n("w-2 h-2 rounded-full mt-1.5 shrink-0",p(t.severity))}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("span",{className:"font-medium text-white text-sm",children:t.title}),e.jsx("span",{className:n("text-xs px-1.5 py-0.5 rounded border",v(t.severity)),children:t.severity}),e.jsx("span",{className:n("text-xs capitalize",g(t.status)),children:t.status})]}),e.jsx("p",{className:"text-xs text-zinc-500 mt-0.5 font-mono truncate",children:t.message}),e.jsxs("div",{className:"flex gap-3 mt-1 text-xs text-zinc-500",children:[e.jsx("span",{children:t.service}),e.jsx("span",{children:t.environment}),e.jsxs("span",{children:["Last: ",t.lastSeen.slice(0,10)]})]})]}),e.jsxs("div",{className:"text-right shrink-0",children:[e.jsx("div",{className:"text-sm font-bold text-white",children:t.count24h.toLocaleString()}),e.jsx("div",{className:"text-xs text-zinc-500",children:"24h events"})]})]}),(i==null?void 0:i.id)===t.id&&e.jsxs("div",{className:"mt-4 border-t border-zinc-800 pt-4 space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-xs",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-zinc-500",children:"First seen"}),e.jsx("div",{className:"text-zinc-300",children:t.firstSeen})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-zinc-500",children:"Total events"}),e.jsx("div",{className:"text-zinc-300",children:t.countTotal.toLocaleString()})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-zinc-500",children:"Assignee"}),e.jsx("div",{className:"text-zinc-300",children:t.assignee??"unassigned"})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-zinc-500 mb-1",children:"Stack trace"}),e.jsx("pre",{className:"bg-zinc-950 border border-zinc-700 rounded px-3 py-2 text-xs text-emerald-300 font-mono overflow-x-auto whitespace-pre-wrap",children:t.stack})]}),e.jsx("div",{className:"flex flex-wrap gap-1",children:t.tags.map(m=>e.jsx("span",{className:"text-xs bg-zinc-800 text-zinc-400 rounded px-2 py-0.5",children:m},m))})]})]},t.id))})]})}function f(){const a=Math.max(...u.map(s=>s.critical+s.error+s.warning));return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"rounded-xl border border-zinc-800 bg-zinc-900 p-5",children:[e.jsx("h3",{className:"text-sm font-semibold text-white mb-4",children:"Error Volume (last 8 days)"}),e.jsx("div",{className:"flex items-end gap-2 h-40",children:u.map(s=>{const l=s.critical+s.error+s.warning,o=s.critical/l*100,i=s.error/l*100,r=s.warning/l*100,c=l/a*100;return e.jsxs("div",{className:"flex-1 flex flex-col items-center gap-1",children:[e.jsx("div",{className:"w-full rounded-t overflow-hidden flex flex-col justify-end",style:{height:"120px"},children:e.jsxs("div",{className:"w-full flex flex-col",style:{height:c+"%"},children:[e.jsx("div",{className:"bg-rose-500",style:{height:o+"%"}}),e.jsx("div",{className:"bg-red-400",style:{height:i+"%"}}),e.jsx("div",{className:"bg-amber-400",style:{height:r+"%"}})]})}),e.jsx("span",{className:"text-xs text-zinc-500",children:s.date.slice(4)})]},s.date)})}),e.jsxs("div",{className:"flex gap-4 mt-3 text-xs",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-rose-500"}),e.jsx("span",{className:"text-zinc-400",children:"Critical"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-red-400"}),e.jsx("span",{className:"text-zinc-400",children:"Error"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-amber-400"}),e.jsx("span",{className:"text-zinc-400",children:"Warning"})]})]})]}),e.jsxs("div",{className:"rounded-xl border border-zinc-800 bg-zinc-900 p-5",children:[e.jsx("h3",{className:"text-sm font-semibold text-white mb-4",children:"Release Impact"}),e.jsx("div",{className:"space-y-3",children:h.map(s=>e.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[e.jsx("span",{className:"font-mono text-indigo-400 w-20",children:s.version}),e.jsx("span",{className:"text-zinc-500 text-xs",children:s.deployedAt}),e.jsxs("div",{className:"flex items-center gap-2 ml-auto",children:[e.jsxs("span",{className:"text-xs text-emerald-400",children:["+",s.resolvedErrors," resolved"]}),e.jsxs("span",{className:"text-xs text-rose-400",children:["+",s.newErrors," new"]}),e.jsxs("span",{className:n("text-xs font-bold",s.errorDelta<0?"text-emerald-400":"text-rose-400"),children:[s.errorDelta>0?"+":"",s.errorDelta]})]})]},s.version))})]})]})}function j(){const a=[{name:"Critical spike",condition:"critical errors > 50/min",status:"active",lastFired:"2026-02-22T06:02:00Z"},{name:"New error in prod",condition:"new error in production",status:"active",lastFired:"2026-02-22T06:00:00Z"},{name:"Error rate increase",condition:"error rate +50% vs previous hour",status:"muted",lastFired:"2026-02-21T18:00:00Z"},{name:"P0 service down",condition:"api-gateway critical errors > 200/min",status:"active",lastFired:"2026-02-20T14:00:00Z"},{name:"Release regression",condition:"new errors after deploy > 5",status:"active",lastFired:"2026-02-20T16:10:00Z"}];return e.jsx("div",{className:"space-y-3",children:a.map(s=>e.jsxs("div",{className:"rounded-xl border border-zinc-800 bg-zinc-900 p-4 flex items-center gap-4",children:[e.jsx("div",{className:n("w-2 h-2 rounded-full shrink-0",s.status==="active"?"bg-emerald-400":"bg-zinc-600")}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-sm font-medium text-white",children:s.name}),e.jsx("div",{className:"text-xs text-zinc-500 mt-0.5 font-mono",children:s.condition})]}),e.jsxs("div",{className:"text-right text-xs",children:[e.jsx("div",{className:n(s.status==="active"?"text-emerald-400":"text-zinc-500"),children:s.status}),e.jsxs("div",{className:"text-zinc-600 mt-0.5",children:["Last: ",s.lastFired.slice(5,16).replace("T"," ")]})]})]},s.name))})}const N=["Issues","Trends","Alerts"];function y(){const[a,s]=x.useState("Issues"),l=d.filter(r=>r.status==="unresolved"||r.status==="regressed").length,o=d.filter(r=>r.severity==="critical").reduce((r,c)=>r+c.count24h,0),i=d.reduce((r,c)=>r+c.count24h,0);return e.jsxs("div",{className:"min-h-screen bg-zinc-950 text-white p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-1",children:"Error Tracking"}),e.jsx("p",{className:"text-zinc-400 text-sm",children:"Real-time error monitoring across all services"})]}),e.jsx("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[{label:"Unresolved Issues",value:l,color:"text-rose-400"},{label:"Critical (24h)",value:o.toLocaleString(),color:"text-rose-400"},{label:"Total Events (24h)",value:i.toLocaleString(),color:"text-white"},{label:"Services Affected",value:new Set(d.filter(r=>r.status!=="resolved").map(r=>r.service)).size,color:"text-amber-400"}].map(r=>e.jsxs("div",{className:"rounded-xl border border-zinc-800 bg-zinc-900 p-4",children:[e.jsx("div",{className:n("text-3xl font-bold",r.color),children:r.value}),e.jsx("div",{className:"text-sm text-zinc-400 mt-1",children:r.label})]},r.label))}),e.jsx("div",{className:"flex gap-1 mb-6 border-b border-zinc-800",children:N.map(r=>e.jsx("button",{onClick:()=>s(r),className:n("px-4 py-2 text-sm font-medium border-b-2 transition-colors -mb-px",a===r?"border-indigo-500 text-indigo-400":"border-transparent text-zinc-400 hover:text-white"),children:r},r))}),a==="Issues"&&e.jsx(b,{}),a==="Trends"&&e.jsx(f,{}),a==="Alerts"&&e.jsx(j,{})]})}export{y as default};
