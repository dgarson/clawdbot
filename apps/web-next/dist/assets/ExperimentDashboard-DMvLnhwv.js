import{r as g,j as e,c as n}from"./index-UhYMvyjw.js";const r=[{id:"exp-001",name:"Embedding Model v2 Retrieval",hypothesis:"Switching to the v2 embedding model will improve retrieval recall by at least 5% without increasing latency.",status:"completed",startDate:"2026-01-05",endDate:"2026-02-10",owner:"Claire",metric:"Retrieval Recall@10",variants:[{name:"Control (v1)",trafficPct:50,sampleSize:24200,metricValue:.72,metricBaseline:.72,pValue:1,upliftPct:0,isControl:!0},{name:"v2 Embed",trafficPct:50,sampleSize:24350,metricValue:.781,metricBaseline:.72,pValue:.003,upliftPct:8.47,isControl:!1}],totalSamples:48550,statisticalPower:.94,confidenceLevel:95,winner:"v2 Embed"},{id:"exp-002",name:"Prompt Chain Reordering",hypothesis:"Reordering the summarisation prompt before the extraction prompt will increase task accuracy by 3%.",status:"running",startDate:"2026-02-01",endDate:null,owner:"Roman",metric:"Task Accuracy",variants:[{name:"Control",trafficPct:50,sampleSize:8700,metricValue:.83,metricBaseline:.83,pValue:1,upliftPct:0,isControl:!0},{name:"Reordered",trafficPct:50,sampleSize:8640,metricValue:.856,metricBaseline:.83,pValue:.07,upliftPct:3.13,isControl:!1}],totalSamples:17340,statisticalPower:.68,confidenceLevel:95,winner:null},{id:"exp-003",name:"Adaptive Temperature Scaling",hypothesis:"Dynamically adjusting temperature based on query complexity will reduce hallucination rate by 10%.",status:"running",startDate:"2026-02-10",endDate:null,owner:"Piper",metric:"Hallucination Rate",variants:[{name:"Static Temp",trafficPct:34,sampleSize:4100,metricValue:.121,metricBaseline:.121,pValue:1,upliftPct:0,isControl:!0},{name:"Adaptive Low",trafficPct:33,sampleSize:3980,metricValue:.104,metricBaseline:.121,pValue:.04,upliftPct:-14.05,isControl:!1},{name:"Adaptive Full",trafficPct:33,sampleSize:3950,metricValue:.098,metricBaseline:.121,pValue:.008,upliftPct:-19.01,isControl:!1}],totalSamples:12030,statisticalPower:.82,confidenceLevel:99,winner:null},{id:"exp-004",name:"Context Window 128k vs 64k",hypothesis:"Doubling context window to 128k tokens will improve long-doc QA F1 by 7%.",status:"paused",startDate:"2026-01-20",endDate:null,owner:"Quinn",metric:"QA F1 Score",variants:[{name:"64k Control",trafficPct:50,sampleSize:3200,metricValue:.74,metricBaseline:.74,pValue:1,upliftPct:0,isControl:!0},{name:"128k Window",trafficPct:50,sampleSize:3180,metricValue:.762,metricBaseline:.74,pValue:.15,upliftPct:2.97,isControl:!1}],totalSamples:6380,statisticalPower:.45,confidenceLevel:95,winner:null},{id:"exp-005",name:"Few-Shot Example Selection",hypothesis:"BM25-selected few-shot examples outperform random selection on classification accuracy.",status:"completed",startDate:"2025-12-15",endDate:"2026-01-28",owner:"Reed",metric:"Classification Accuracy",variants:[{name:"Random Select",trafficPct:50,sampleSize:31e3,metricValue:.865,metricBaseline:.865,pValue:1,upliftPct:0,isControl:!0},{name:"BM25 Select",trafficPct:50,sampleSize:30800,metricValue:.901,metricBaseline:.865,pValue:.001,upliftPct:4.16,isControl:!1}],totalSamples:61800,statisticalPower:.97,confidenceLevel:95,winner:"BM25 Select"},{id:"exp-006",name:"LoRA Rank Ablation",hypothesis:"LoRA rank 16 achieves comparable fine-tune quality to rank 64 with 40% less VRAM.",status:"draft",startDate:"2026-02-22",endDate:null,owner:"Sam",metric:"Eval Loss",variants:[{name:"Rank 64 (Ctrl)",trafficPct:34,sampleSize:0,metricValue:0,metricBaseline:0,pValue:1,upliftPct:0,isControl:!0},{name:"Rank 16",trafficPct:33,sampleSize:0,metricValue:0,metricBaseline:0,pValue:1,upliftPct:0,isControl:!1},{name:"Rank 8",trafficPct:33,sampleSize:0,metricValue:0,metricBaseline:0,pValue:1,upliftPct:0,isControl:!1}],totalSamples:0,statisticalPower:0,confidenceLevel:95,winner:null}],b={running:"bg-indigo-500/20 text-indigo-400 border border-indigo-500/40",completed:"bg-emerald-500/20 text-emerald-400 border border-emerald-500/40",paused:"bg-amber-500/20 text-amber-400 border border-amber-500/40",draft:"bg-zinc-700/40 text-zinc-400 border border-zinc-600"};function x(a){return a<.01?{text:"Highly significant",cls:"text-emerald-400"}:a<.05?{text:"Significant",cls:"text-emerald-400"}:a<.1?{text:"Trending",cls:"text-amber-400"}:{text:"Not significant",cls:"text-rose-400"}}function V(a,c=1){return`${(a*100).toFixed(c)}%`}function p(a){const c=a.variants.filter(o=>!o.isControl);return c.length===0?1:Math.min(...c.map(o=>o.pValue))}function k(){const[a,c]=g.useState("all"),[o,j]=g.useState("exp-001"),u=a==="all"?r:r.filter(t=>t.status===a),i=r.find(t=>t.id===o)??null,N=r.filter(t=>t.status==="running").length,w=r.filter(t=>t.status==="completed").length,d=r.filter(t=>t.status==="completed"&&t.winner),v=d.length>0?d.reduce((t,s)=>{const l=s.variants.find(m=>m.name===s.winner);return t+((l==null?void 0:l.upliftPct)??0)},0)/d.length:0,y=r.filter(t=>p(t)<.05&&t.totalSamples>0).length,h=i?Math.max(...i.variants.map(t=>t.metricValue),.001):1;return e.jsxs("div",{className:"min-h-screen bg-zinc-950 text-white p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Experiment Dashboard"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("select",{value:a,onChange:t=>c(t.target.value),className:"bg-zinc-800 border border-zinc-700 text-white rounded px-3 py-2 text-sm",children:[e.jsx("option",{value:"all",children:"All Statuses"}),e.jsx("option",{value:"running",children:"Running"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"paused",children:"Paused"}),e.jsx("option",{value:"draft",children:"Draft"})]}),e.jsx("button",{className:"bg-indigo-600 hover:bg-indigo-500 text-white px-3 py-1.5 rounded text-sm font-medium",children:"+ New Experiment"})]})]}),e.jsx("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[{label:"Running",value:N,accent:"text-indigo-400"},{label:"Completed",value:w,accent:"text-emerald-400"},{label:"Avg Uplift",value:`${v.toFixed(1)}%`,accent:"text-amber-400"},{label:"Significant Results",value:y,accent:"text-emerald-400"}].map(t=>e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-lg p-4",children:[e.jsx("p",{className:"text-zinc-500 text-xs uppercase tracking-wider mb-1",children:t.label}),e.jsx("p",{className:n("text-2xl font-semibold",t.accent),children:t.value})]},t.label))}),e.jsxs("div",{className:"flex gap-5",children:[e.jsxs("div",{className:"w-[45%] space-y-3 overflow-y-auto max-h-[calc(100vh-260px)] pr-1",children:[u.length===0&&e.jsx("p",{className:"text-zinc-500 text-sm py-8 text-center",children:"No experiments match this filter."}),u.map(t=>{const s=p(t),l=x(s),m=t.totalSamples>0?t.totalSamples:1,f=t.variants.reduce((S,P)=>S+P.sampleSize,0),z=Math.min(f/(m*1.2),1);return e.jsxs("button",{onClick:()=>j(t.id),className:n("w-full text-left bg-zinc-900 border rounded-lg p-4 transition-colors",o===t.id?"border-indigo-500":"border-zinc-800 hover:border-zinc-700"),children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-sm font-semibold truncate",children:t.name}),e.jsxs("p",{className:"text-zinc-500 text-xs mt-0.5",children:[t.owner," · ",t.metric]})]}),e.jsx("span",{className:n("text-[10px] font-medium px-2 py-0.5 rounded-full whitespace-nowrap ml-2",b[t.status]),children:t.status})]}),e.jsx("div",{className:"h-1.5 w-full bg-zinc-800 rounded-full overflow-hidden mb-2",children:e.jsx("div",{className:"h-full bg-indigo-500 rounded-full transition-all",style:{width:`${(z*100).toFixed(1)}%`}})}),e.jsxs("div",{className:"flex items-center justify-between text-[11px]",children:[e.jsxs("span",{className:"text-zinc-500",children:[f.toLocaleString()," samples"]}),t.totalSamples>0&&e.jsxs("span",{className:n("flex items-center gap-1",l.cls),children:[s<.05&&"✓ ","p=",s<.001?"<.001":s.toFixed(3)]})]}),t.winner&&e.jsxs("p",{className:"text-emerald-400 text-xs mt-1.5 font-medium",children:["Winner: ",t.winner]})]},t.id)})]}),e.jsx("div",{className:"w-[55%]",children:i?e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-lg p-5 space-y-5 overflow-y-auto max-h-[calc(100vh-260px)]",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold",children:i.name}),e.jsxs("p",{className:"text-zinc-500 text-xs mt-1",children:[i.startDate,i.endDate?` → ${i.endDate}`:" → ongoing"," ","· Owner: ",i.owner]})]}),e.jsx("span",{className:n("text-xs font-medium px-2.5 py-1 rounded-full",b[i.status]),children:i.status})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-zinc-500 text-xs uppercase tracking-wider mb-1",children:"Hypothesis"}),e.jsx("p",{className:"text-zinc-300 text-sm leading-relaxed",children:i.hypothesis})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-zinc-500 text-xs uppercase tracking-wider mb-2",children:"Variant Comparison"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-zinc-500 text-xs uppercase border-b border-zinc-800",children:[e.jsx("th",{className:"text-left py-2 pr-2 font-medium",children:"Variant"}),e.jsx("th",{className:"text-right py-2 px-2 font-medium",children:"Traffic"}),e.jsx("th",{className:"text-right py-2 px-2 font-medium",children:"Samples"}),e.jsx("th",{className:"text-right py-2 px-2 font-medium",children:"Metric"}),e.jsx("th",{className:"text-right py-2 px-2 font-medium",children:"Uplift"}),e.jsx("th",{className:"text-right py-2 px-2 font-medium",children:"p-value"}),e.jsx("th",{className:"text-right py-2 pl-2 font-medium",children:"Status"})]})}),e.jsx("tbody",{children:i.variants.map(t=>{const s=x(t.pValue),l=i.winner===t.name;return e.jsxs("tr",{className:"border-b border-zinc-800/50",children:[e.jsx("td",{className:"py-2 pr-2 font-medium",children:t.name}),e.jsxs("td",{className:"py-2 px-2 text-right text-zinc-400",children:[t.trafficPct,"%"]}),e.jsx("td",{className:"py-2 px-2 text-right text-zinc-400",children:t.sampleSize.toLocaleString()}),e.jsx("td",{className:"py-2 px-2 text-right font-mono",children:t.metricValue>0?t.metricValue.toFixed(3):"—"}),e.jsx("td",{className:n("py-2 px-2 text-right font-mono",t.isControl?"text-zinc-500":t.upliftPct>0?"text-emerald-400":t.upliftPct<0?"text-rose-400":"text-zinc-400"),children:t.isControl?"baseline":`${t.upliftPct>0?"+":""}${t.upliftPct.toFixed(2)}%`}),e.jsx("td",{className:n("py-2 px-2 text-right font-mono",t.isControl?"text-zinc-500":s.cls),children:t.isControl?"—":t.pValue<.001?"<.001":t.pValue.toFixed(3)}),e.jsx("td",{className:"py-2 pl-2 text-right",children:t.isControl?e.jsx("span",{className:"text-zinc-500 text-xs",children:"control"}):l?e.jsx("span",{className:"text-emerald-400 text-xs font-medium",children:"winner"}):i.winner&&!l?e.jsx("span",{className:"text-rose-400 text-xs",children:"loser"}):e.jsx("span",{className:"text-zinc-500 text-xs",children:"—"})})]},t.name)})})]})})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-zinc-500 text-xs uppercase tracking-wider mb-2",children:"Metric Comparison"}),e.jsx("div",{className:"space-y-2",children:i.variants.map(t=>{const s=h>0?t.metricValue/h*100:0,l=i.winner===t.name;return e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-xs text-zinc-400 w-28 truncate shrink-0",children:t.name}),e.jsxs("div",{className:"flex-1 h-6 bg-zinc-800 rounded overflow-hidden relative",children:[e.jsx("div",{className:n("h-full rounded transition-all",t.isControl?"bg-zinc-600":l?"bg-emerald-500":"bg-indigo-500"),style:{width:`${s.toFixed(1)}%`}}),t.metricValue>0&&e.jsx("span",{className:"absolute right-2 top-1/2 -translate-y-1/2 text-[11px] text-white/80 font-mono",children:t.metricValue.toFixed(3)})]})]},t.name)})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-zinc-800/50 rounded-lg p-3",children:[e.jsx("p",{className:"text-zinc-500 text-xs uppercase tracking-wider mb-1",children:"Statistical Significance"}),(()=>{const t=p(i),s=x(t);return i.totalSamples===0?e.jsx("p",{className:"text-zinc-500 text-sm",children:"No data collected yet"}):t<.05?e.jsxs("p",{className:n("text-sm font-medium",s.cls),children:["Statistically significant at"," ",i.confidenceLevel,"% confidence"]}):e.jsxs("p",{className:n("text-sm",s.cls),children:["Not yet significant (p=",t<.001?"<.001":t.toFixed(3),")",t<.1&&" — trending"]})})()]}),e.jsxs("div",{className:"bg-zinc-800/50 rounded-lg p-3",children:[e.jsx("p",{className:"text-zinc-500 text-xs uppercase tracking-wider mb-1",children:"Power Analysis"}),i.totalSamples===0?e.jsx("p",{className:"text-zinc-500 text-sm",children:"Awaiting data"}):e.jsxs("p",{className:n("text-sm font-medium",i.statisticalPower>=.8?"text-emerald-400":"text-amber-400"),children:["Current power: ",V(i.statisticalPower,0),i.statisticalPower<.8?" (need 80%+ for reliability)":" — sufficient"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 pt-1",children:[i.status==="running"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"bg-emerald-600 hover:bg-emerald-500 text-white px-3 py-1.5 rounded text-sm font-medium",children:"Declare Winner"}),e.jsx("button",{className:"bg-amber-600 hover:bg-amber-500 text-white px-3 py-1.5 rounded text-sm font-medium",children:"Stop Experiment"})]}),i.status==="paused"&&e.jsx("button",{className:"bg-indigo-600 hover:bg-indigo-500 text-white px-3 py-1.5 rounded text-sm font-medium",children:"Resume Experiment"}),i.status==="draft"&&e.jsx("button",{className:"bg-indigo-600 hover:bg-indigo-500 text-white px-3 py-1.5 rounded text-sm font-medium",children:"Start Experiment"}),e.jsx("button",{className:"bg-zinc-700 hover:bg-zinc-600 text-white px-3 py-1.5 rounded text-sm",children:"Archive"})]})]}):e.jsx("div",{className:"bg-zinc-900 border border-zinc-800 rounded-lg p-8 text-center text-zinc-500 text-sm",children:"Select an experiment to view details."})})]})]})}export{k as default};
