import{r as c,j as e,c as d}from"./index-veJTZUgy.js";const E=new Date,a=t=>new Date(E.getTime()-t),i=t=>t*864e5,h=t=>t*36e5,A=[{id:"f1",key:"horizon_ui_enabled",name:"Horizon UI",description:"Enable the new Horizon React UI (replaces Lit SPA)",type:"boolean",defaultValue:!0,enabled:!0,envOverrides:{production:!1},agentOverrides:[],tags:["ui","horizon","frontend"],createdAt:a(i(5)),updatedAt:a(h(6)),isExperimental:!1},{id:"f2",key:"voice_interface_enabled",name:"Voice Interface",description:"Enable the voice call feature for direct agent communication",type:"boolean",defaultValue:!1,enabled:!0,envOverrides:{dev:!0},agentOverrides:[{agentId:"luis",agentName:"Luis",agentEmoji:"üé®",value:!0}],tags:["voice","experimental"],createdAt:a(i(2)),updatedAt:a(h(2)),isExperimental:!0},{id:"f3",key:"adaptive_ux_level",name:"Adaptive UX System",description:"Progressive feature revelation based on proficiency level",type:"boolean",defaultValue:!0,enabled:!0,envOverrides:{},agentOverrides:[],tags:["ux","proficiency","adaptive"],createdAt:a(i(10)),updatedAt:a(i(1)),isExperimental:!1},{id:"f4",key:"max_concurrent_sessions",name:"Max Concurrent Sessions",description:"Maximum number of simultaneous active sessions per agent",type:"number",defaultValue:5,enabled:!0,envOverrides:{production:3},agentOverrides:[{agentId:"xavier",agentName:"Xavier",agentEmoji:"üèóÔ∏è",value:10}],tags:["sessions","limits"],createdAt:a(i(15)),updatedAt:a(i(3)),isExperimental:!1},{id:"f5",key:"beta_model_access",name:"Beta Model Access",description:"Allow access to preview/beta AI models before general availability",type:"percentage",defaultValue:!1,enabled:!0,envOverrides:{dev:!0},agentOverrides:[],rolloutPercent:10,tags:["models","beta","experimental"],createdAt:a(i(3)),updatedAt:a(h(12)),isExperimental:!0},{id:"f6",key:"debug_mode",name:"Debug Mode",description:"Enable verbose logging, inspector tools, and raw API responses",type:"boolean",defaultValue:!1,enabled:!1,envOverrides:{dev:!0,staging:!0},agentOverrides:[],tags:["debug","development"],createdAt:a(i(20)),updatedAt:a(i(2)),isExperimental:!1},{id:"f7",key:"agent_greeting_style",name:"Agent Greeting Style",description:"Default greeting format when agents start sessions",type:"string",defaultValue:"brief",enabled:!0,envOverrides:{},agentOverrides:[{agentId:"stephan",agentName:"Stephan",agentEmoji:"üì£",value:"warm"}],tags:["agents","personality"],createdAt:a(i(8)),updatedAt:a(i(8)),isExperimental:!1},{id:"f8",key:"session_branching",name:"Session Branching",description:"Allow users to branch sessions at any point for A/B exploration",type:"boolean",defaultValue:!1,enabled:!0,envOverrides:{dev:!0},agentOverrides:[],tags:["sessions","experimental"],createdAt:a(i(7)),updatedAt:a(i(1)),isExperimental:!0},{id:"f9",key:"token_budget_warning_threshold",name:"Budget Warning Threshold",description:"Percentage at which to trigger token budget warnings",type:"number",defaultValue:80,enabled:!0,envOverrides:{},agentOverrides:[],tags:["billing","alerts"],createdAt:a(i(12)),updatedAt:a(i(4)),isExperimental:!1},{id:"f10",key:"multi_agent_orchestration",name:"Multi-Agent Orchestration",description:"Enable visual workflow builder for chaining multiple agents",type:"boolean",defaultValue:!1,enabled:!1,envOverrides:{},agentOverrides:[],tags:["orchestration","experimental","roadmap"],createdAt:a(i(1)),updatedAt:a(h(1)),isExperimental:!0}],k={boolean:{label:"Boolean",color:"text-indigo-400"},string:{label:"String",color:"text-zinc-400"},number:{label:"Number",color:"text-emerald-400"},percentage:{label:"Rollout %",color:"text-violet-400"}};function N(t){const o=Date.now()-t.getTime();return o<36e5?`${Math.floor(o/6e4)}m ago`:o<864e5?`${Math.floor(o/36e5)}h ago`:`${Math.floor(o/864e5)}d ago`}function O({flag:t,onToggle:o,onRolloutChange:b}){const[u,x]=c.useState(!1),g=k[t.type],f=n=>typeof n=="boolean"?n?"true":"false":String(n);return e.jsxs("div",{className:d("rounded-xl border transition-colors",t.enabled?"bg-zinc-900 border-zinc-700":"bg-zinc-900/50 border-zinc-800 opacity-70"),children:[e.jsxs("div",{className:"flex items-start gap-3 p-4",children:[e.jsx("button",{onClick:()=>o(t.id),role:"switch","aria-checked":t.enabled,"aria-label":`${t.enabled?"Disable":"Enable"} ${t.name}`,className:d("flex-none mt-0.5 relative inline-flex h-5 w-9 items-center rounded-full transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-500 focus-visible:ring-offset-2 focus-visible:ring-offset-zinc-900",t.enabled?"bg-indigo-600":"bg-zinc-700"),children:e.jsx("span",{className:d("inline-block h-4 w-4 transform rounded-full bg-white transition-transform shadow-sm",t.enabled?"translate-x-4":"translate-x-0.5")})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("span",{className:"text-sm font-semibold text-white",children:t.name}),t.isExperimental&&e.jsx("span",{className:"px-1.5 py-0.5 text-xs font-medium rounded-full bg-amber-500/15 text-amber-300 ring-1 ring-amber-500/25",children:"Experimental"}),e.jsx("span",{className:d("text-xs",g.color),children:g.label})]}),e.jsx("p",{className:"text-xs text-zinc-500 mt-0.5",children:t.description}),e.jsx("p",{className:"text-xs font-mono text-zinc-600 mt-0.5",children:t.key})]}),e.jsxs("div",{className:"flex-none flex items-center gap-2",children:[e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:d("text-xs font-mono font-semibold",t.enabled?"text-emerald-400":"text-zinc-600"),children:t.type==="percentage"?`${t.rolloutPercent??0}%`:f(t.defaultValue)}),e.jsx("p",{className:"text-xs text-zinc-700",children:"default"})]}),e.jsx("button",{onClick:()=>x(n=>!n),"aria-expanded":u,"aria-label":`${u?"Collapse":"Expand"} ${t.name} details`,className:"p-1 text-zinc-600 hover:text-zinc-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-500 rounded transition-colors",children:e.jsx("svg",{className:d("h-4 w-4 transition-transform",u&&"rotate-180"),viewBox:"0 0 16 16",fill:"none",stroke:"currentColor",strokeWidth:1.5,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6l4 4 4-4"})})})]})]}),e.jsx("div",{className:"px-4 pb-3 flex flex-wrap gap-1",children:t.tags.map(n=>e.jsx("span",{className:"px-1.5 py-0.5 text-xs rounded bg-zinc-800 text-zinc-600 border border-zinc-700/50",children:n},n))}),u&&e.jsx("div",{className:"px-4 pb-4 pt-0 border-t border-zinc-800",children:e.jsxs("div",{className:"pt-3 space-y-3",children:[t.type==="percentage"&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("label",{htmlFor:`rollout-${t.id}`,className:"text-xs text-zinc-500",children:"Rollout Percentage"}),e.jsxs("span",{className:"text-xs font-mono font-semibold text-violet-400",children:[t.rolloutPercent??0,"%"]})]}),e.jsx("input",{id:`rollout-${t.id}`,type:"range",min:0,max:100,value:t.rolloutPercent??0,onChange:n=>b(t.id,Number(n.target.value)),className:"w-full accent-violet-500"}),e.jsxs("div",{className:"flex justify-between text-xs text-zinc-700 mt-0.5",children:[e.jsx("span",{children:"0% (off)"}),e.jsx("span",{children:"50%"}),e.jsx("span",{children:"100% (all)"})]})]}),Object.keys(t.envOverrides).length>0&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-semibold text-zinc-500 mb-2",children:"Environment Overrides"}),e.jsx("div",{className:"space-y-1",children:Object.entries(t.envOverrides).map(([n,p])=>e.jsxs("div",{className:"flex items-center justify-between px-3 py-1.5 rounded-lg bg-zinc-950 border border-zinc-800",children:[e.jsx("span",{className:"text-xs text-zinc-400 capitalize",children:n}),e.jsx("span",{className:d("text-xs font-mono font-semibold",typeof p=="boolean"?p?"text-emerald-400":"text-rose-400":"text-zinc-300"),children:f(p)})]},n))})]}),t.agentOverrides.length>0&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-semibold text-zinc-500 mb-2",children:"Agent Overrides"}),e.jsx("div",{className:"space-y-1",children:t.agentOverrides.map(n=>e.jsxs("div",{className:"flex items-center justify-between px-3 py-1.5 rounded-lg bg-zinc-950 border border-zinc-800",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm",children:n.agentEmoji}),e.jsx("span",{className:"text-xs text-zinc-400",children:n.agentName})]}),e.jsx("span",{className:d("text-xs font-mono font-semibold",typeof n.value=="boolean"?n.value?"text-emerald-400":"text-rose-400":"text-zinc-300"),children:f(n.value)})]},n.agentId))})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs text-zinc-600",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-zinc-500",children:"Created"}),e.jsx("p",{className:"mt-0.5 text-zinc-400",children:N(t.createdAt)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-zinc-500",children:"Updated"}),e.jsx("p",{className:"mt-0.5 text-zinc-400",children:N(t.updatedAt)})]})]})]})})]})}function _(){const[t,o]=c.useState(A),[b,u]=c.useState(""),[x,g]=c.useState("all"),[f,n]=c.useState("all"),p=c.useRef(null);c.useEffect(()=>{const s=l=>{var r;(l.metaKey||l.ctrlKey)&&l.key==="f"&&(l.preventDefault(),(r=p.current)==null||r.focus())};return document.addEventListener("keydown",s),()=>document.removeEventListener("keydown",s)},[]);const y=c.useCallback(s=>{o(l=>l.map(r=>r.id===s?{...r,enabled:!r.enabled,updatedAt:new Date}:r))},[]),w=c.useCallback((s,l)=>{o(r=>r.map(v=>v.id===s?{...v,rolloutPercent:l,updatedAt:new Date}:v))},[]),j=t.filter(s=>{if(x==="enabled"&&!s.enabled||x==="disabled"&&s.enabled||x==="experimental"&&!s.isExperimental)return!1;if(b.trim()){const l=b.toLowerCase();return s.key.toLowerCase().includes(l)||s.name.toLowerCase().includes(l)||s.description.toLowerCase().includes(l)||s.tags.some(r=>r.includes(l))}return!0}),m={total:t.length,enabled:t.filter(s=>s.enabled).length,experimental:t.filter(s=>s.isExperimental).length},z=[{id:"all",label:"All",count:t.length},{id:"enabled",label:"Enabled",count:m.enabled},{id:"disabled",label:"Disabled",count:t.length-m.enabled},{id:"experimental",label:"Experimental",count:m.experimental}];return e.jsxs("div",{className:"flex flex-col h-full bg-zinc-950",children:[e.jsxs("div",{className:"flex-none px-6 py-4 border-b border-zinc-800",children:[e.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-semibold text-white",children:"Feature Flags"}),e.jsx("p",{className:"text-sm text-zinc-500 mt-0.5",children:"Toggle features, manage rollouts, and configure per-environment or per-agent overrides"})]}),e.jsxs("button",{"aria-label":"Create new feature flag",className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium rounded-lg bg-indigo-600 text-white hover:bg-indigo-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-500 transition-colors",children:[e.jsx("svg",{className:"h-3.5 w-3.5",viewBox:"0 0 14 14",fill:"none",stroke:"currentColor",strokeWidth:1.5,children:e.jsx("path",{strokeLinecap:"round",d:"M7 2v10M2 7h10"})}),"New Flag"]})]}),e.jsxs("div",{className:"flex items-center gap-4 mt-3 text-xs text-zinc-600",children:[e.jsxs("span",{children:[e.jsx("span",{className:"text-zinc-300 font-semibold",children:m.total})," flags"]}),e.jsxs("span",{children:[e.jsx("span",{className:"text-emerald-400 font-semibold",children:m.enabled})," enabled"]}),e.jsxs("span",{children:[e.jsx("span",{className:"text-zinc-500 font-semibold",children:t.length-m.enabled})," disabled"]}),e.jsxs("span",{children:[e.jsx("span",{className:"text-amber-400 font-semibold",children:m.experimental})," experimental"]})]})]}),e.jsxs("div",{className:"flex-none px-6 py-3 border-b border-zinc-800 flex items-center gap-3 flex-wrap",children:[e.jsxs("div",{className:"relative flex-1 min-w-48 max-w-xs",children:[e.jsxs("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 h-3.5 w-3.5 text-zinc-500 pointer-events-none",viewBox:"0 0 16 16",fill:"none",stroke:"currentColor",strokeWidth:1.5,children:[e.jsx("circle",{cx:"7",cy:"7",r:"4.5"}),e.jsx("path",{strokeLinecap:"round",d:"M10.5 10.5l3 3"})]}),e.jsx("input",{ref:p,type:"search",value:b,onChange:s=>u(s.target.value),placeholder:"Search flags‚Ä¶ (‚åòF)","aria-label":"Search feature flags",className:"w-full pl-8 pr-3 py-1.5 text-sm bg-zinc-900 border border-zinc-700 rounded-lg text-zinc-200 placeholder:text-zinc-600 focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),e.jsx("div",{role:"group","aria-label":"Filter flags",className:"flex items-center gap-1",children:z.map(({id:s,label:l,count:r})=>e.jsxs("button",{onClick:()=>g(s),"aria-pressed":x===s,className:d("px-2.5 py-1 text-xs font-medium rounded-lg transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-500",x===s?"bg-indigo-600 text-white":"text-zinc-400 hover:text-zinc-200 hover:bg-zinc-800"),children:[l," ",e.jsx("span",{className:d("ml-1 tabular-nums",x===s?"opacity-80":"text-zinc-600"),children:r})]},s))})]}),e.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-4 space-y-2",children:j.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center gap-3 py-20 text-center",children:[e.jsx("span",{className:"text-4xl",children:"üö©"}),e.jsx("p",{className:"text-sm font-medium text-zinc-300",children:"No flags found"})]}):j.map(s=>e.jsx(O,{flag:s,onToggle:y,onRolloutChange:w},s.id))})]})}export{_ as default};
