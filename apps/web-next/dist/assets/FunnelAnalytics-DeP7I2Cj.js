import{r as x,j as e,c as a}from"./index-CEweWGol.js";const f=[{id:"user-onboarding",name:"User Onboarding",description:"New user journey from signup through first productive session",period:"Last 30 days",totalEntered:847,totalCompleted:312,stages:[{id:"s1",name:"Signup",count:847,conversionRate:100,avgDuration:"0s",dropoffReasons:[],color:"bg-indigo-500"},{id:"s2",name:"Email Verified",count:720,conversionRate:85,avgDuration:"4m",dropoffReasons:["Email not received (32%)","Bounced (68%)"],color:"bg-blue-500"},{id:"s3",name:"Profile Setup",count:612,conversionRate:85,avgDuration:"7m",dropoffReasons:["Abandoned form (45%)","Timeout (55%)"],color:"bg-sky-500"},{id:"s4",name:"First Agent",count:480,conversionRate:78.4,avgDuration:"12m",dropoffReasons:["Confused by UI (60%)","No use case (40%)"],color:"bg-teal-500"},{id:"s5",name:"First Task Run",count:390,conversionRate:81.2,avgDuration:"3m",dropoffReasons:["Task failed (70%)","Gave up (30%)"],color:"bg-emerald-500"},{id:"s6",name:"Active (7d)",count:312,conversionRate:80,avgDuration:"7d",dropoffReasons:["No value realized (80%)","Cost concern (20%)"],color:"bg-green-500"}]},{id:"agent-task",name:"Agent Task Lifecycle",description:"Full lifecycle from task creation to verified completion",period:"Last 7 days",totalEntered:15420,totalCompleted:13891,stages:[{id:"t1",name:"Task Created",count:15420,conversionRate:100,avgDuration:"0s",dropoffReasons:[],color:"bg-indigo-500"},{id:"t2",name:"Queued",count:15380,conversionRate:99.7,avgDuration:"0.2s",dropoffReasons:["Validation failed (100%)"],color:"bg-blue-500"},{id:"t3",name:"Executing",count:14980,conversionRate:97.4,avgDuration:"0.5s",dropoffReasons:["Queue timeout (60%)","Rate limit (40%)"],color:"bg-violet-500"},{id:"t4",name:"Tool Calls",count:14600,conversionRate:97.5,avgDuration:"4.2s",dropoffReasons:["Agent errored (70%)","Context full (30%)"],color:"bg-purple-500"},{id:"t5",name:"Completed",count:13891,conversionRate:95.1,avgDuration:"8.7s",dropoffReasons:["Timeout (50%)","API error (50%)"],color:"bg-emerald-500"}]},{id:"deploy-pipeline",name:"Deploy Pipeline",description:"From PR merge to successful production deployment",period:"All time",totalEntered:284,totalCompleted:221,stages:[{id:"d1",name:"PR Merged",count:284,conversionRate:100,avgDuration:"0s",dropoffReasons:[],color:"bg-indigo-500"},{id:"d2",name:"CI Triggered",count:282,conversionRate:99.3,avgDuration:"30s",dropoffReasons:["Config error (100%)"],color:"bg-blue-500"},{id:"d3",name:"Tests Passed",count:261,conversionRate:92.6,avgDuration:"4m",dropoffReasons:["Flaky tests (40%)","Real failures (60%)"],color:"bg-amber-500"},{id:"d4",name:"Build Success",count:248,conversionRate:95,avgDuration:"2m",dropoffReasons:["TS errors (80%)","Bundle too large (20%)"],color:"bg-orange-400"},{id:"d5",name:"Staged",count:236,conversionRate:95.2,avgDuration:"5m",dropoffReasons:["Preview failed (100%)"],color:"bg-teal-500"},{id:"d6",name:"Production",count:221,conversionRate:93.6,avgDuration:"2m",dropoffReasons:["Health check failed (100%)"],color:"bg-emerald-500"}]}];function N(){const[m,g]=x.useState("user-onboarding"),[p,c]=x.useState(null),[u,b]=x.useState("funnel"),n=f.find(t=>t.id===m),l=n.stages[0].count,d=(n.totalCompleted/n.totalEntered*100).toFixed(1),o=n.stages.find(t=>t.id===p);return e.jsxs("div",{className:"flex h-full bg-zinc-950 overflow-hidden flex-col",children:[e.jsxs("div",{className:"flex items-center gap-4 px-6 py-3 border-b border-zinc-800 bg-zinc-900 flex-shrink-0",children:[e.jsx("div",{className:"flex gap-2",children:f.map(t=>e.jsx("button",{onClick:()=>{g(t.id),c(null)},className:a("text-xs px-3 py-1.5 rounded border transition-colors",m===t.id?"bg-indigo-500/20 border-indigo-500 text-indigo-300":"border-zinc-700 text-zinc-500 hover:text-zinc-300 bg-zinc-800"),children:t.name},t.id))}),e.jsx("div",{className:"ml-auto flex items-center gap-6",children:[{label:"Entered",value:n.totalEntered.toLocaleString()},{label:"Completed",value:n.totalCompleted.toLocaleString()},{label:"Conversion",value:`${d}%`},{label:"Period",value:n.period}].map(({label:t,value:s})=>e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-sm font-bold text-white",children:s}),e.jsx("div",{className:"text-[10px] text-zinc-500",children:t})]},t))}),e.jsx("div",{className:"flex rounded border border-zinc-700 overflow-hidden",children:["funnel","table"].map(t=>e.jsx("button",{onClick:()=>b(t),className:a("text-xs px-3 py-1.5 capitalize transition-colors",u===t?"bg-indigo-500 text-white":"bg-zinc-800 text-zinc-400 hover:text-white"),children:t==="funnel"?"ðŸ“Š Funnel":"ðŸ“‹ Table"},t))})]}),e.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[e.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:u==="funnel"?e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsx("p",{className:"text-xs text-zinc-500 mb-6",children:n.description}),e.jsx("div",{className:"space-y-1",children:n.stages.map((t,s)=>{const r=t.count/l*100,i=p===t.id,h=s>0?n.stages[s-1]:null,v=h?h.count-t.count:0;return e.jsxs("div",{children:[s>0&&v>0&&e.jsxs("div",{className:"flex items-center gap-2 py-0.5 px-2",children:[e.jsx("div",{className:"flex-1 h-px bg-zinc-800"}),e.jsxs("span",{className:"text-[9px] text-rose-400 whitespace-nowrap",children:["â†“ ",v.toLocaleString()," dropped (",(100-t.conversionRate).toFixed(1),"%)"]}),e.jsx("div",{className:"flex-1 h-px bg-zinc-800"})]}),e.jsxs("button",{onClick:()=>c(i?null:t.id),className:"w-full group",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-0.5",children:[e.jsx("span",{className:"text-[10px] text-zinc-500 w-4 text-right",children:s+1}),e.jsx("span",{className:"text-xs text-zinc-300",children:t.name}),e.jsx("span",{className:"text-xs text-white font-semibold ml-auto",children:t.count.toLocaleString()}),s>0&&e.jsxs("span",{className:a("text-[10px] font-medium w-12 text-right",t.conversionRate>=90?"text-emerald-400":t.conversionRate>=75?"text-amber-400":"text-rose-400"),children:[t.conversionRate.toFixed(1),"%"]})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:a("transition-all duration-300 rounded h-10 flex items-center justify-center",t.color,i?"opacity-100 ring-2 ring-white/30":"opacity-70 group-hover:opacity-90"),style:{width:`${r}%`},children:e.jsx("span",{className:"text-white text-xs font-bold drop-shadow",children:t.name})})}),e.jsxs("div",{className:"text-center text-[9px] text-zinc-600 mt-0.5",children:["avg ",t.avgDuration]})]})]},t.id)})}),e.jsxs("div",{className:"mt-8 p-4 bg-zinc-900 rounded border border-zinc-800",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-xs text-zinc-400",children:"Overall Conversion"}),e.jsxs("span",{className:"text-sm font-bold text-white",children:[d,"%"]})]}),e.jsx("div",{className:"h-3 bg-zinc-800 rounded overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-indigo-500 to-emerald-500 rounded",style:{width:`${d}%`}})}),e.jsxs("div",{className:"flex justify-between text-[9px] text-zinc-600 mt-1",children:[e.jsxs("span",{children:[n.totalEntered.toLocaleString()," entered"]}),e.jsxs("span",{children:[n.totalCompleted.toLocaleString()," completed"]})]})]})]}):e.jsxs("table",{className:"w-full max-w-3xl mx-auto",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-zinc-800 text-[10px] text-zinc-500 uppercase tracking-wider",children:[e.jsx("th",{className:"text-left px-4 py-2",children:"#"}),e.jsx("th",{className:"text-left px-4 py-2",children:"Stage"}),e.jsx("th",{className:"text-right px-4 py-2",children:"Count"}),e.jsx("th",{className:"text-right px-4 py-2",children:"Conv. Rate"}),e.jsx("th",{className:"text-right px-4 py-2",children:"Dropped"}),e.jsx("th",{className:"text-left px-4 py-2",children:"Avg Duration"}),e.jsx("th",{className:"text-left px-4 py-2",children:"Bar"})]})}),e.jsx("tbody",{className:"divide-y divide-zinc-800/50",children:n.stages.map((t,s)=>{const r=n.stages[s-1],i=r?r.count-t.count:0;return e.jsxs("tr",{className:"hover:bg-zinc-900 transition-colors",children:[e.jsx("td",{className:"px-4 py-3 text-zinc-600 text-xs",children:s+1}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:a("w-2.5 h-2.5 rounded-sm flex-shrink-0",t.color)}),e.jsx("span",{className:"text-sm text-white",children:t.name})]})}),e.jsx("td",{className:"px-4 py-3 text-right text-sm font-mono text-white",children:t.count.toLocaleString()}),e.jsx("td",{className:"px-4 py-3 text-right",children:s===0?e.jsx("span",{className:"text-[10px] text-zinc-600",children:"â€”"}):e.jsxs("span",{className:a("text-sm font-semibold",t.conversionRate>=90?"text-emerald-400":t.conversionRate>=75?"text-amber-400":"text-rose-400"),children:[t.conversionRate.toFixed(1),"%"]})}),e.jsx("td",{className:"px-4 py-3 text-right text-xs text-rose-400",children:i>0?`-${i.toLocaleString()}`:"â€”"}),e.jsx("td",{className:"px-4 py-3 text-xs text-zinc-500",children:t.avgDuration}),e.jsx("td",{className:"px-4 py-3 w-32",children:e.jsx("div",{className:"h-2 bg-zinc-800 rounded overflow-hidden",children:e.jsx("div",{className:a("h-full rounded",t.color),style:{width:`${t.count/l*100}%`}})})})]},t.id)})})]})}),o&&e.jsxs("div",{className:"w-72 flex-shrink-0 border-l border-zinc-800 bg-zinc-900 overflow-y-auto p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:a("w-3 h-3 rounded",o.color)}),e.jsx("span",{className:"font-semibold text-sm text-white",children:o.name})]}),e.jsx("button",{onClick:()=>c(null),className:"text-zinc-500 hover:text-white text-xs",children:"âœ•"})]}),e.jsx("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[{label:"Users",value:o.count.toLocaleString()},{label:"Conv. Rate",value:`${o.conversionRate.toFixed(1)}%`},{label:"Avg Time",value:o.avgDuration},{label:"Of Total",value:`${(o.count/l*100).toFixed(0)}%`}].map(({label:t,value:s})=>e.jsxs("div",{className:"bg-zinc-950 rounded p-2 border border-zinc-800",children:[e.jsx("div",{className:"text-[10px] text-zinc-500",children:t}),e.jsx("div",{className:"text-sm font-semibold text-white mt-0.5",children:s})]},t))}),e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"text-[10px] text-zinc-500 mb-1",children:"Proportion of entrants"}),e.jsx("div",{className:"h-2 bg-zinc-800 rounded overflow-hidden",children:e.jsx("div",{className:a("h-full rounded",o.color),style:{width:`${o.count/l*100}%`}})})]}),o.dropoffReasons.length>0&&e.jsxs("div",{children:[e.jsx("div",{className:"text-[10px] font-semibold text-zinc-400 uppercase tracking-wider mb-2",children:"Drop-off Reasons"}),e.jsx("div",{className:"space-y-1.5",children:o.dropoffReasons.map((t,s)=>e.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-rose-400 flex-shrink-0"}),e.jsx("span",{className:"text-zinc-400",children:t})]},s))})]})]})]})]})}export{N as default};
