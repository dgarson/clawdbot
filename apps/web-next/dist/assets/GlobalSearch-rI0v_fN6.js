import{r as u,j as e,c as f}from"./index-Cpj3ScTZ.js";const E=new Date,l=t=>new Date(E.getTime()-t),h=t=>t*6e4,b=t=>t*36e5,z=t=>t*864e5,I=[{id:"a1",kind:"agent",title:"Luis",subtitle:"Principal UX Engineer",description:"Leads Product & UI Squad. Owns UX, frontend, design system.",tags:["UX","frontend","React"],badge:"Active",badgeColor:"emerald",score:1},{id:"a2",kind:"agent",title:"Xavier",subtitle:"CTO",description:"Engineering strategy, architecture, team oversight.",tags:["strategy","architecture"],badge:"Active",badgeColor:"emerald",score:1},{id:"a3",kind:"agent",title:"Piper",subtitle:"Worker ‚Äî Product & UI",description:"Component architecture, design system implementation.",tags:["components","design-system"],badge:"Active",badgeColor:"emerald",score:.9},{id:"a4",kind:"agent",title:"Quinn",subtitle:"Worker ‚Äî Product & UI",description:"User flows, interaction design, accessibility.",tags:["UX","a11y"],badge:"Active",badgeColor:"emerald",score:.9},{id:"a5",kind:"agent",title:"Stephan",subtitle:"CMO",description:"Brand, marketing, content, social strategy.",tags:["marketing","brand"],badge:"Active",badgeColor:"emerald",score:.85},{id:"a6",kind:"agent",title:"Tim",subtitle:"VP Architecture",description:"Frontend architecture, megabranch PRs, engineering standards.",tags:["architecture","engineering"],badge:"Active",badgeColor:"emerald",score:.85},{id:"a7",kind:"agent",title:"Roman",subtitle:"Lead ‚Äî Platform Core",description:"Platform infrastructure, Gateway, backend services.",tags:["backend","infrastructure"],badge:"Active",badgeColor:"emerald",score:.8},{id:"a8",kind:"agent",title:"Wes",subtitle:"Worker ‚Äî Product & UI",description:"Performance, rendering optimization, bundle size.",tags:["performance","optimization"],badge:"Idle",badgeColor:"zinc",score:.8},{id:"a9",kind:"agent",title:"Sam",subtitle:"Worker ‚Äî Product & UI",description:"API integration, client networking, data layer.",tags:["API","networking"],badge:"Idle",badgeColor:"zinc",score:.75},{id:"a10",kind:"agent",title:"Reed",subtitle:"Worker ‚Äî Product & UI",description:"State management, client data, offline support.",tags:["state","data"],badge:"Idle",badgeColor:"zinc",score:.75},{id:"s1",kind:"session",title:"UX Work Check (Hourly)",subtitle:"agent:luis ¬∑ cron",description:"Building Horizon UI views ‚Äî 24 views completed.",timestamp:l(h(5)),tags:["cron","UX"],badge:"Active",badgeColor:"emerald",score:1},{id:"s2",kind:"session",title:"Brand Review Cron",subtitle:"agent:stephan ¬∑ cron",description:"Weekly brand consistency review across all content.",timestamp:l(b(2)),tags:["cron","brand"],badge:"Done",badgeColor:"zinc",score:.7},{id:"s3",kind:"session",title:"Chat with Luis",subtitle:"user:david ¬∑ chat",description:"Discussion about Horizon UI architecture and design system.",timestamp:l(z(1)),tags:["chat","design"],badge:"Done",badgeColor:"zinc",score:.85},{id:"s4",kind:"session",title:"Architecture Review",subtitle:"agent:tim ¬∑ manual",description:"Review of megabranch PR strategy and frontend patterns.",timestamp:l(z(2)),tags:["architecture","PR"],badge:"Done",badgeColor:"zinc",score:.8},{id:"s5",kind:"session",title:"Piper: TeamManagement view",subtitle:"agent:piper ¬∑ subagent",description:"Built TeamManagement.tsx ‚Äî 1074 lines, clean build.",timestamp:l(b(1)),tags:["code","UI"],badge:"Done",badgeColor:"zinc",score:.9},{id:"s6",kind:"session",title:"Quinn: BillingSubscription",subtitle:"agent:quinn ¬∑ subagent",description:"Built BillingSubscription.tsx ‚Äî plan/usage/invoices tabs.",timestamp:l(b(1)+h(30)),tags:["code","billing"],badge:"Done",badgeColor:"zinc",score:.9},{id:"f1",kind:"file",title:"CONTEXT.md",subtitle:"luis/CONTEXT.md",description:"Product context, current priorities, and project status.",timestamp:l(b(6)),tags:["context","docs"],score:.8},{id:"f2",kind:"file",title:"UI_SPEC.md",subtitle:"luis/UI_SPEC.md",description:"Horizon UI specification ‚Äî framework, architecture, design system.",timestamp:l(z(1)),tags:["spec","design"],score:.85},{id:"f3",kind:"file",title:"UX_WORK_QUEUE.md",subtitle:"luis/UX_WORK_QUEUE.md",description:"Active task queue ‚Äî 24 views done, sprint exceeded.",timestamp:l(h(30)),tags:["tasks","queue"],score:.9},{id:"f4",kind:"file",title:"App.tsx",subtitle:"apps/web-next/src/App.tsx",description:"Main app shell ‚Äî nav, routing, command palette, keyboard shortcuts.",timestamp:l(h(10)),tags:["React","routing"],score:1},{id:"f5",kind:"file",title:"AGENTS.md",subtitle:"luis/AGENTS.md",description:"Agent configuration ‚Äî role, squad, reporting, protocol.",timestamp:l(z(3)),tags:["config","agent"],score:.75},{id:"f6",kind:"file",title:"AuditLog.tsx",subtitle:"apps/web-next/src/views/AuditLog.tsx",description:"Audit log view ‚Äî 15 event types, CSV export, search, filters.",timestamp:l(b(.5)),tags:["view","compliance"],score:.95},{id:"e1",kind:"event",title:"agent.file.write ‚Äî AuditLog.tsx",subtitle:"agent:luis ¬∑ 30m ago",description:"AuditLog.tsx created ‚Äî 17.90 kB, 0 TS errors.",timestamp:l(h(30)),tags:["file","write"],badge:"Success",badgeColor:"emerald",score:.9},{id:"e2",kind:"event",title:"api.token.validate ‚Äî failure",subtitle:"api:unknown ¬∑ 4h ago",description:"Invalid API token from 198.51.100.44 ‚Äî 3 attempts.",timestamp:l(b(4)),tags:["auth","security"],badge:"Failure",badgeColor:"rose",score:.85},{id:"e3",kind:"event",title:"billing.budget.alert",subtitle:"system ¬∑ 2h ago",description:"Daily token budget at 87% ‚Äî claude-opus-4-6.",timestamp:l(b(2)),tags:["billing","alert"],badge:"Warning",badgeColor:"amber",score:.8},{id:"e4",kind:"event",title:"cron.job.execute ‚Äî data-sync failure",subtitle:"system ¬∑ 1h ago",description:"Cron data-sync timed out after 30s.",timestamp:l(b(1)+h(10)),tags:["cron","error"],badge:"Failure",badgeColor:"rose",score:.85},{id:"e5",kind:"event",title:"auth.login ‚Äî david",subtitle:"user:david ¬∑ 1h ago",description:"David signed in via browser session (Safari/19).",timestamp:l(b(1)),tags:["auth","user"],badge:"Success",badgeColor:"emerald",score:.7},{id:"sk1",kind:"skill",title:"Web Search",subtitle:"Brave Search API",description:"Search the web and retrieve current information for agents.",tags:["search","web","API"],badge:"Active",badgeColor:"emerald",score:.85},{id:"sk2",kind:"skill",title:"Browser Control",subtitle:"OpenClaw Browser",description:"Control web browsers, take screenshots, interact with pages.",tags:["browser","automation"],badge:"Active",badgeColor:"emerald",score:.8},{id:"sk3",kind:"skill",title:"Code Execution",subtitle:"Shell + Node.js",description:"Execute shell commands, run scripts, manage processes.",tags:["code","shell"],badge:"Active",badgeColor:"emerald",score:.8},{id:"sk4",kind:"skill",title:"Voice Call",subtitle:"OpenAI Voice",description:"Make phone calls and have voice conversations.",tags:["voice","phone"],badge:"Active",badgeColor:"emerald",score:.75},{id:"sk5",kind:"skill",title:"File I/O",subtitle:"Workspace FS",description:"Read, write, and manage files in agent workspaces.",tags:["files","storage"],badge:"Active",badgeColor:"emerald",score:.75},{id:"v1",kind:"view",title:"Agent Dashboard",subtitle:"Overview of all agents",description:"Activity, status, recent sessions, model usage at a glance.",tags:["dashboard","agents"],badge:"View",badgeColor:"indigo",score:.9},{id:"v2",kind:"view",title:"Chat Interface",subtitle:"Talk to an agent",description:"Full-featured chat with markdown, code blocks, file context.",tags:["chat","agents"],badge:"View",badgeColor:"indigo",score:.9},{id:"v3",kind:"view",title:"Usage Dashboard",subtitle:"Costs and token usage",description:"Daily/monthly breakdowns, model costs, agent spend.",tags:["usage","billing"],badge:"View",badgeColor:"indigo",score:.85},{id:"v4",kind:"view",title:"Audit Log",subtitle:"System event history",description:"Compliance-grade log of all API calls, auth events, changes.",tags:["audit","security"],badge:"View",badgeColor:"indigo",score:.9},{id:"v5",kind:"view",title:"System Health",subtitle:"Service status",description:"Real-time health of gateway, APIs, integrations.",tags:["health","ops"],badge:"View",badgeColor:"indigo",score:.85}],y={agent:{label:"Agent",emoji:"ü§ñ",color:"text-indigo-400"},session:{label:"Session",emoji:"üå≥",color:"text-emerald-400"},file:{label:"File",emoji:"üìÑ",color:"text-amber-400"},event:{label:"Event",emoji:"üìã",color:"text-rose-400"},skill:{label:"Skill",emoji:"üß©",color:"text-violet-400"},view:{label:"View",emoji:"üñ•Ô∏è",color:"text-cyan-400"}},L={emerald:"bg-emerald-500/15 text-emerald-300 ring-emerald-500/25",rose:"bg-rose-500/15 text-rose-300 ring-rose-500/25",amber:"bg-amber-500/15 text-amber-300 ring-amber-500/25",zinc:"bg-zinc-700/50 text-zinc-400 ring-zinc-600/25",indigo:"bg-indigo-500/15 text-indigo-300 ring-indigo-500/25",violet:"bg-violet-500/15 text-violet-300 ring-violet-500/25"};function U(t){const a=Date.now()-t.getTime();return a<6e4?"just now":a<36e5?`${Math.floor(a/6e4)}m ago`:a<864e5?`${Math.floor(a/36e5)}h ago`:`${Math.floor(a/864e5)}d ago`}function N(t,a){if(!a.trim())return t;const s=new RegExp(`(${a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")})`,"gi");return t.split(s).map((r,g)=>s.test(r)?e.jsx("mark",{className:"bg-indigo-500/30 text-indigo-200 rounded px-0.5",children:r},g):r)}function P(t,a){if(!a.trim())return t;const s=a.toLowerCase();return t.map(o=>{var p,x;let r=0;const g=o.title.toLowerCase().includes(s),m=o.subtitle.toLowerCase().includes(s),k=((p=o.description)==null?void 0:p.toLowerCase().includes(s))??!1,c=((x=o.tags)==null?void 0:x.some(v=>v.toLowerCase().includes(s)))??!1;return g&&(r+=3),m&&(r+=2),k&&(r+=1),c&&(r+=1),{...o,_matchScore:r}}).filter(o=>o._matchScore>0).sort((o,r)=>r._matchScore-o._matchScore)}function S({result:t,query:a,selected:s,onSelect:o}){const r=y[t.kind],g=u.useRef(null);return u.useEffect(()=>{var m;s&&((m=g.current)==null||m.scrollIntoView({block:"nearest"}))},[s]),e.jsxs("button",{ref:g,role:"option","aria-selected":s,onClick:o,className:f("w-full flex items-start gap-3 px-4 py-3 text-left transition-colors border-b border-zinc-800/60 last:border-0","hover:bg-zinc-900 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-indigo-500",s&&"bg-zinc-900 ring-1 ring-inset ring-indigo-500/30"),children:[e.jsx("div",{className:"flex-none mt-0.5 h-8 w-8 rounded-lg bg-zinc-800 border border-zinc-700 flex items-center justify-center text-sm",children:r.emoji}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("span",{className:f("text-xs font-semibold",r.color),children:r.label}),t.badge&&t.badgeColor&&e.jsx("span",{className:f("px-1.5 py-0.5 text-xs font-medium rounded-full ring-1",L[t.badgeColor]),children:t.badge})]}),e.jsx("p",{className:"mt-0.5 text-sm font-semibold text-white leading-snug",children:N(t.title,a)}),e.jsx("p",{className:"text-xs text-zinc-500 truncate",children:N(t.subtitle,a)}),t.description&&e.jsx("p",{className:"mt-1 text-xs text-zinc-400 leading-relaxed line-clamp-2",children:N(t.description,a)}),t.tags&&t.tags.length>0&&e.jsx("div",{className:"mt-1.5 flex flex-wrap gap-1",children:t.tags.slice(0,4).map(m=>e.jsx("span",{className:"px-1.5 py-0.5 text-xs rounded bg-zinc-800 text-zinc-500 border border-zinc-700/50",children:m},m))})]}),t.timestamp&&e.jsx("div",{className:"flex-none text-right",children:e.jsx("p",{className:"text-xs text-zinc-600",children:U(t.timestamp)})})]})}function R({query:t}){return e.jsxs("div",{className:"flex flex-col items-center justify-center gap-4 py-24 px-8 text-center",children:[e.jsx("div",{className:"h-16 w-16 rounded-2xl bg-zinc-800/50 border border-zinc-700 flex items-center justify-center text-3xl",children:"üîç"}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-semibold text-white",children:['No results for "',t,'"']}),e.jsx("p",{className:"text-xs text-zinc-500 mt-1",children:"Try searching for agents, sessions, files, events, or views"})]}),e.jsx("div",{className:"grid grid-cols-2 gap-2 w-full max-w-xs mt-2",children:["Luis","Session","AuditLog","System Health"].map(a=>e.jsx("span",{className:"px-3 py-1.5 text-xs rounded-lg bg-zinc-800 text-zinc-400 border border-zinc-700 text-center cursor-default",children:a},a))})]})}function D(){const t=["Luis","session","audit","billing"],a=[{emoji:"ü§ñ",label:"Agents",kind:"agent"},{emoji:"üå≥",label:"Sessions",kind:"session"},{emoji:"üìÑ",label:"Files",kind:"file"},{emoji:"üìã",label:"Events",kind:"event"},{emoji:"üß©",label:"Skills",kind:"skill"},{emoji:"üñ•Ô∏è",label:"Views",kind:"view"}];return e.jsxs("div",{className:"px-6 py-8",children:[e.jsx("div",{className:"grid grid-cols-3 gap-2 mb-8",children:a.map(({emoji:s,label:o})=>e.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-zinc-900 border border-zinc-800 text-sm text-zinc-400 cursor-default",children:[e.jsx("span",{className:"text-base",children:s}),o]},o))}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-semibold text-zinc-500 uppercase tracking-wider mb-3",children:"Recent Searches"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:t.map(s=>e.jsxs("span",{className:"flex items-center gap-1.5 px-2.5 py-1 rounded-lg bg-zinc-800 text-xs text-zinc-400 border border-zinc-700 cursor-default",children:[e.jsx("svg",{className:"h-3 w-3 text-zinc-600",viewBox:"0 0 12 12",fill:"none",stroke:"currentColor",strokeWidth:1.5,children:e.jsx("path",{strokeLinecap:"round",d:"M9 9l-2.5-2.5M7 4.5a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})}),s]},s))})]})]})}const M=["all","agent","session","file","event","skill","view"];function W(){const[t,a]=u.useState(""),[s,o]=u.useState("all"),[r,g]=u.useState(0),m=u.useRef(null);u.useEffect(()=>{var i;(i=m.current)==null||i.focus()},[]);const k=s==="all"?I:I.filter(i=>i.kind===s),c=t.trim()?P(k,t):k.sort((i,n)=>n.score-i.score);u.useEffect(()=>{const i=n=>{n.key==="ArrowDown"?(n.preventDefault(),g(d=>Math.min(d+1,c.length-1))):n.key==="ArrowUp"?(n.preventDefault(),g(d=>Math.max(d-1,0))):n.key==="Enter"&&c[r]&&console.log("Navigate to:",c[r])};return document.addEventListener("keydown",i),()=>document.removeEventListener("keydown",i)},[c,r]),u.useEffect(()=>{g(0)},[t,s]);const p=u.useCallback(i=>{g(i)},[]),x=s==="all"&&c.length>0?["agent","session","file","event","skill","view"].reduce((i,n)=>(i[n]=c.filter(d=>d.kind===n),i),{}):null,v=c.length;return e.jsxs("div",{className:"flex flex-col h-full bg-zinc-950",children:[e.jsxs("div",{className:"flex-none px-6 py-5 border-b border-zinc-800",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("svg",{className:"absolute left-4 top-1/2 -translate-y-1/2 h-5 w-5 text-zinc-400 pointer-events-none",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:1.5,children:[e.jsx("circle",{cx:"9",cy:"9",r:"5.5"}),e.jsx("path",{strokeLinecap:"round",d:"M13.5 13.5l4 4"})]}),e.jsx("input",{ref:m,type:"search",value:t,onChange:i=>a(i.target.value),placeholder:"Search agents, sessions, files, events, skills‚Ä¶","aria-label":"Global search","aria-autocomplete":"list","aria-haspopup":"listbox",className:"w-full pl-12 pr-4 py-3 text-base bg-zinc-900 border border-zinc-700 rounded-xl text-zinc-100 placeholder:text-zinc-600 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-colors"}),t&&e.jsx("button",{onClick:()=>a(""),"aria-label":"Clear search",className:"absolute right-4 top-1/2 -translate-y-1/2 p-1 rounded text-zinc-500 hover:text-zinc-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-500",children:e.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 16 16",fill:"none",stroke:"currentColor",strokeWidth:1.5,children:e.jsx("path",{strokeLinecap:"round",d:"M4 4l8 8M12 4l-8 8"})})})]}),e.jsx("div",{role:"tablist","aria-label":"Filter by type",className:"flex items-center gap-1 mt-3 overflow-x-auto pb-px",children:M.map(i=>{const n=i==="all"?null:y[i],d=i==="all"?v:c.filter(w=>w.kind===i).length;return e.jsxs("button",{role:"tab","aria-selected":s===i,onClick:()=>o(i),className:f("flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium rounded-lg transition-colors whitespace-nowrap focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-500",s===i?"bg-indigo-600 text-white":"text-zinc-400 hover:text-zinc-200 hover:bg-zinc-800"),children:[n&&e.jsx("span",{children:n.emoji}),e.jsx("span",{className:"capitalize",children:i==="all"?"All":n==null?void 0:n.label}),d>0&&e.jsx("span",{className:f("px-1.5 py-0.5 rounded-full text-xs tabular-nums",s===i?"bg-indigo-500 text-white":"bg-zinc-700 text-zinc-400"),children:d})]},i)})})]}),e.jsxs("div",{role:"listbox","aria-label":"Search results",className:"flex-1 overflow-y-auto",children:[!t.trim()&&s==="all"&&e.jsx(D,{}),t.trim()&&c.length===0&&e.jsx(R,{query:t}),c.length>0&&e.jsxs(e.Fragment,{children:[t.trim()&&e.jsx("div",{className:"px-4 py-2 border-b border-zinc-800",children:e.jsxs("p",{className:"text-xs text-zinc-500",children:[e.jsx("span",{className:"font-semibold text-zinc-300",children:v})," result",v!==1?"s":"",' for "',t,'"',s!=="all"&&` in ${y[s].label}s`,e.jsx("span",{className:"ml-2 text-zinc-700",children:"‚Üë‚Üì to navigate ¬∑ Enter to open"})]})}),x&&s==="all"?["agent","session","file","event","skill","view"].map(i=>{const n=x[i];if(!n||n.length===0)return null;const d=y[i],w=["agent","session","file","event","skill","view"].slice(0,["agent","session","file","event","skill","view"].indexOf(i)).reduce((j,C)=>{var A;return j+(((A=x[C])==null?void 0:A.length)??0)},0);return e.jsxs("div",{children:[e.jsxs("div",{className:"px-4 py-2 flex items-center gap-2 bg-zinc-900/50 border-b border-zinc-800 sticky top-0 z-10",children:[e.jsx("span",{className:"text-xs",children:d.emoji}),e.jsxs("span",{className:f("text-xs font-semibold uppercase tracking-wider",d.color),children:[d.label,"s"]}),e.jsxs("span",{className:"text-xs text-zinc-600",children:["(",n.length,")"]})]}),n.map((j,C)=>e.jsx(S,{result:j,query:t,selected:r===w+C,onSelect:()=>p(w+C)},j.id))]},i)}):c.map((i,n)=>e.jsx(S,{result:i,query:t,selected:r===n,onSelect:()=>p(n)},i.id))]}),!t.trim()&&s!=="all"&&c.length>0&&c.map((i,n)=>e.jsx(S,{result:i,query:t,selected:r===n,onSelect:()=>p(n)},i.id))]})]})}export{W as default};
