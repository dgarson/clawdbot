import{r as c,j as e,c as a}from"./index-DkocnQdW.js";const m=[{id:"security",name:"Security Checks",description:"Validates secrets, access controls, and vulnerability status",lastRun:"2026-02-22T02:10:00Z",runDurationMs:2840,checks:[{id:"sec-1",name:"Secret Scan",description:"No hardcoded secrets in codebase",category:"security",severity:"critical",status:"pass",message:"0 secrets detected in 890 files scanned",remediation:"",docUrl:"#",lastChecked:"2026-02-22T02:10:00Z",durationMs:1200,automated:!0,tags:["secrets","git"]},{id:"sec-2",name:"Dependency Audit",description:"No critical/high CVEs in dependencies",category:"security",severity:"high",status:"pass",message:"0 critical, 0 high vulnerabilities found in pnpm audit",remediation:"",docUrl:"#",lastChecked:"2026-02-22T02:10:00Z",durationMs:840,automated:!0,tags:["deps","cve"]},{id:"sec-3",name:"Auth Token Rotation",description:"API keys rotated within 90 days",category:"security",severity:"medium",status:"warn",message:"2 tokens last rotated >60 days ago",remediation:"Rotate tokens for: openai-prod, anthropic-dev within 30 days",docUrl:"#",lastChecked:"2026-02-22T02:10:00Z",durationMs:320,automated:!0,tags:["auth","rotation"]},{id:"sec-4",name:"Network Exposure",description:"No internal services exposed to public internet",category:"security",severity:"critical",status:"pass",message:"All services behind VPC. No unexpected public endpoints.",remediation:"",docUrl:"#",lastChecked:"2026-02-22T02:10:00Z",durationMs:480,automated:!0,tags:["network","exposure"]}]},{id:"performance",name:"Performance Checks",description:"Validates response times, resource usage, and efficiency",lastRun:"2026-02-22T02:10:00Z",runDurationMs:1920,checks:[{id:"perf-1",name:"P95 Latency",description:"P95 request latency < 5000ms",category:"performance",severity:"high",status:"pass",message:"P95 latency: 2340ms (target: <5000ms)",remediation:"",docUrl:"#",lastChecked:"2026-02-22T02:10:00Z",durationMs:480,automated:!0,tags:["latency","p95"]},{id:"perf-2",name:"Token Efficiency",description:"Token-to-output ratio > 60%",category:"performance",severity:"medium",status:"warn",message:"Current efficiency: 78% (target: 80%)",remediation:"Enable context pruning and implement prompt caching",docUrl:"#",lastChecked:"2026-02-22T02:10:00Z",durationMs:240,automated:!0,tags:["tokens","efficiency"]},{id:"perf-3",name:"Build Time",description:"pnpm build completes < 30s",category:"performance",severity:"low",status:"pass",message:"Build time: 1.94s âœ“",remediation:"",docUrl:"#",lastChecked:"2026-02-22T02:10:00Z",durationMs:1940,automated:!0,tags:["build","ci"]},{id:"perf-4",name:"Bundle Size",description:"Each lazy chunk < 50KB gzip",category:"performance",severity:"medium",status:"pass",message:"Largest chunk: 22.91 KB gzip (PluginManager). All 95 chunks within budget.",remediation:"",docUrl:"#",lastChecked:"2026-02-22T02:10:00Z",durationMs:840,automated:!0,tags:["bundle","size"]}]},{id:"reliability",name:"Reliability Checks",description:"Validates uptime, error rates, and incident response",lastRun:"2026-02-22T02:10:00Z",runDurationMs:1240,checks:[{id:"rel-1",name:"Gateway Health",description:"OpenClaw gateway responds to health check",category:"reliability",severity:"critical",status:"pass",message:"Gateway healthy: 200 OK in 42ms",remediation:"",docUrl:"#",lastChecked:"2026-02-22T02:10:00Z",durationMs:42,automated:!0,tags:["gateway","health"]},{id:"rel-2",name:"Session Store",description:"Session store read/write latency < 100ms",category:"reliability",severity:"high",status:"pass",message:"Session store: write 18ms, read 12ms âœ“",remediation:"",docUrl:"#",lastChecked:"2026-02-22T02:10:00Z",durationMs:30,automated:!0,tags:["sessions","storage"]},{id:"rel-3",name:"Error Rate",description:"Global error rate < 2%",category:"reliability",severity:"high",status:"pass",message:"Error rate: 1.4% (target: <2%)",remediation:"",docUrl:"#",lastChecked:"2026-02-22T02:10:00Z",durationMs:120,automated:!0,tags:["errors","rate"]},{id:"rel-4",name:"Backup Verify",description:"Daily backup snapshot readable",category:"reliability",severity:"high",status:"warn",message:"Last verified: 36h ago (target: <24h)",remediation:"Run `openclaw backup verify` to validate latest snapshot",docUrl:"#",lastChecked:"2026-02-22T02:10:00Z",durationMs:280,automated:!1,tags:["backup","data"]}]},{id:"config",name:"Configuration Checks",description:"Validates agent configs, environment variables, and YAML files",lastRun:"2026-02-22T02:10:00Z",runDurationMs:840,checks:[{id:"cfg-1",name:"AGENTS.md Schema",description:"All AGENTS.md files parse without error",category:"config",severity:"high",status:"pass",message:"12 AGENTS.md files validated âœ“",remediation:"",docUrl:"#",lastChecked:"2026-02-22T02:10:00Z",durationMs:180,automated:!0,tags:["agents","schema"]},{id:"cfg-2",name:"Env Variables",description:"All required environment variables set",category:"config",severity:"critical",status:"pass",message:"18/18 required env vars present",remediation:"",docUrl:"#",lastChecked:"2026-02-22T02:10:00Z",durationMs:45,automated:!0,tags:["env","config"]},{id:"cfg-3",name:"Cron Schedule",description:"All cron jobs have valid schedules",category:"config",severity:"medium",status:"fail",message:"1 invalid cron expression in cron.yaml: '0 * * *' (missing field)",remediation:"Fix line 42 in cron.yaml: change '0 * * *' to '0 * * * *'",docUrl:"#",lastChecked:"2026-02-22T02:10:00Z",durationMs:120,automated:!0,tags:["cron","yaml"]},{id:"cfg-4",name:"Tool Policy",description:"tool-policy.json validates against schema",category:"config",severity:"high",status:"pass",message:"tool-policy.json: valid JSON, schema compliant",remediation:"",docUrl:"#",lastChecked:"2026-02-22T02:10:00Z",durationMs:95,automated:!0,tags:["tools","policy"]}]},{id:"compliance",name:"Compliance Checks",description:"Validates audit logging, data retention, and privacy policies",lastRun:"2026-02-22T02:10:00Z",runDurationMs:640,checks:[{id:"comp-1",name:"Audit Trail Complete",description:"100% of agent actions logged to audit log",category:"compliance",severity:"critical",status:"pass",message:"Audit coverage: 100% âœ“",remediation:"",docUrl:"#",lastChecked:"2026-02-22T02:10:00Z",durationMs:280,automated:!0,tags:["audit","logging"]},{id:"comp-2",name:"Data Retention",description:"Session data not retained beyond 90 days",category:"compliance",severity:"high",status:"pass",message:"Oldest retained session: 42 days (limit: 90 days)",remediation:"",docUrl:"#",lastChecked:"2026-02-22T02:10:00Z",durationMs:160,automated:!0,tags:["retention","data"]},{id:"comp-3",name:"PII Check",description:"No PII in log output",category:"compliance",severity:"high",status:"skip",message:"Skipped: requires manual review. Schedule quarterly.",remediation:"Manually review log samples for PII exposure",docUrl:"#",lastChecked:"2026-02-21T00:00:00Z",durationMs:0,automated:!1,tags:["pii","logs"]}]}],M={pass:{label:"Pass",color:"text-emerald-400",bg:"bg-emerald-900/20",border:"border-emerald-700/50",emoji:"âœ“"},fail:{label:"Fail",color:"text-rose-400",bg:"bg-rose-900/20",border:"border-rose-700/50",emoji:"âœ—"},warn:{label:"Warn",color:"text-amber-400",bg:"bg-amber-900/20",border:"border-amber-700/50",emoji:"âš "},skip:{label:"Skip",color:"text-zinc-500",bg:"bg-zinc-800/40",border:"border-zinc-700",emoji:"â—‹"},pending:{label:"Pending",color:"text-blue-400",bg:"bg-blue-900/20",border:"border-blue-700/50",emoji:"â€¦"}},z={critical:{label:"Critical",color:"text-rose-400"},high:{label:"High",color:"text-orange-400"},medium:{label:"Medium",color:"text-amber-400"},low:{label:"Low",color:"text-blue-400"},info:{label:"Info",color:"text-zinc-400"}};function U(){const[i,b]=c.useState(null),[u,f]=c.useState(null),[g,y]=c.useState(!1),[d,C]=c.useState("all"),n=m.flatMap(t=>t.checks),v=n.filter(t=>t.status==="pass").length,N=n.filter(t=>t.status==="fail").length,w=n.filter(t=>t.status==="warn").length,k=n.filter(t=>t.status==="skip").length,r=Math.round(v/(n.length-k)*100);function T(){y(!0),setTimeout(()=>y(!1),2e3)}const S=i?[i]:m;return e.jsxs("div",{className:"h-full flex flex-col bg-zinc-950 overflow-hidden",children:[e.jsxs("div",{className:"flex-shrink-0 px-6 py-4 border-b border-zinc-800",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-white",children:"Health Checklist"}),e.jsxs("p",{className:"text-sm text-zinc-400",children:["System readiness across ",m.length," domains"]})]}),e.jsxs("div",{className:a("flex items-center gap-2 px-4 py-2 rounded-xl border",r>=90?"bg-emerald-900/20 border-emerald-700/50":r>=75?"bg-amber-900/20 border-amber-700/50":"bg-rose-900/20 border-rose-700/50"),children:[e.jsx("span",{className:"text-2xl",children:r>=90?"âœ…":r>=75?"âš ï¸":"ðŸš¨"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-zinc-500",children:"Health Score"}),e.jsxs("div",{className:a("text-xl font-black",r>=90?"text-emerald-400":r>=75?"text-amber-400":"text-rose-400"),children:[r,"%"]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>{b(null),f(null)},className:a("px-3 py-1.5 rounded text-sm",i?"bg-zinc-800 text-zinc-400 hover:text-white":"bg-indigo-600 text-white"),children:"All Suites"}),e.jsx("button",{onClick:T,disabled:g,className:a("px-4 py-1.5 rounded text-sm",g?"bg-zinc-700 text-zinc-400":"bg-indigo-600 hover:bg-indigo-500 text-white"),children:g?"âŸ³ Runningâ€¦":"â–¶ Run All"})]})]}),e.jsx("div",{className:"grid grid-cols-5 gap-3 mb-3",children:[{label:"Pass",value:v,color:"text-emerald-400",status:"pass"},{label:"Fail",value:N,color:"text-rose-400",status:"fail"},{label:"Warn",value:w,color:"text-amber-400",status:"warn"},{label:"Skip",value:k,color:"text-zinc-500",status:"skip"},{label:"Total",value:n.length,color:"text-white",status:"all"}].map(t=>e.jsxs("button",{onClick:()=>C(d===t.status?"all":t.status),className:a("p-3 rounded-lg border text-left transition-all",d===t.status?"bg-indigo-900/30 border-indigo-600/50":"bg-zinc-900 border-zinc-800 hover:border-zinc-600"),children:[e.jsx("div",{className:a("text-xl font-bold",t.color),children:t.value}),e.jsx("div",{className:"text-xs text-zinc-500",children:t.label})]},t.label))}),e.jsx("div",{className:"flex gap-1",children:m.map(t=>{const l=t.checks,h=l.some(s=>s.status==="fail"),p=l.some(s=>s.status==="warn");return e.jsx("button",{onClick:()=>b((i==null?void 0:i.id)===t.id?null:t),className:a("px-3 py-1.5 rounded text-xs",(i==null?void 0:i.id)===t.id?"bg-indigo-600 text-white":h?"bg-rose-900/30 text-rose-400 border border-rose-700/50":p?"bg-amber-900/30 text-amber-400 border border-amber-700/50":"bg-zinc-800 text-zinc-400 hover:text-white"),children:t.name.replace(" Checks","")},t.id)})})]}),e.jsx("div",{className:"flex-1 overflow-hidden flex",children:e.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:S.map(t=>{const l=t.checks.filter(s=>d==="all"||s.status===d);if(l.length===0)return null;const h=t.checks.filter(s=>s.status==="pass").length,p=t.checks.filter(s=>s.status!=="skip").length;return e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-white",children:t.name}),e.jsx("p",{className:"text-xs text-zinc-500",children:t.description})]}),e.jsxs("div",{className:"text-xs text-zinc-500",children:[h,"/",p," passing Â· ",t.runDurationMs,"ms"]})]}),e.jsx("div",{className:"space-y-1.5",children:l.map(s=>{const o=M[s.status],j=z[s.severity],x=(u==null?void 0:u.id)===s.id;return e.jsxs("button",{onClick:()=>f(x?null:s),className:a("w-full text-left px-4 py-3 rounded-xl border flex items-start gap-4 transition-all",x?"bg-indigo-900/20 border-indigo-600/50":s.status==="fail"?"bg-rose-900/10 border-rose-800/50":s.status==="warn"?"bg-amber-900/10 border-amber-800/50":"bg-zinc-900 border-zinc-800 hover:border-zinc-600"),children:[e.jsx("div",{className:a("flex-shrink-0 w-7 h-7 rounded-full flex items-center justify-center border text-sm font-bold",o.bg,o.border,o.color),children:o.emoji}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"text-sm font-medium text-white",children:s.name}),e.jsx("span",{className:a("text-[10px]",j.color),children:j.label}),!s.automated&&e.jsx("span",{className:"text-[10px] bg-zinc-800 text-zinc-500 px-1.5 py-0.5 rounded",children:"Manual"})]}),e.jsx("div",{className:"text-xs text-zinc-400",children:s.message}),x&&s.remediation&&e.jsxs("div",{className:"mt-2 text-xs text-amber-300 bg-amber-900/20 border border-amber-700/40 rounded px-3 py-2",children:[e.jsx("span",{className:"font-medium",children:"Fix: "}),s.remediation]})]}),e.jsxs("div",{className:"flex-shrink-0 text-right",children:[e.jsx("div",{className:a("text-xs font-medium",o.color),children:o.label}),e.jsx("div",{className:"text-[10px] text-zinc-600",children:s.durationMs>0?`${s.durationMs}ms`:"â€”"})]})]},s.id)})})]},t.id)})})})]})}export{U as default};
