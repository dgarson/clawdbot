import{r as a,j as e,c as o,R}from"./index-wQFonBeR.js";const A=[{id:"rule-1",name:"Fast tasks â†’ Gemini Flash",priority:1,enabled:!0,conditions:[{kind:"token-budget",op:"lt",value:500,label:"Tokens < 500"},{kind:"task-complexity",op:"lt",value:3,label:"Complexity < 3"}],targetModel:"gemini-3-flash",description:"Optimized for high-speed, low-cost responses on trivial tasks.",hitCount:4820,lastFiredAt:"2024-03-21T14:30:00Z"},{id:"rule-2",name:"Agent workers â†’ MiniMax",priority:2,enabled:!0,conditions:[{kind:"agent",op:"in",value:"Piper,Quinn,Reed,Wes,Sam",label:"Agent in Squad"}],targetModel:"minimax-m2.5",description:"Standard model for squad-based sub-agent operations.",hitCount:12340,lastFiredAt:"2024-03-21T14:45:00Z"},{id:"rule-3",name:"Code review â†’ Claude Opus",priority:3,enabled:!0,conditions:[{kind:"keyword",op:"contains",value:"review code",label:"Keyword: 'review code'"}],targetModel:"claude-opus-4-6",description:"High-precision model for technical code auditing.",hitCount:284,lastFiredAt:"2024-03-21T12:00:00Z"},{id:"rule-4",name:"Off-peak cost savings",priority:4,enabled:!0,conditions:[{kind:"time-of-day",op:"gt",value:22,label:"After 10 PM"},{kind:"time-of-day",op:"lt",value:6,label:"Before 6 AM"}],targetModel:"gemini-3-flash",fallbackModel:"minimax-m2.5",description:"Shifts to cheaper models during low-traffic night hours.",hitCount:1240,lastFiredAt:"2024-03-21T04:15:00Z"},{id:"rule-5",name:"Complex reasoning â†’ Claude Sonnet",priority:5,enabled:!0,conditions:[{kind:"task-complexity",op:"gt",value:7,label:"Complexity > 7"}],targetModel:"claude-sonnet-4-6",description:"Default for heavy lifting and multi-step reasoning.",hitCount:3102,lastFiredAt:"2024-03-21T14:55:00Z"},{id:"rule-6",name:"Luis primary",priority:6,enabled:!0,conditions:[{kind:"agent",op:"eq",value:"Luis",label:"Agent is Luis"}],targetModel:"claude-sonnet-4-6",description:"Dedicated high-quality routing for Principal UX Engineer tasks.",hitCount:8841,lastFiredAt:"2024-03-21T15:02:00Z"},{id:"rule-7",name:"Default fallback",priority:99,enabled:!0,conditions:[],targetModel:"claude-sonnet-4-6",description:"Global catch-all rule when no other conditions are met.",hitCount:28441,lastFiredAt:"2024-03-21T15:10:00Z"}],L={cost:{title:"Cost Optimized",desc:"Prioritize low-cost models like Gemini Flash.",icon:"ðŸ’°"},speed:{title:"Speed First",desc:"Minimize latency at all costs.",icon:"âš¡"},quality:{title:"Maximum Quality",desc:"Always use the most capable models.",icon:"ðŸŽ¯"},balanced:{title:"Balanced",desc:"Auto-scale based on task complexity.",icon:"âš–ï¸"}},F={"token-budget":"bg-sky-400/10 text-sky-400 border-sky-400/20","task-complexity":"bg-violet-400/10 text-violet-400 border-violet-400/20",agent:"bg-indigo-400/10 text-indigo-400 border-indigo-400/20","time-of-day":"bg-amber-400/10 text-amber-400 border-amber-400/20",keyword:"bg-emerald-400/10 text-emerald-400 border-emerald-400/20"};function O(){const[l,h]=a.useState(A),[b,v]=a.useState("balanced"),[d,N]=a.useState(null),[c,y]=a.useState("Quinn"),[x,z]=a.useState(450),[p,k]=a.useState(2),[m,w]=a.useState(14),[g,C]=a.useState(""),M=t=>{h(l.map(i=>i.id===t?{...i,enabled:!i.enabled}:i))},f=(t,i)=>{const n=l.findIndex(u=>u.id===t);if(i==="up"&&n===0||i==="down"&&n===l.length-1)return;const s=[...l],j=i==="up"?n-1:n+1;[s[n],s[j]]=[s[j],s[n]];const S=s.map((u,T)=>({...u,priority:T+1}));h(S)},r=(()=>{const t=l.filter(i=>i.enabled).sort((i,n)=>i.priority-n.priority);for(const i of t)if(i.conditions.length===0||i.conditions.every(s=>{switch(s.kind){case"token-budget":return s.op==="lt"?x<s.value:x>s.value;case"task-complexity":return s.op==="lt"?p<s.value:p>s.value;case"agent":return s.op==="eq"?c===s.value:s.op==="in"?s.value.split(",").includes(c):!1;case"time-of-day":return s.op==="lt"?m<s.value:m>s.value;case"keyword":return g.toLowerCase().includes(s.value.toLowerCase());default:return!1}}))return i;return null})();return e.jsx("div",{className:"min-h-screen bg-zinc-950 text-zinc-100 p-8 font-sans selection:bg-indigo-500/30",children:e.jsxs("div",{className:"max-w-7xl mx-auto space-y-12",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Model Router"}),e.jsx("p",{className:"text-zinc-400 mt-2",children:"Intelligent orchestration and conditional LLM routing."})]}),e.jsx("section",{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:Object.entries(L).map(([t,i])=>e.jsxs("button",{onClick:()=>v(t),className:o("p-5 rounded-xl border text-left transition-all duration-200 group",b===t?"bg-indigo-500/10 border-indigo-500 shadow-[0_0_20px_rgba(99,102,241,0.15)]":"bg-zinc-900 border-zinc-800 hover:border-zinc-700 hover:bg-zinc-900/80"),children:[e.jsx("div",{className:"text-2xl mb-3",children:i.icon}),e.jsx("h3",{className:o("font-semibold mb-1",b===t?"text-indigo-400":"text-zinc-200"),children:i.title}),e.jsx("p",{className:"text-sm text-zinc-500 group-hover:text-zinc-400 transition-colors",children:i.desc})]},t))})}),e.jsx("section",{className:"bg-zinc-900 border border-zinc-800 rounded-2xl overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-zinc-800 bg-zinc-900/50",children:[e.jsx("th",{className:"px-6 py-4 text-xs font-bold uppercase tracking-wider text-zinc-500 w-16",children:"Ord"}),e.jsx("th",{className:"px-6 py-4 text-xs font-bold uppercase tracking-wider text-zinc-500",children:"Rule Name"}),e.jsx("th",{className:"px-6 py-4 text-xs font-bold uppercase tracking-wider text-zinc-500",children:"Conditions"}),e.jsx("th",{className:"px-6 py-4 text-xs font-bold uppercase tracking-wider text-zinc-500",children:"Target Model"}),e.jsx("th",{className:"px-6 py-4 text-xs font-bold uppercase tracking-wider text-zinc-500 text-center",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-xs font-bold uppercase tracking-wider text-zinc-500 text-right",children:"Hits"})]})}),e.jsx("tbody",{className:"divide-y divide-zinc-800",children:l.map((t,i)=>e.jsxs(R.Fragment,{children:[e.jsxs("tr",{className:o("group hover:bg-zinc-800/30 transition-colors cursor-pointer",!t.enabled&&"opacity-60",d===t.id&&"bg-zinc-800/50"),onClick:()=>N(d===t.id?null:t.id),children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex flex-col items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx("button",{onClick:n=>{n.stopPropagation(),f(t.id,"up")},className:"p-1 hover:text-indigo-400 transition-colors",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})}),e.jsx("button",{onClick:n=>{n.stopPropagation(),f(t.id,"down")},className:"p-1 hover:text-indigo-400 transition-colors",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})}),e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("div",{className:"font-medium text-zinc-200",children:t.name}),e.jsxs("div",{className:"text-xs text-zinc-500 mt-0.5",children:["Priority ",t.priority]})]}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"flex flex-wrap gap-2",children:t.conditions.length>0?t.conditions.map((n,s)=>e.jsx("span",{className:o("px-2 py-0.5 rounded-full text-[10px] font-medium border",F[n.kind]),children:n.label},s)):e.jsx("span",{className:"text-zinc-600 text-xs italic",children:"No conditions"})})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("code",{className:"text-xs px-2 py-1 bg-zinc-800 border border-zinc-700 rounded text-zinc-300",children:t.targetModel}),t.fallbackModel&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-zinc-600 text-xs",children:"â†’"}),e.jsx("code",{className:"text-[10px] px-1.5 py-0.5 bg-zinc-800/50 border border-zinc-700/50 rounded text-zinc-500",children:t.fallbackModel})]})]})}),e.jsx("td",{className:"px-6 py-4 text-center",children:e.jsx("button",{onClick:n=>{n.stopPropagation(),M(t.id)},className:o("relative inline-flex h-5 w-10 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none",t.enabled?"bg-indigo-600":"bg-zinc-700"),children:e.jsx("span",{className:o("pointer-events-none inline-block h-4 w-4 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out",t.enabled?"translate-x-5":"translate-x-0")})})}),e.jsx("td",{className:"px-6 py-4 text-right",children:e.jsx("div",{className:"text-sm font-mono text-zinc-400",children:t.hitCount.toLocaleString()})})]}),d===t.id&&e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"px-12 py-6 bg-zinc-900/80 border-b border-zinc-800",children:e.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold uppercase text-zinc-500 mb-2 block",children:"Description"}),e.jsx("textarea",{className:"w-full bg-zinc-950 border border-zinc-800 rounded-lg p-3 text-sm text-zinc-300 focus:border-indigo-500 outline-none h-24 resize-none",defaultValue:t.description})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold uppercase text-zinc-500 mb-2 block",children:"Active Conditions"}),e.jsxs("div",{className:"space-y-2",children:[t.conditions.map((n,s)=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-zinc-950 border border-zinc-800 rounded-lg text-xs",children:[e.jsx("span",{className:"text-zinc-400 uppercase font-mono tracking-tight",children:n.kind}),e.jsxs("span",{className:"text-zinc-200",children:[n.op," ",e.jsx("span",{className:"text-indigo-400 font-bold",children:n.value})]})]},s)),e.jsx("button",{className:"w-full py-2 border border-dashed border-zinc-800 rounded-lg text-xs text-zinc-500 hover:border-zinc-700 hover:text-zinc-400 transition-all",children:"+ Add Condition"})]})]})]})})})]},t.id))})]})})}),e.jsxs("section",{className:"bg-zinc-900 border border-zinc-800 rounded-2xl p-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold",children:"Route Test"}),e.jsx("p",{className:"text-zinc-500 text-sm",children:"Simulate input to verify routing logic."})]}),r&&e.jsxs("div",{className:"flex items-center gap-3 px-4 py-2 bg-emerald-400/10 border border-emerald-400/20 rounded-full",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-400 animate-pulse"}),e.jsxs("span",{className:"text-xs font-medium text-emerald-400",children:["Match: ",e.jsx("span",{className:"font-bold",children:r.name})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-bold uppercase text-zinc-500",children:"Agent"}),e.jsx("input",{type:"text",value:c,onChange:t=>y(t.target.value),className:"w-full bg-zinc-950 border border-zinc-800 rounded-lg px-3 py-2 text-sm focus:border-indigo-500 outline-none"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-bold uppercase text-zinc-500",children:"Token Count"}),e.jsx("input",{type:"number",value:x,onChange:t=>z(parseInt(t.target.value)||0),className:"w-full bg-zinc-950 border border-zinc-800 rounded-lg px-3 py-2 text-sm focus:border-indigo-500 outline-none"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-bold uppercase text-zinc-500",children:"Complexity (1-10)"}),e.jsx("input",{type:"range",min:"1",max:"10",value:p,onChange:t=>k(parseInt(t.target.value)),className:"w-full h-10 accent-indigo-500"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-bold uppercase text-zinc-500",children:"Time (0-23)"}),e.jsx("input",{type:"number",min:"0",max:"23",value:m,onChange:t=>w(parseInt(t.target.value)||0),className:"w-full bg-zinc-950 border border-zinc-800 rounded-lg px-3 py-2 text-sm focus:border-indigo-500 outline-none"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-bold uppercase text-zinc-500",children:"Keyword"}),e.jsx("input",{type:"text",placeholder:"Search prompt...",value:g,onChange:t=>C(t.target.value),className:"w-full bg-zinc-950 border border-zinc-800 rounded-lg px-3 py-2 text-sm focus:border-indigo-500 outline-none"})]})]}),r?e.jsxs("div",{className:"mt-8 p-6 bg-zinc-950 rounded-xl border border-zinc-800 flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"text-xs font-bold uppercase text-zinc-500",children:"Predicted Target"}),e.jsx("div",{className:"text-2xl font-mono text-indigo-400",children:r.targetModel})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-xs text-zinc-500 mb-1",children:["Triggered by Priority ",r.priority]}),e.jsxs("div",{className:"text-sm text-zinc-300 italic",children:['"',r.name,'"']})]})]}):e.jsx("div",{className:"mt-8 p-6 bg-rose-400/5 border border-rose-400/10 rounded-xl text-center",children:e.jsx("span",{className:"text-rose-400 text-sm",children:"No rules match these parameters. System will fail open or use default."})})]})]})})}export{O as default};
