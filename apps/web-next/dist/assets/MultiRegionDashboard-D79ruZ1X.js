import{r as p,j as e,c as i}from"./index-DE_53Lnb.js";const a=[{id:"us-east-1",name:"US East (N. Virginia)",shortName:"USE1",provider:"aws",status:"healthy",failoverStatus:"primary",endpoints:24,activeInstances:48,totalInstances:48,requestsPerSec:4821,errorRate:.04,p50LatencyMs:12,p99LatencyMs:48,availability:99.98,trafficWeight:45,services:["api-gateway","auth","users","payments","notifications"]},{id:"eu-west-1",name:"EU West (Ireland)",shortName:"EUW1",provider:"aws",status:"healthy",failoverStatus:"primary",endpoints:22,activeInstances:32,totalInstances:32,requestsPerSec:2140,errorRate:.06,p50LatencyMs:14,p99LatencyMs:52,availability:99.96,trafficWeight:28,services:["api-gateway","auth","users","notifications"]},{id:"ap-southeast-1",name:"Asia Pacific (Singapore)",shortName:"APSE1",provider:"aws",status:"degraded",failoverStatus:"primary",endpoints:18,activeInstances:20,totalInstances:24,requestsPerSec:1102,errorRate:1.82,p50LatencyMs:28,p99LatencyMs:180,availability:99.72,trafficWeight:15,lastIncident:"2026-02-22T10:15:00Z",services:["api-gateway","auth","users"]},{id:"us-west-2",name:"US West (Oregon)",shortName:"USW2",provider:"aws",status:"healthy",failoverStatus:"standby",endpoints:20,activeInstances:16,totalInstances:16,requestsPerSec:580,errorRate:.02,p50LatencyMs:13,p99LatencyMs:45,availability:99.99,trafficWeight:8,services:["api-gateway","auth"]},{id:"eu-central-1",name:"EU Central (Frankfurt)",shortName:"EUC1",provider:"aws",status:"maintenance",failoverStatus:"standby",endpoints:0,activeInstances:0,totalInstances:20,requestsPerSec:0,errorRate:0,p50LatencyMs:0,p99LatencyMs:0,availability:100,trafficWeight:4,services:["api-gateway","auth","users"]}],y=[{from:"USE1",to:"EUW1",p50:82,p99:120},{from:"USE1",to:"APSE1",p50:188,p99:260},{from:"USE1",to:"USW2",p50:68,p99:95},{from:"EUW1",to:"APSE1",p50:164,p99:220},{from:"EUW1",to:"EUC1",p50:24,p99:38},{from:"USW2",to:"APSE1",p50:140,p99:195}],b=[{hour:"06:00",regions:{USE1:4200,EUW1:2800,APSE1:1400,USW2:600}},{hour:"07:00",regions:{USE1:4400,EUW1:2600,APSE1:1300,USW2:580}},{hour:"08:00",regions:{USE1:4600,EUW1:2400,APSE1:1200,USW2:560}},{hour:"09:00",regions:{USE1:4800,EUW1:2200,APSE1:1100,USW2:580}},{hour:"10:00",regions:{USE1:4821,EUW1:2140,APSE1:900,USW2:580}},{hour:"11:00",regions:{USE1:5100,EUW1:2200,APSE1:1100,USW2:600}},{hour:"12:00",regions:{USE1:5400,EUW1:2400,APSE1:1200,USW2:620}},{hour:"13:00",regions:{USE1:5200,EUW1:2300,APSE1:1150,USW2:610}}],S=[{id:"fo-001",timestamp:"2026-02-22T10:15:00Z",fromRegion:"APSE1",toRegion:"USW2",duration:45,reason:"High error rate (>2%) detected on APSE1",triggerType:"auto",successful:!0},{id:"fo-002",timestamp:"2026-01-15T03:22:00Z",fromRegion:"EUC1",toRegion:"EUW1",duration:120,reason:"Scheduled maintenance window",triggerType:"manual",successful:!0},{id:"fo-003",timestamp:"2025-12-28T18:44:00Z",fromRegion:"USE1",toRegion:"USW2",duration:8,reason:"Partial DNS resolution failure in USE1-AZ-1",triggerType:"auto",successful:!0},{id:"fo-004",timestamp:"2025-11-10T09:15:00Z",fromRegion:"EUW1",toRegion:"EUC1",duration:210,reason:"Network provider outage affecting EU-WEST-1",triggerType:"auto",successful:!1}],o={healthy:"text-emerald-400 bg-emerald-400/10 border-emerald-400/20",degraded:"text-amber-400 bg-amber-400/10 border-amber-400/20",outage:"text-rose-400 bg-rose-400/10 border-rose-400/20",maintenance:"text-zinc-400 bg-zinc-400/10 border-zinc-400/20"},E={primary:"text-indigo-400",standby:"text-zinc-400","active-failover":"text-amber-400"},U={aws:"text-amber-400",gcp:"text-blue-400",azure:"text-indigo-400"},n=["bg-indigo-500","bg-emerald-500","bg-amber-500","bg-blue-500","bg-purple-500"];function g(c){return new Date(c).toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}function W(){const[c,m]=p.useState("overview"),[d,u]=p.useState(null),v=[{id:"overview",label:"Region Overview",emoji:"ðŸŒ"},{id:"traffic",label:"Traffic",emoji:"ðŸ“¶"},{id:"latency",label:"Latency Matrix",emoji:"âš¡"},{id:"failover",label:"Failover",emoji:"ðŸ”„"}];d&&a.find(s=>s.id===d);const N=a.reduce((s,t)=>s+t.requestsPerSec,0),l=a.filter(s=>s.status==="degraded"||s.status==="outage").length,j=(a.reduce((s,t)=>s+t.availability,0)/a.length).toFixed(3),f=Math.max(...b.map(s=>Object.values(s.regions).reduce((t,r)=>t+r,0))),h=["USE1","EUW1","APSE1","USW2"];return e.jsxs("div",{className:"min-h-screen bg-zinc-950 text-white p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Multi-Region Dashboard"}),e.jsx("p",{className:"text-zinc-400 text-sm mt-1",children:"Global infrastructure health, traffic, and failover management"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"px-4 py-2 bg-zinc-800 hover:bg-zinc-700 rounded-md text-sm text-zinc-300 transition-colors",children:"Traffic Policy"}),e.jsx("button",{className:"px-4 py-2 bg-rose-500/10 text-rose-400 hover:bg-rose-500/20 border border-rose-500/20 rounded-md text-sm font-medium transition-colors",children:"Trigger Failover"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:i("bg-zinc-900 border rounded-lg p-4",l>0?"border-amber-400/30":"border-zinc-800"),children:[e.jsx("div",{className:"text-xs text-zinc-400 mb-1",children:"Region Health"}),e.jsxs("div",{className:i("text-2xl font-bold",l>0?"text-amber-400":"text-emerald-400"),children:[a.length-l,"/",a.length]}),e.jsxs("div",{className:"text-xs text-zinc-500 mt-1",children:[l," degraded"]})]}),e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-lg p-4",children:[e.jsx("div",{className:"text-xs text-zinc-400 mb-1",children:"Global RPS"}),e.jsx("div",{className:"text-2xl font-bold text-indigo-400",children:N.toLocaleString()}),e.jsx("div",{className:"text-xs text-zinc-500 mt-1",children:"req/sec across all regions"})]}),e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-lg p-4",children:[e.jsx("div",{className:"text-xs text-zinc-400 mb-1",children:"Avg Availability"}),e.jsxs("div",{className:"text-2xl font-bold text-emerald-400",children:[j,"%"]}),e.jsx("div",{className:"text-xs text-zinc-500 mt-1",children:"30-day rolling"})]}),e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-lg p-4",children:[e.jsx("div",{className:"text-xs text-zinc-400 mb-1",children:"Active Failovers"}),e.jsx("div",{className:"text-2xl font-bold text-zinc-300",children:"0"}),e.jsx("div",{className:"text-xs text-zinc-500 mt-1",children:"all regions routing normally"})]})]}),e.jsx("div",{className:"flex gap-1 mb-6 border-b border-zinc-800",children:v.map(s=>e.jsxs("button",{onClick:()=>m(s.id),className:i("px-4 py-2.5 text-sm font-medium rounded-t-md border-b-2 transition-colors",c===s.id?"border-indigo-500 text-white bg-zinc-900":"border-transparent text-zinc-400 hover:text-zinc-300"),children:[s.emoji," ",s.label]},s.id))}),c==="overview"&&e.jsx("div",{className:"space-y-4",children:a.map(s=>e.jsxs("div",{className:i("bg-zinc-900 border rounded-lg overflow-hidden",s.status==="degraded"?"border-amber-400/30":s.status==="outage"?"border-rose-400/30":s.status==="maintenance"?"border-zinc-600":"border-zinc-800"),children:[e.jsx("button",{onClick:()=>u(d===s.id?null:s.id),className:"w-full text-left p-4 hover:bg-zinc-800/50 transition-colors",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:i("text-xs font-bold uppercase",U[s.provider]),children:s.provider}),e.jsx("span",{className:"font-medium",children:s.name}),e.jsx("span",{className:"font-mono text-xs text-zinc-500 bg-zinc-800 px-1.5 py-0.5 rounded",children:s.shortName}),e.jsx("span",{className:i("text-xs px-2 py-0.5 rounded-full border font-medium",o[s.status]),children:s.status}),e.jsx("span",{className:i("text-xs",E[s.failoverStatus]),children:s.failoverStatus==="primary"?"â˜… Primary":s.failoverStatus==="standby"?"â—‡ Standby":"âŸ² Failover Active"})]}),e.jsx("div",{className:"flex items-center gap-1 flex-wrap",children:s.services.map(t=>e.jsx("span",{className:"text-xs px-1.5 py-0.5 bg-zinc-800 text-zinc-400 rounded",children:t},t))})]}),e.jsxs("div",{className:"flex items-center gap-6 shrink-0 text-sm",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xs text-zinc-500 mb-0.5",children:"RPS"}),e.jsx("div",{className:"text-zinc-300 font-mono",children:s.requestsPerSec.toLocaleString()})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xs text-zinc-500 mb-0.5",children:"Error%"}),e.jsxs("div",{className:s.errorRate>1?"text-rose-400":s.errorRate>.1?"text-amber-400":"text-emerald-400",children:[s.errorRate,"%"]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xs text-zinc-500 mb-0.5",children:"P99"}),e.jsxs("div",{className:s.p99LatencyMs>100?"text-amber-400":"text-zinc-300",children:[s.p99LatencyMs,"ms"]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xs text-zinc-500 mb-0.5",children:"Instances"}),e.jsxs("div",{className:"text-zinc-300",children:[s.activeInstances,"/",s.totalInstances]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xs text-zinc-500 mb-0.5",children:"Traffic"}),e.jsxs("div",{className:"text-indigo-400",children:[s.trafficWeight,"%"]})]}),e.jsx("span",{className:"text-zinc-600",children:d===s.id?"â–²":"â–¼"})]})]})}),d===s.id&&e.jsxs("div",{className:"border-t border-zinc-800 p-4 bg-zinc-950",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{className:"bg-zinc-900 rounded-md p-3",children:[e.jsx("div",{className:"text-xs text-zinc-500 mb-1",children:"30d Availability"}),e.jsxs("div",{className:i("text-lg font-bold",s.availability>99.9?"text-emerald-400":"text-amber-400"),children:[s.availability,"%"]})]}),e.jsxs("div",{className:"bg-zinc-900 rounded-md p-3",children:[e.jsx("div",{className:"text-xs text-zinc-500 mb-1",children:"P50 Latency"}),e.jsxs("div",{className:"text-lg font-bold text-zinc-300",children:[s.p50LatencyMs,"ms"]})]}),e.jsxs("div",{className:"bg-zinc-900 rounded-md p-3",children:[e.jsx("div",{className:"text-xs text-zinc-500 mb-1",children:"Endpoints"}),e.jsx("div",{className:"text-lg font-bold text-zinc-300",children:s.endpoints})]}),e.jsxs("div",{className:"bg-zinc-900 rounded-md p-3",children:[e.jsx("div",{className:"text-xs text-zinc-500 mb-1",children:"Last Incident"}),e.jsx("div",{className:"text-sm text-zinc-300",children:s.lastIncident?g(s.lastIncident):"None"})]})]}),e.jsxs("div",{className:"flex gap-2 mt-3",children:[e.jsx("button",{className:"px-3 py-1 text-xs bg-zinc-800 hover:bg-zinc-700 rounded-md text-zinc-300 transition-colors",children:"View Logs"}),e.jsx("button",{className:"px-3 py-1 text-xs bg-zinc-800 hover:bg-zinc-700 rounded-md text-zinc-300 transition-colors",children:"Traffic Policy"}),s.status!=="maintenance"&&e.jsx("button",{className:"px-3 py-1 text-xs bg-amber-400/10 text-amber-400 hover:bg-amber-400/20 rounded-md transition-colors",children:"Enter Maintenance"})]})]})]},s.id))}),c==="traffic"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-lg p-4",children:[e.jsx("h3",{className:"text-sm font-medium text-zinc-300 mb-4",children:"Traffic Distribution (Current)"}),e.jsx("div",{className:"flex h-4 rounded-full overflow-hidden gap-0.5",children:a.filter(s=>s.trafficWeight>0).map((s,t)=>e.jsx("div",{className:n[t%n.length],style:{width:`${s.trafficWeight}%`},title:`${s.shortName}: ${s.trafficWeight}%`},s.id))}),e.jsx("div",{className:"flex gap-4 mt-3 flex-wrap",children:a.filter(s=>s.trafficWeight>0).map((s,t)=>e.jsxs("span",{className:"flex items-center gap-1.5 text-xs text-zinc-400",children:[e.jsx("span",{className:i("w-3 h-3 rounded-sm inline-block",n[t%n.length])}),s.shortName," (",s.trafficWeight,"%)"]},s.id))})]}),e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-lg p-4",children:[e.jsx("h3",{className:"text-sm font-medium text-zinc-300 mb-4",children:"Hourly Traffic Volume by Region"}),e.jsx("div",{className:"flex items-end gap-2 h-40",children:b.map(s=>{const t=Object.values(s.regions).reduce((r,x)=>r+x,0);return e.jsxs("div",{className:"flex-1 flex flex-col items-center gap-1",children:[e.jsx("div",{className:"w-full flex flex-col justify-end gap-px",style:{height:"120px"},children:h.map((r,x)=>{const z=s.regions[r]??0;return e.jsx("div",{className:n[x%n.length],style:{height:`${z/f*120}px`}},r)})}),e.jsx("div",{className:"text-xs text-zinc-500",children:s.hour}),e.jsxs("div",{className:"text-xs text-zinc-400 font-mono",children:[(t/1e3).toFixed(1),"k"]})]},s.hour)})}),e.jsx("div",{className:"flex gap-4 mt-2 flex-wrap",children:h.map((s,t)=>e.jsxs("span",{className:"flex items-center gap-1.5 text-xs text-zinc-400",children:[e.jsx("span",{className:i("w-3 h-3 rounded-sm inline-block",n[t%n.length])}),s]},s))})]})]}),c==="latency"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-lg overflow-hidden",children:[e.jsxs("div",{className:"p-3 border-b border-zinc-800",children:[e.jsx("h3",{className:"text-sm font-medium text-zinc-300",children:"Cross-Region Latency"}),e.jsx("p",{className:"text-xs text-zinc-500 mt-0.5",children:"Network RTT between regions (measured continuously)"})]}),e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-zinc-800",children:[e.jsx("th",{className:"text-left p-3 text-zinc-400 font-medium",children:"From â†’ To"}),e.jsx("th",{className:"text-right p-3 text-zinc-400 font-medium",children:"P50"}),e.jsx("th",{className:"text-right p-3 text-zinc-400 font-medium",children:"P99"}),e.jsx("th",{className:"text-right p-3 text-zinc-400 font-medium",children:"Quality"})]})}),e.jsx("tbody",{children:y.map(s=>e.jsxs("tr",{className:"border-b border-zinc-800/50 hover:bg-zinc-800/20",children:[e.jsxs("td",{className:"p-3",children:[e.jsx("span",{className:"font-mono text-indigo-300",children:s.from}),e.jsx("span",{className:"text-zinc-500 mx-2",children:"â†’"}),e.jsx("span",{className:"font-mono text-indigo-300",children:s.to})]}),e.jsxs("td",{className:"p-3 text-right font-mono text-zinc-300",children:[s.p50,"ms"]}),e.jsxs("td",{className:"p-3 text-right font-mono text-zinc-300",children:[s.p99,"ms"]}),e.jsx("td",{className:"p-3 text-right",children:e.jsx("span",{className:i("text-xs",s.p99<100?"text-emerald-400":s.p99<200?"text-amber-400":"text-rose-400"),children:s.p99<100?"Excellent":s.p99<200?"Good":"High"})})]},`${s.from}-${s.to}`))})]})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:a.map(s=>e.jsxs("div",{className:i("bg-zinc-900 border rounded-lg p-3",o[s.status].includes("emerald")?"border-emerald-400/20":o[s.status].includes("amber")?"border-amber-400/20":"border-zinc-700"),children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"font-mono text-sm font-bold text-zinc-200",children:s.shortName}),e.jsx("span",{className:i("text-xs px-1.5 py-0.5 rounded font-medium",o[s.status]),children:s.status})]}),e.jsxs("div",{className:"space-y-1 text-xs",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-zinc-500",children:"P50"}),e.jsx("span",{className:"text-zinc-300",children:s.p50LatencyMs>0?`${s.p50LatencyMs}ms`:"â€”"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-zinc-500",children:"P99"}),e.jsx("span",{className:s.p99LatencyMs>100?"text-amber-400":"text-zinc-300",children:s.p99LatencyMs>0?`${s.p99LatencyMs}ms`:"â€”"})]})]})]},s.id))})]}),c==="failover"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-lg p-4",children:[e.jsx("h3",{className:"text-sm font-medium text-zinc-300 mb-3",children:"Failover Policy"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 text-sm",children:[e.jsxs("div",{className:"bg-zinc-800 rounded-md p-3",children:[e.jsx("div",{className:"text-xs text-zinc-500 mb-1",children:"Auto-Failover"}),e.jsx("div",{className:"text-emerald-400 font-medium",children:"Enabled"})]}),e.jsxs("div",{className:"bg-zinc-800 rounded-md p-3",children:[e.jsx("div",{className:"text-xs text-zinc-500 mb-1",children:"Error Rate Threshold"}),e.jsx("div",{className:"text-zinc-300",children:"1.5%"})]}),e.jsxs("div",{className:"bg-zinc-800 rounded-md p-3",children:[e.jsx("div",{className:"text-xs text-zinc-500 mb-1",children:"Detection Window"}),e.jsx("div",{className:"text-zinc-300",children:"60 seconds"})]}),e.jsxs("div",{className:"bg-zinc-800 rounded-md p-3",children:[e.jsx("div",{className:"text-xs text-zinc-500 mb-1",children:"Cooldown Period"}),e.jsx("div",{className:"text-zinc-300",children:"5 minutes"})]}),e.jsxs("div",{className:"bg-zinc-800 rounded-md p-3",children:[e.jsx("div",{className:"text-xs text-zinc-500 mb-1",children:"Routing Strategy"}),e.jsx("div",{className:"text-zinc-300",children:"Weighted Round-Robin"})]}),e.jsxs("div",{className:"bg-zinc-800 rounded-md p-3",children:[e.jsx("div",{className:"text-xs text-zinc-500 mb-1",children:"DNS TTL"}),e.jsx("div",{className:"text-zinc-300",children:"30 seconds"})]})]})]}),e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-lg overflow-hidden",children:[e.jsx("div",{className:"p-3 border-b border-zinc-800",children:e.jsx("h3",{className:"text-sm font-medium text-zinc-300",children:"Failover History"})}),e.jsx("div",{className:"divide-y divide-zinc-800",children:S.map(s=>e.jsx("div",{className:"p-4",children:e.jsx("div",{className:"flex items-start justify-between gap-4",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:i("text-xs px-2 py-0.5 rounded-full font-medium",s.successful?"text-emerald-400 bg-emerald-400/10":"text-rose-400 bg-rose-400/10"),children:s.successful?"âœ“ Success":"âœ— Failed"}),e.jsx("span",{className:"text-xs px-1.5 py-0.5 bg-zinc-800 rounded text-zinc-400",children:s.triggerType==="auto"?"âŸ³ Auto":"ðŸ‘¤ Manual"}),e.jsx("span",{className:"text-xs text-zinc-500",children:g(s.timestamp)})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm mb-1",children:[e.jsx("span",{className:"font-mono text-zinc-300",children:s.fromRegion}),e.jsx("span",{className:"text-zinc-600",children:"â†’"}),e.jsx("span",{className:"font-mono text-indigo-300",children:s.toRegion}),e.jsxs("span",{className:"text-zinc-500",children:["in ",s.duration,"s"]})]}),e.jsx("p",{className:"text-xs text-zinc-500",children:s.reason})]})})},s.id))})]})]})]})}export{W as default};
