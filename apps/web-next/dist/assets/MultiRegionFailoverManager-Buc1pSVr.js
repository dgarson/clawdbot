import{r as x,j as e,c}from"./index-v5gn4Pco.js";const d=[{id:"fe-001",timestamp:"2026-02-20T14:23:11Z",fromRegion:"us-east-1",toRegion:"eu-west-1",trigger:"auto",durationSeconds:34,outcome:"success",reason:"Error rate exceeded threshold (12.4%)"},{id:"fe-002",timestamp:"2026-02-18T09:05:42Z",fromRegion:"ap-southeast-1",toRegion:"us-east-1",trigger:"manual",durationSeconds:61,outcome:"success",reason:"Planned maintenance window"},{id:"fe-003",timestamp:"2026-02-15T22:47:08Z",fromRegion:"eu-west-1",toRegion:"us-west-2",trigger:"auto",durationSeconds:28,outcome:"success",reason:"Network partition detected"},{id:"fe-004",timestamp:"2026-02-12T03:14:55Z",fromRegion:"us-west-2",toRegion:"us-east-1",trigger:"auto",durationSeconds:102,outcome:"partial",reason:"Latency spike exceeded 2000ms"},{id:"fe-005",timestamp:"2026-02-08T16:30:22Z",fromRegion:"us-east-1",toRegion:"ap-southeast-1",trigger:"manual",durationSeconds:45,outcome:"failed",reason:"Capacity test — destination not ready"},{id:"fe-006",timestamp:"2026-02-01T11:58:03Z",fromRegion:"eu-west-1",toRegion:"us-east-1",trigger:"auto",durationSeconds:22,outcome:"success",reason:"Health check failure (3 consecutive)"}],o=[{id:"us-east-1",name:"us-east-1",displayName:"US East (N. Virginia)",status:"primary",metrics:{latency:{p50:12,p95:45,p99:89,current:18},errorRate:.4,requestVolume:142800,uptime:99.97,healthScore:97},failoverHistory:[d[0],d[3],d[5]],lastChecked:"2026-02-22T07:04:51Z",replicaCount:5,healthyReplicas:5},{id:"eu-west-1",name:"eu-west-1",displayName:"EU West (Ireland)",status:"standby",metrics:{latency:{p50:18,p95:62,p99:115,current:24},errorRate:.7,requestVolume:88400,uptime:99.91,healthScore:92},failoverHistory:[d[0],d[2]],lastChecked:"2026-02-22T07:04:48Z",replicaCount:3,healthyReplicas:3},{id:"ap-southeast-1",name:"ap-southeast-1",displayName:"AP Southeast (Singapore)",status:"degraded",metrics:{latency:{p50:38,p95:142,p99:380,current:210},errorRate:3.8,requestVolume:54200,uptime:99.2,healthScore:61},failoverHistory:[d[1],d[4]],lastChecked:"2026-02-22T07:04:44Z",replicaCount:3,healthyReplicas:2},{id:"us-west-2",name:"us-west-2",displayName:"US West (Oregon)",status:"standby",metrics:{latency:{p50:14,p95:51,p99:98,current:16},errorRate:.5,requestVolume:71600,uptime:99.94,healthScore:95},failoverHistory:[d[2],d[3]],lastChecked:"2026-02-22T07:04:50Z",replicaCount:3,healthyReplicas:3}],z={autoFailoverEnabled:!0,healthCheckIntervalSeconds:30,minimumHealthyReplicas:2,failoverThresholdPercent:5,notifyEmail:!0,notifyPagerDuty:!0,notifySlack:!1},k={"us-east-1":[.3,.4,.2,.5,.4,.3,.6,.4,.3,.4,.4,.4],"eu-west-1":[.5,.8,.6,.7,.9,.6,.8,.7,.6,.7,.7,.7],"ap-southeast-1":[1.2,2.1,3.4,2.8,4.1,3.9,3.2,3.8,4,3.5,3.8,3.8],"us-west-2":[.4,.3,.5,.4,.6,.5,.4,.5,.5,.4,.5,.5]};function R(t){switch(t){case"primary":return"text-emerald-400";case"standby":return"text-indigo-400";case"failed":return"text-rose-400";case"degraded":return"text-amber-400"}}function p(t){switch(t){case"primary":return"bg-emerald-400/10 text-emerald-400 border border-emerald-400/20";case"standby":return"bg-indigo-400/10 text-indigo-400 border border-indigo-400/20";case"failed":return"bg-rose-400/10 text-rose-400 border border-rose-400/20";case"degraded":return"bg-amber-400/10 text-amber-400 border border-amber-400/20"}}function j(t){switch(t){case"success":return"bg-emerald-400/10 text-emerald-400 border border-emerald-400/20";case"failed":return"bg-rose-400/10 text-rose-400 border border-rose-400/20";case"partial":return"bg-amber-400/10 text-amber-400 border border-amber-400/20"}}function C(t){return t>=90?"bg-emerald-400":t>=70?"bg-amber-400":"bg-rose-400"}function S(t){switch(t){case"primary":return"bg-emerald-400";case"standby":return"bg-indigo-400";case"failed":return"bg-rose-400";case"degraded":return"bg-amber-400"}}function f(t){return new Date(t).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit",timeZone:"UTC",timeZoneName:"short"})}function N(t){return t<60?`${t}s`:`${Math.floor(t/60)}m ${t%60}s`}function b(t){return t>=1e6?`${(t/1e6).toFixed(1)}M`:t>=1e3?`${(t/1e3).toFixed(1)}K`:String(t)}function g({score:t}){return e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex-1 h-1.5 bg-zinc-700 rounded-full overflow-hidden",children:e.jsx("div",{className:c("h-full rounded-full transition-all",C(t)),style:{width:`${t}%`}})}),e.jsxs("span",{className:"text-xs text-zinc-400 w-8 text-right",children:[t,"%"]})]})}function T({label:t,value:r,maxValue:s}){const a=Math.min(100,Math.round(r/s*100)),l=r>200?"bg-rose-400":r>80?"bg-amber-400":"bg-indigo-500";return e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-xs text-zinc-400 w-32 shrink-0",children:t}),e.jsx("div",{className:"flex-1 h-6 bg-zinc-800 rounded overflow-hidden",children:e.jsx("div",{className:c("h-full rounded flex items-center px-2 transition-all",l),style:{width:`${a}%`},children:a>15&&e.jsxs("span",{className:"text-xs font-medium text-white whitespace-nowrap",children:[r,"ms"]})})}),a<=15&&e.jsxs("span",{className:"text-xs text-zinc-300 w-12",children:[r,"ms"]})]})}function E({values:t}){const r=Math.max(...t,1);return e.jsx("div",{className:"flex items-end gap-0.5 h-8",children:t.map((s,a)=>{const l=Math.max(4,Math.round(s/r*100)),i=s>3?"bg-rose-400":s>1?"bg-amber-400":"bg-emerald-400";return e.jsx("div",{className:c("flex-1 rounded-sm",i),style:{height:`${l}%`},title:`${s}%`},a)})})}function m({checked:t,onChange:r}){return e.jsx("button",{type:"button",role:"switch","aria-checked":t,onClick:()=>r(!t),className:c("relative inline-flex h-5 w-9 items-center rounded-full transition-colors","focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 focus:ring-offset-zinc-900",t?"bg-indigo-500":"bg-zinc-600"),children:e.jsx("span",{className:c("inline-block h-3.5 w-3.5 transform rounded-full bg-white transition-transform",t?"translate-x-4":"translate-x-0.5")})})}function F({id:t,label:r,active:s,onClick:a}){return e.jsx("button",{type:"button",onClick:()=>a(t),className:c("px-4 py-2 text-sm font-medium border-b-2 transition-colors",s?"border-indigo-500 text-white":"border-transparent text-zinc-400 hover:text-zinc-200 hover:border-zinc-600"),children:r})}function M(){const[t,r]=x.useState(o[0].id),s=o.find(a=>a.id===t)??o[0];return e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"w-64 shrink-0 flex flex-col gap-2",children:o.map(a=>e.jsxs("button",{type:"button",onClick:()=>r(a.id),className:c("text-left p-3 rounded-lg border transition-colors",t===a.id?"border-indigo-500 bg-zinc-800":"border-zinc-700 bg-zinc-900 hover:border-zinc-600"),children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"text-sm font-medium text-white",children:a.name}),e.jsx("span",{className:c("text-xs px-1.5 py-0.5 rounded uppercase font-semibold tracking-wide",p(a.status)),children:a.status})]}),e.jsx("p",{className:"text-xs text-zinc-500 mb-2",children:a.displayName}),e.jsx(g,{score:a.metrics.healthScore}),e.jsxs("div",{className:"flex gap-3 mt-2 text-xs text-zinc-400",children:[e.jsxs("span",{children:[a.metrics.latency.current,"ms"]}),e.jsxs("span",{className:a.metrics.errorRate>2?"text-rose-400":"text-zinc-400",children:[a.metrics.errorRate,"% err"]}),e.jsxs("span",{children:[b(a.metrics.requestVolume),"/m"]})]})]},a.id))}),e.jsxs("div",{className:"flex-1 min-w-0 bg-zinc-900 border border-zinc-700 rounded-lg p-5",children:[e.jsxs("div",{className:"flex items-start justify-between mb-5",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-white",children:s.displayName}),e.jsx("p",{className:"text-sm text-zinc-400 font-mono",children:s.name})]}),e.jsx("span",{className:c("text-xs px-2 py-1 rounded uppercase font-bold tracking-wide",p(s.status)),children:s.status})]}),e.jsx("div",{className:"grid grid-cols-3 gap-3 mb-5",children:[{label:"Latency p50",value:`${s.metrics.latency.p50}ms`,warn:!1},{label:"Latency p95",value:`${s.metrics.latency.p95}ms`,warn:!1},{label:"Latency p99",value:`${s.metrics.latency.p99}ms`,warn:s.metrics.latency.p99>200},{label:"Error Rate",value:`${s.metrics.errorRate}%`,warn:s.metrics.errorRate>2},{label:"Request Vol",value:`${b(s.metrics.requestVolume)}/m`,warn:!1},{label:"Uptime",value:`${s.metrics.uptime}%`,warn:s.metrics.uptime<99.5}].map(a=>e.jsxs("div",{className:"bg-zinc-800 rounded-md p-3",children:[e.jsx("p",{className:"text-xs text-zinc-400 mb-1",children:a.label}),e.jsx("p",{className:c("text-lg font-semibold",a.warn?"text-rose-400":"text-white"),children:a.value})]},a.label))}),e.jsxs("div",{className:"mb-5",children:[e.jsx("h3",{className:"text-sm font-medium text-zinc-300 mb-3",children:"Health Overview"}),e.jsxs("div",{className:"flex flex-col gap-2.5",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-xs text-zinc-400 mb-1",children:[e.jsx("span",{children:"Overall Health Score"}),e.jsxs("span",{children:[s.metrics.healthScore,"%"]})]}),e.jsx(g,{score:s.metrics.healthScore})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-xs text-zinc-400 mb-1",children:[e.jsx("span",{children:"Healthy Replicas"}),e.jsxs("span",{children:[s.healthyReplicas," / ",s.replicaCount]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex-1 h-1.5 bg-zinc-700 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-indigo-500 rounded-full",style:{width:`${s.healthyReplicas/s.replicaCount*100}%`}})}),e.jsxs("span",{className:"text-xs text-zinc-400 w-8 text-right",children:[Math.round(s.healthyReplicas/s.replicaCount*100),"%"]})]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 mb-5",children:[s.status!=="primary"&&e.jsx("button",{type:"button",className:"px-3 py-2 text-sm font-medium bg-indigo-600 hover:bg-indigo-500 text-white rounded-md transition-colors",children:"Promote to Primary"}),e.jsx("button",{type:"button",className:"px-3 py-2 text-sm font-medium bg-zinc-700 hover:bg-zinc-600 text-white rounded-md transition-colors",children:"Initiate Failover"}),e.jsx("div",{className:"flex-1"}),e.jsxs("p",{className:"text-xs text-zinc-500",children:["Last checked: ",f(s.lastChecked)]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-zinc-300 mb-2",children:"Failover History"}),s.failoverHistory.length===0?e.jsx("p",{className:"text-sm text-zinc-500",children:"No failover events for this region."}):e.jsx("div",{className:"flex flex-col gap-1.5",children:s.failoverHistory.map(a=>e.jsxs("div",{className:"flex items-center gap-3 bg-zinc-800 rounded-md px-3 py-2 text-xs",children:[e.jsx("span",{className:"text-zinc-400 w-40 shrink-0",children:f(a.timestamp)}),e.jsxs("span",{className:"text-zinc-300",children:[a.fromRegion," → ",a.toRegion]}),e.jsx("span",{className:c("px-1.5 py-0.5 rounded uppercase font-semibold ml-auto shrink-0",j(a.outcome)),children:a.outcome}),e.jsx("span",{className:"text-zinc-400 shrink-0",children:N(a.durationSeconds)})]},a.id))})]})]})]})}function H(){const[t,r]=x.useState({open:!1,confirmed:!1});function s(){r({open:!0,confirmed:!1})}function a(){r({open:!1,confirmed:!1})}function l(){return r({open:!0,confirmed:!0}),setTimeout(()=>{r({open:!1,confirmed:!1})},1800)}return e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-5",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-base font-semibold text-white",children:"Failover Event History"}),e.jsxs("p",{className:"text-xs text-zinc-400 mt-0.5",children:[d.length," events recorded"]})]}),e.jsx("button",{type:"button",onClick:s,className:"px-3 py-2 text-sm font-medium bg-rose-600 hover:bg-rose-500 text-white rounded-md transition-colors",children:"Trigger Manual Failover"})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-zinc-700",children:[e.jsx("th",{className:"pb-3 text-left text-xs font-medium text-zinc-400 uppercase tracking-wide pr-4",children:"Timestamp"}),e.jsx("th",{className:"pb-3 text-left text-xs font-medium text-zinc-400 uppercase tracking-wide pr-4",children:"From"}),e.jsx("th",{className:"pb-3 text-left text-xs font-medium text-zinc-400 uppercase tracking-wide pr-4",children:"To"}),e.jsx("th",{className:"pb-3 text-left text-xs font-medium text-zinc-400 uppercase tracking-wide pr-4",children:"Trigger"}),e.jsx("th",{className:"pb-3 text-left text-xs font-medium text-zinc-400 uppercase tracking-wide pr-4",children:"Duration"}),e.jsx("th",{className:"pb-3 text-left text-xs font-medium text-zinc-400 uppercase tracking-wide pr-4",children:"Outcome"}),e.jsx("th",{className:"pb-3 text-left text-xs font-medium text-zinc-400 uppercase tracking-wide",children:"Reason"})]})}),e.jsx("tbody",{children:d.map(i=>e.jsxs("tr",{className:"border-b border-zinc-800 hover:bg-zinc-800/40 transition-colors",children:[e.jsx("td",{className:"py-3 pr-4 text-zinc-300 text-xs whitespace-nowrap",children:f(i.timestamp)}),e.jsx("td",{className:"py-3 pr-4 text-white font-mono text-xs",children:i.fromRegion}),e.jsx("td",{className:"py-3 pr-4 text-white font-mono text-xs",children:i.toRegion}),e.jsx("td",{className:"py-3 pr-4",children:e.jsx("span",{className:c("text-xs px-1.5 py-0.5 rounded uppercase font-semibold",i.trigger==="auto"?"bg-zinc-700 text-zinc-300":"bg-indigo-500/20 text-indigo-400 border border-indigo-500/30"),children:i.trigger})}),e.jsx("td",{className:"py-3 pr-4 text-zinc-300 text-xs",children:N(i.durationSeconds)}),e.jsx("td",{className:"py-3 pr-4",children:e.jsx("span",{className:c("text-xs px-1.5 py-0.5 rounded uppercase font-semibold",j(i.outcome)),children:i.outcome})}),e.jsx("td",{className:"py-3 text-zinc-400 text-xs",children:i.reason})]},i.id))})]})}),t.open&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm",children:e.jsxs("div",{className:"bg-zinc-900 border border-zinc-700 rounded-xl p-6 w-full max-w-md shadow-2xl",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-1",children:"Confirm Manual Failover"}),e.jsxs("p",{className:"text-sm text-zinc-400 mb-4",children:["This will initiate a failover from"," ",e.jsx("span",{className:"text-white font-medium",children:"ap-southeast-1"})," to"," ",e.jsx("span",{className:"text-white font-medium",children:"us-east-1"}),". This action cannot be undone immediately."]}),e.jsxs("div",{className:"bg-zinc-800 rounded-lg p-3 mb-5 text-sm space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-zinc-400",children:"Source region"}),e.jsx("span",{className:"text-white font-mono text-xs",children:"ap-southeast-1"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-zinc-400",children:"Target region"}),e.jsx("span",{className:"text-white font-mono text-xs",children:"us-east-1"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-zinc-400",children:"Trigger type"}),e.jsx("span",{className:"text-indigo-400",children:"manual"})]})]}),t.confirmed?e.jsxs("div",{className:"flex items-center gap-2 text-emerald-400 text-sm py-2",children:[e.jsx("span",{className:"text-base",children:"✓"}),e.jsx("span",{children:"Failover initiated successfully"})]}):e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx("button",{type:"button",onClick:a,className:"px-4 py-2 text-sm bg-zinc-700 hover:bg-zinc-600 text-white rounded-md transition-colors",children:"Cancel"}),e.jsx("button",{type:"button",onClick:()=>{l()},className:"px-4 py-2 text-sm bg-rose-600 hover:bg-rose-500 text-white rounded-md transition-colors font-medium",children:"Confirm Failover"})]})]})})]})}function P(){const r=Math.max(...o.map(s=>s.metrics.latency.p99))*1.15;return e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsxs("div",{className:"bg-zinc-900 border border-zinc-700 rounded-lg p-5",children:[e.jsx("h3",{className:"text-sm font-semibold text-white mb-1",children:"p99 Latency by Region"}),e.jsx("p",{className:"text-xs text-zinc-500 mb-4",children:"Higher is worse — threshold: 200ms"}),e.jsx("div",{className:"flex flex-col gap-3",children:o.map(s=>e.jsx(T,{label:s.name,value:s.metrics.latency.p99,maxValue:r},s.id))}),e.jsxs("div",{className:"mt-3 flex gap-4 text-xs text-zinc-500",children:[e.jsxs("span",{className:"flex items-center gap-1.5",children:[e.jsx("span",{className:"inline-block w-2.5 h-2.5 rounded-sm bg-indigo-500"}),"Normal"]}),e.jsxs("span",{className:"flex items-center gap-1.5",children:[e.jsx("span",{className:"inline-block w-2.5 h-2.5 rounded-sm bg-amber-400"}),"Elevated"]}),e.jsxs("span",{className:"flex items-center gap-1.5",children:[e.jsx("span",{className:"inline-block w-2.5 h-2.5 rounded-sm bg-rose-400"}),"Critical"]})]})]}),e.jsxs("div",{className:"bg-zinc-900 border border-zinc-700 rounded-lg p-5",children:[e.jsx("h3",{className:"text-sm font-semibold text-white mb-1",children:"Error Rate Trend"}),e.jsx("p",{className:"text-xs text-zinc-500 mb-4",children:"Last 12 health-check intervals"}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:o.map(s=>{const a=k[s.id]??[],l=a.length>0?a[a.length-1]??0:0,i=l>3?"text-rose-400":l>1?"text-amber-400":"text-emerald-400";return e.jsxs("div",{className:"bg-zinc-800 rounded-md p-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-white font-medium",children:s.name}),e.jsxs("span",{className:c("text-sm font-semibold",i),children:[l,"%"]})]}),e.jsx(E,{values:a}),e.jsx("p",{className:"text-xs text-zinc-500 mt-1.5",children:"Current error rate"})]},s.id)})})]}),e.jsxs("div",{className:"bg-zinc-900 border border-zinc-700 rounded-lg p-5",children:[e.jsx("h3",{className:"text-sm font-semibold text-white mb-4",children:"Latency Percentile Summary"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-zinc-700",children:[e.jsx("th",{className:"pb-3 text-left text-xs font-medium text-zinc-400 uppercase tracking-wide pr-6",children:"Region"}),e.jsx("th",{className:"pb-3 text-right text-xs font-medium text-zinc-400 uppercase tracking-wide pr-6",children:"p50"}),e.jsx("th",{className:"pb-3 text-right text-xs font-medium text-zinc-400 uppercase tracking-wide pr-6",children:"p95"}),e.jsx("th",{className:"pb-3 text-right text-xs font-medium text-zinc-400 uppercase tracking-wide pr-6",children:"p99"}),e.jsx("th",{className:"pb-3 text-right text-xs font-medium text-zinc-400 uppercase tracking-wide pr-6",children:"Current"}),e.jsx("th",{className:"pb-3 text-right text-xs font-medium text-zinc-400 uppercase tracking-wide pr-6",children:"Err Rate"}),e.jsx("th",{className:"pb-3 text-right text-xs font-medium text-zinc-400 uppercase tracking-wide",children:"Status"})]})}),e.jsx("tbody",{children:o.map(s=>e.jsxs("tr",{className:"border-b border-zinc-800 hover:bg-zinc-800/40 transition-colors",children:[e.jsx("td",{className:"py-3 pr-6 text-white font-mono text-xs",children:s.name}),e.jsxs("td",{className:"py-3 pr-6 text-right text-zinc-300 text-sm",children:[s.metrics.latency.p50,"ms"]}),e.jsxs("td",{className:"py-3 pr-6 text-right text-zinc-300 text-sm",children:[s.metrics.latency.p95,"ms"]}),e.jsxs("td",{className:c("py-3 pr-6 text-right font-semibold text-sm",s.metrics.latency.p99>200?"text-rose-400":"text-zinc-300"),children:[s.metrics.latency.p99,"ms"]}),e.jsxs("td",{className:"py-3 pr-6 text-right text-zinc-300 text-sm",children:[s.metrics.latency.current,"ms"]}),e.jsxs("td",{className:c("py-3 pr-6 text-right text-sm font-medium",s.metrics.errorRate>2?"text-rose-400":s.metrics.errorRate>1?"text-amber-400":"text-emerald-400"),children:[s.metrics.errorRate,"%"]}),e.jsx("td",{className:"py-3 text-right",children:e.jsx("span",{className:c("text-xs px-1.5 py-0.5 rounded uppercase font-semibold",p(s.status)),children:s.status})})]},s.id))})]})})]})]})}function $(){const[t,r]=x.useState(z),[s,a]=x.useState(!1);function l(n,h){r(u=>({...u,[n]:h})),a(!1)}function i(n,h){r(u=>({...u,[n]:h})),a(!1)}function v(){a(!0),setTimeout(()=>a(!1),2500)}const y=[10,15,30,60,120],w=[1,2,3,4,5];return e.jsxs("div",{className:"max-w-xl flex flex-col gap-5",children:[e.jsxs("div",{className:"bg-zinc-900 border border-zinc-700 rounded-lg p-5",children:[e.jsx("h3",{className:"text-sm font-semibold text-white mb-4",children:"Failover Policy"}),e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-white",children:"Auto-Failover"}),e.jsx("p",{className:"text-xs text-zinc-400 mt-0.5",children:"Automatically trigger failover when thresholds are exceeded"})]}),e.jsx(m,{checked:t.autoFailoverEnabled,onChange:n=>l("autoFailoverEnabled",n)})]}),e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-white",children:"Health Check Interval"}),e.jsx("p",{className:"text-xs text-zinc-400 mt-0.5",children:"How often to poll each region's health endpoint"})]}),e.jsx("select",{value:t.healthCheckIntervalSeconds,onChange:n=>i("healthCheckIntervalSeconds",Number(n.target.value)),className:"bg-zinc-800 border border-zinc-600 text-white text-sm rounded-md px-3 py-1.5 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:y.map(n=>e.jsxs("option",{value:n,children:[n,"s"]},n))})]}),e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-white",children:"Min Healthy Replicas"}),e.jsx("p",{className:"text-xs text-zinc-400 mt-0.5",children:"Minimum replicas that must be healthy before failover triggers"})]}),e.jsx("select",{value:t.minimumHealthyReplicas,onChange:n=>i("minimumHealthyReplicas",Number(n.target.value)),className:"bg-zinc-800 border border-zinc-600 text-white text-sm rounded-md px-3 py-1.5 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:w.map(n=>e.jsx("option",{value:n,children:n},n))})]}),e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-white",children:"Failover Threshold"}),e.jsx("p",{className:"text-xs text-zinc-400 mt-0.5",children:"Error rate % that triggers automatic failover"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"number",min:1,max:50,value:t.failoverThresholdPercent,onChange:n=>i("failoverThresholdPercent",Number(n.target.value)),className:"w-16 bg-zinc-800 border border-zinc-600 text-white text-sm rounded-md px-2 py-1.5 text-center focus:outline-none focus:ring-2 focus:ring-indigo-500"}),e.jsx("span",{className:"text-sm text-zinc-400",children:"%"})]})]})]})]}),e.jsxs("div",{className:"bg-zinc-900 border border-zinc-700 rounded-lg p-5",children:[e.jsx("h3",{className:"text-sm font-semibold text-white mb-4",children:"Notification Preferences"}),e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-white",children:"Email"}),e.jsx("p",{className:"text-xs text-zinc-400 mt-0.5",children:"Send failover alerts to configured email addresses"})]}),e.jsx(m,{checked:t.notifyEmail,onChange:n=>l("notifyEmail",n)})]}),e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-white",children:"PagerDuty"}),e.jsx("p",{className:"text-xs text-zinc-400 mt-0.5",children:"Trigger PagerDuty incidents on critical failover events"})]}),e.jsx(m,{checked:t.notifyPagerDuty,onChange:n=>l("notifyPagerDuty",n)})]}),e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-white",children:"Slack"}),e.jsx("p",{className:"text-xs text-zinc-400 mt-0.5",children:"Post failover notifications to configured Slack channels"})]}),e.jsx(m,{checked:t.notifySlack,onChange:n=>l("notifySlack",n)})]})]})]}),e.jsxs("div",{className:"bg-zinc-800/50 border border-zinc-700 rounded-lg p-4",children:[e.jsx("h4",{className:"text-xs font-semibold text-zinc-400 uppercase tracking-wide mb-2",children:"Active Configuration"}),e.jsxs("div",{className:"grid grid-cols-2 gap-x-6 gap-y-1 text-xs",children:[e.jsx("span",{className:"text-zinc-400",children:"Auto-failover"}),e.jsx("span",{className:t.autoFailoverEnabled?"text-emerald-400":"text-zinc-500",children:t.autoFailoverEnabled?"Enabled":"Disabled"}),e.jsx("span",{className:"text-zinc-400",children:"Check interval"}),e.jsxs("span",{className:"text-zinc-300",children:[t.healthCheckIntervalSeconds,"s"]}),e.jsx("span",{className:"text-zinc-400",children:"Min replicas"}),e.jsx("span",{className:"text-zinc-300",children:t.minimumHealthyReplicas}),e.jsx("span",{className:"text-zinc-400",children:"Threshold"}),e.jsxs("span",{className:"text-zinc-300",children:[t.failoverThresholdPercent,"%"]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{type:"button",onClick:v,className:"px-5 py-2.5 text-sm font-medium bg-indigo-600 hover:bg-indigo-500 text-white rounded-md transition-colors",children:"Save Configuration"}),s&&e.jsxs("span",{className:"text-sm text-emerald-400 flex items-center gap-1.5",children:[e.jsx("span",{children:"✓"}),e.jsx("span",{children:"Configuration saved"})]})]})]})}function I(){const[t,r]=x.useState("regions"),s=o.filter(i=>i.status==="primary").length,a=o.filter(i=>i.status==="degraded"||i.status==="failed").length,l=[{id:"regions",label:"Regions"},{id:"events",label:"Failover Events"},{id:"metrics",label:"Health Metrics"},{id:"config",label:"Config"}];return e.jsx("div",{className:"min-h-screen bg-zinc-950 text-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[e.jsxs("div",{className:"flex items-start justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-white tracking-tight",children:"Multi-Region Failover Manager"}),e.jsx("p",{className:"text-sm text-zinc-400 mt-1",children:"Monitor and control cross-region failover policies in real time"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[e.jsxs("span",{className:"px-2 py-1 rounded-full bg-emerald-400/10 border border-emerald-400/20 text-emerald-400 font-medium",children:[s," Primary"]}),a>0&&e.jsxs("span",{className:"px-2 py-1 rounded-full bg-amber-400/10 border border-amber-400/20 text-amber-400 font-medium",children:[a," Degraded"]})]})]}),e.jsx("div",{className:"grid grid-cols-4 gap-3 mb-6",children:o.map(i=>e.jsxs("div",{className:"bg-zinc-900 border border-zinc-700 rounded-lg p-3 flex items-center gap-3",children:[e.jsx("div",{className:c("w-2 h-2 rounded-full shrink-0",S(i.status))}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-xs font-medium text-white truncate",children:i.name}),e.jsx("p",{className:c("text-xs capitalize",R(i.status)),children:i.status})]}),e.jsxs("div",{className:"text-right shrink-0",children:[e.jsxs("p",{className:"text-xs text-zinc-300 font-mono",children:[i.metrics.latency.current,"ms"]}),e.jsxs("p",{className:c("text-xs",i.metrics.errorRate>2?"text-rose-400":"text-zinc-500"),children:[i.metrics.errorRate,"% err"]})]})]},i.id))}),e.jsx("div",{className:"border-b border-zinc-700 mb-6 flex gap-0",children:l.map(i=>e.jsx(F,{id:i.id,label:i.label,active:t===i.id,onClick:r},i.id))}),t==="regions"&&e.jsx(M,{}),t==="events"&&e.jsx(H,{}),t==="metrics"&&e.jsx(P,{}),t==="config"&&e.jsx($,{})]})})}export{I as default};
