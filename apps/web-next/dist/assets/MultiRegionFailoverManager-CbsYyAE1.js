import{c as f,r as m,j as e,a as s,T as g}from"./index-DPSUG5BZ.js";import{G as p,S as y}from"./server-C6h8pGat.js";import{Z as v}from"./zap-Di1Uhbd4.js";import{A as j}from"./activity-sWBijAqr.js";import{C as x}from"./circle-x-CUC43yfZ.js";import{C as h}from"./circle-check-big-CkJDqgjv.js";import{R as N}from"./refresh-cw-DSenVQBH.js";/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w=f("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]),u=[{id:"us-west-2",name:"US West (Oregon)",location:"45.5°N 122.7°W",status:"primary",latencyMs:12,requestsPerSec:4821,errorRate:.02,uptime:99.98,lastCheck:new Date(Date.now()-3e4).toISOString(),services:[{name:"Gateway",healthy:!0},{name:"Agent Runtime",healthy:!0},{name:"Database",healthy:!0},{name:"Cache",healthy:!0}]},{id:"us-east-1",name:"US East (Virginia)",location:"37.8°N 78.0°W",status:"standby",latencyMs:28,requestsPerSec:0,errorRate:0,uptime:99.95,lastCheck:new Date(Date.now()-45e3).toISOString(),services:[{name:"Gateway",healthy:!0},{name:"Agent Runtime",healthy:!0},{name:"Database",healthy:!0},{name:"Cache",healthy:!0}]},{id:"eu-west-1",name:"EU West (Ireland)",location:"53.3°N 6.3°W",status:"standby",latencyMs:95,requestsPerSec:0,errorRate:0,uptime:99.91,lastCheck:new Date(Date.now()-6e4).toISOString(),services:[{name:"Gateway",healthy:!0},{name:"Agent Runtime",healthy:!0},{name:"Database",healthy:!1},{name:"Cache",healthy:!0}]},{id:"ap-southeast-1",name:"AP Southeast (Singapore)",location:"1.3°N 103.8°E",status:"degraded",latencyMs:187,requestsPerSec:0,errorRate:.41,uptime:97.23,lastCheck:new Date(Date.now()-12e4).toISOString(),services:[{name:"Gateway",healthy:!0},{name:"Agent Runtime",healthy:!1},{name:"Database",healthy:!0},{name:"Cache",healthy:!1}]}],d={primary:{label:"Primary",color:"text-emerald-400 bg-emerald-400/10 border-emerald-400/20",dot:"bg-emerald-400"},standby:{label:"Standby",color:"text-blue-400 bg-blue-400/10 border-blue-400/20",dot:"bg-blue-400"},failover:{label:"Failover",color:"text-amber-400 bg-amber-400/10 border-amber-400/20",dot:"bg-amber-400"},degraded:{label:"Degraded",color:"text-orange-400 bg-orange-400/10 border-orange-400/20",dot:"bg-orange-400"},offline:{label:"Offline",color:"text-red-400 bg-red-400/10 border-red-400/20",dot:"bg-red-400"}};function S(t){const r=Math.floor((Date.now()-new Date(t).getTime())/1e3);return r<60?`${r}s ago`:r<3600?`${Math.floor(r/60)}m ago`:`${Math.floor(r/3600)}h ago`}function z({ms:t}){const l=Math.min(t/250*100,100),c=t<50?"bg-emerald-500":t<100?"bg-amber-500":"bg-red-500";return e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex-1 h-1.5 bg-zinc-800 rounded-full overflow-hidden",children:e.jsx("div",{className:s("h-full rounded-full transition-all",c),style:{width:`${l}%`}})}),e.jsxs("span",{className:"text-xs text-zinc-300 font-mono w-12 text-right",children:[t,"ms"]})]})}function P(){const[t,r]=m.useState(u[0]),[l,c]=m.useState(!1),b=()=>{c(!0),setTimeout(()=>c(!1),2500)};return e.jsxs("div",{className:"flex h-full bg-zinc-950 text-zinc-100",children:[e.jsxs("div",{className:"w-[340px] shrink-0 border-r border-zinc-800 flex flex-col",children:[e.jsxs("div",{className:"p-4 border-b border-zinc-800",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(p,{className:"w-4 h-4 text-violet-400"}),e.jsx("h1",{className:"text-sm font-semibold",children:"Multi-Region Failover"})]}),e.jsx("p",{className:"text-xs text-zinc-500",children:"Monitor regions and trigger failover"})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-3 space-y-2",children:u.map(a=>{const i=d[a.status],n=a.services.filter(o=>!o.healthy).length;return e.jsxs("button",{type:"button",onClick:()=>r(a),className:s("w-full text-left p-3 border rounded-xl transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-violet-500",t.id===a.id?"border-violet-500 bg-violet-500/5":"border-zinc-800 bg-zinc-900/50 hover:border-zinc-700"),children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:s("w-2 h-2 rounded-full",i.dot)}),e.jsx("span",{className:"text-sm font-medium text-zinc-100",children:a.name})]}),e.jsx("span",{className:s("text-[10px] font-medium px-2 py-0.5 rounded-lg border",i.color),children:i.label})]}),e.jsx(z,{ms:a.latencyMs}),e.jsxs("div",{className:"flex items-center justify-between mt-1.5 text-xs text-zinc-500",children:[e.jsxs("span",{children:[a.uptime,"% uptime"]}),n>0&&e.jsxs("span",{className:"flex items-center gap-1 text-orange-400",children:[e.jsx(g,{className:"w-3 h-3"}),n," issue",n>1?"s":""]})]})]},a.id)})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:e.jsxs("div",{className:"max-w-2xl",children:[e.jsxs("div",{className:"flex items-start justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-zinc-100",children:t.name}),e.jsxs("p",{className:"text-xs text-zinc-500 mt-0.5",children:[t.location," · Last checked ",S(t.lastCheck)]})]}),e.jsxs("span",{className:s("flex items-center gap-1.5 text-sm px-3 py-1.5 rounded-xl border font-medium",d[t.status].color),children:[e.jsx("div",{className:s("w-2 h-2 rounded-full",d[t.status].dot)}),d[t.status].label]})]}),e.jsx("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[{label:"Latency",value:`${t.latencyMs}ms`,icon:v,color:t.latencyMs<50?"text-emerald-400":t.latencyMs<100?"text-amber-400":"text-red-400"},{label:"Req/s",value:t.requestsPerSec.toLocaleString(),icon:j,color:"text-blue-400"},{label:"Error Rate",value:`${t.errorRate}%`,icon:x,color:t.errorRate>.1?"text-red-400":"text-emerald-400"},{label:"Uptime",value:`${t.uptime}%`,icon:h,color:t.uptime>99?"text-emerald-400":"text-amber-400"}].map(({label:a,value:i,icon:n,color:o})=>e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl p-3 text-center",children:[e.jsx(n,{className:s("w-4 h-4 mx-auto mb-1",o)}),e.jsx("p",{className:s("text-lg font-bold",o),children:i}),e.jsx("p",{className:"text-[10px] text-zinc-500",children:a})]},a))}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("p",{className:"text-xs font-medium text-zinc-400 uppercase tracking-wider mb-3 flex items-center gap-1.5",children:[e.jsx(y,{className:"w-3 h-3"}),"Services"]}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:t.services.map(a=>e.jsxs("div",{className:s("flex items-center justify-between p-3 rounded-lg border",a.healthy?"border-emerald-800/50 bg-emerald-900/10":"border-red-800/50 bg-red-900/10"),children:[e.jsx("span",{className:"text-sm text-zinc-200",children:a.name}),a.healthy?e.jsx(h,{className:"w-4 h-4 text-emerald-400"}):e.jsx(x,{className:"w-4 h-4 text-red-400"})]},a.name))})]}),t.status!=="primary"&&e.jsx("div",{className:"p-4 bg-zinc-900 border border-zinc-800 rounded-xl",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-zinc-100 mb-1",children:"Promote to Primary"}),e.jsx("p",{className:"text-xs text-zinc-500",children:"Route all traffic to this region. Current primary will become standby."})]}),e.jsxs("button",{type:"button",onClick:b,disabled:l||t.status==="offline",className:s("flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-lg transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-violet-500",l?"bg-zinc-700 text-zinc-400 cursor-not-allowed":"bg-violet-600 hover:bg-violet-500 text-white"),children:[l?e.jsx(N,{className:"w-3.5 h-3.5 animate-spin"}):e.jsx(w,{className:"w-3.5 h-3.5"}),l?"Switching…":"Failover"]})]})})]})})]})}export{P as default};
