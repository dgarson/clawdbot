import{r as v,j as e,c as o}from"./index-Dcmua_Yv.js";const O=["02/16","02/17","02/18","02/19","02/20","02/21","02/22"];function h(s,a){return O.map((l,n)=>{const t=Math.sin(n*1.3)*.15+Math.cos(n*.9)*.1,d=Math.min(a,Math.max(5,s+t*s)),r=Math.min(a,d*(1.2+n*.03)),c=Math.min(a,d*1.1);return{date:l,utilizationPct:Math.round(d/a*100),peakPct:Math.round(r/a*100),avgPct:Math.round(d/a*100),p95Pct:Math.round(c/a*100)}})}const f=[{id:"iface-eth0",name:"eth0",status:"up",speedMbps:1e4,inboundMbps:3842,outboundMbps:2191,inboundPps:512400,outboundPps:298700,errorRateIn:.002,errorRateOut:.001,dropRateIn:.004,dropRateOut:.002,mtu:9e3,macAddress:"00:1A:2B:3C:4D:5E",ipAddress:"10.0.1.1",ipv6Address:"fe80::21a:2bff:fe3c:4d5e",duplex:"Full",trend7d:h(3500,1e4),peakMbps:7821,avgMbps:3200,p95Mbps:6100,projectedSaturationDays:62},{id:"iface-eth1",name:"eth1",status:"up",speedMbps:1e4,inboundMbps:1204,outboundMbps:987,inboundPps:164e3,outboundPps:132100,errorRateIn:.001,errorRateOut:0,dropRateIn:.001,dropRateOut:.001,mtu:9e3,macAddress:"00:1A:2B:3C:4D:5F",ipAddress:"10.0.1.2",ipv6Address:"fe80::21a:2bff:fe3c:4d5f",duplex:"Full",trend7d:h(1100,1e4),peakMbps:4200,avgMbps:1050,p95Mbps:3100,projectedSaturationDays:145},{id:"iface-bond0",name:"bond0",status:"up",speedMbps:2e4,inboundMbps:9800,outboundMbps:8100,inboundPps:1204e3,outboundPps:992e3,errorRateIn:.003,errorRateOut:.002,dropRateIn:.005,dropRateOut:.003,mtu:9e3,macAddress:"00:1A:2B:3C:4D:60",ipAddress:"10.0.2.1",ipv6Address:"fe80::21a:2bff:fe3c:4d60",duplex:"Full",trend7d:h(8900,2e4),peakMbps:18700,avgMbps:8400,p95Mbps:15200,projectedSaturationDays:14},{id:"iface-bond1",name:"bond1",status:"degraded",speedMbps:2e4,inboundMbps:4310,outboundMbps:3890,inboundPps:551e3,outboundPps:497e3,errorRateIn:.12,errorRateOut:.08,dropRateIn:.15,dropRateOut:.1,mtu:9e3,macAddress:"00:1A:2B:3C:4D:61",ipAddress:"10.0.2.2",ipv6Address:"fe80::21a:2bff:fe3c:4d61",duplex:"Full",trend7d:h(4e3,2e4),peakMbps:9100,avgMbps:3800,p95Mbps:7200,projectedSaturationDays:null},{id:"iface-lo",name:"lo",status:"up",speedMbps:0,inboundMbps:.12,outboundMbps:.12,inboundPps:420,outboundPps:420,errorRateIn:0,errorRateOut:0,dropRateIn:0,dropRateOut:0,mtu:65536,macAddress:"00:00:00:00:00:00",ipAddress:"127.0.0.1",ipv6Address:"::1",duplex:"N/A",trend7d:h(.1,1e3),peakMbps:.5,avgMbps:.1,p95Mbps:.3,projectedSaturationDays:null},{id:"iface-eth2",name:"eth2",status:"up",speedMbps:1e3,inboundMbps:621,outboundMbps:489,inboundPps:78400,outboundPps:61200,errorRateIn:.005,errorRateOut:.003,dropRateIn:.007,dropRateOut:.005,mtu:1500,macAddress:"00:1A:2B:3C:4D:62",ipAddress:"192.168.10.1",ipv6Address:"fe80::21a:2bff:fe3c:4d62",duplex:"Full",trend7d:h(580,1e3),peakMbps:921,avgMbps:540,p95Mbps:810,projectedSaturationDays:7},{id:"iface-eth3",name:"eth3",status:"down",speedMbps:1e3,inboundMbps:0,outboundMbps:0,inboundPps:0,outboundPps:0,errorRateIn:0,errorRateOut:0,dropRateIn:0,dropRateOut:0,mtu:1500,macAddress:"00:1A:2B:3C:4D:63",ipAddress:"—",ipv6Address:"—",duplex:"N/A",trend7d:h(0,1e3),peakMbps:0,avgMbps:0,p95Mbps:0,projectedSaturationDays:null},{id:"iface-vlan100",name:"vlan100",status:"up",speedMbps:1e4,inboundMbps:2140,outboundMbps:1876,inboundPps:271e3,outboundPps:238e3,errorRateIn:.001,errorRateOut:0,dropRateIn:.002,dropRateOut:.001,mtu:1500,macAddress:"00:1A:2B:3C:4D:64",ipAddress:"172.16.100.1",ipv6Address:"fe80::21a:2bff:fe3c:4d64",duplex:"Full",trend7d:h(1900,1e4),peakMbps:5800,avgMbps:1700,p95Mbps:4100,projectedSaturationDays:98}],B=[{id:"f1",srcIp:"10.0.1.15",dstIp:"203.0.113.42",protocol:"HTTPS",port:443,bytesSec:524288e3,direction:"outbound",interfaceName:"bond0",packets:412e3,connectionCount:1840,latencyMs:12},{id:"f2",srcIp:"203.0.113.10",dstIp:"10.0.1.20",protocol:"HTTP",port:80,bytesSec:314572800,direction:"inbound",interfaceName:"bond0",packets:287e3,connectionCount:3200,latencyMs:8},{id:"f3",srcIp:"10.0.1.5",dstIp:"10.0.3.100",protocol:"DB",port:5432,bytesSec:209715200,direction:"bidirectional",interfaceName:"eth0",packets:198e3,connectionCount:420,latencyMs:3},{id:"f4",srcIp:"10.0.1.8",dstIp:"10.0.3.101",protocol:"DB",port:3306,bytesSec:157286400,direction:"bidirectional",interfaceName:"eth0",packets:152e3,connectionCount:380,latencyMs:4},{id:"f5",srcIp:"198.51.100.22",dstIp:"10.0.1.1",protocol:"HTTPS",port:443,bytesSec:125829120,direction:"inbound",interfaceName:"bond0",packets:118e3,connectionCount:910,latencyMs:18},{id:"f6",srcIp:"10.0.1.30",dstIp:"192.0.2.55",protocol:"SSH",port:22,bytesSec:62914560,direction:"outbound",interfaceName:"eth1",packets:72e3,connectionCount:12,latencyMs:22},{id:"f7",srcIp:"10.0.1.12",dstIp:"10.0.3.200",protocol:"DB",port:27017,bytesSec:52428800,direction:"bidirectional",interfaceName:"eth0",packets:61e3,connectionCount:210,latencyMs:5},{id:"f8",srcIp:"172.16.100.5",dstIp:"10.0.1.99",protocol:"HTTP",port:8080,bytesSec:41943040,direction:"inbound",interfaceName:"vlan100",packets:49e3,connectionCount:1600,latencyMs:11},{id:"f9",srcIp:"10.0.2.14",dstIp:"198.51.100.80",protocol:"HTTPS",port:443,bytesSec:31457280,direction:"outbound",interfaceName:"bond1",packets:38e3,connectionCount:750,latencyMs:29},{id:"f10",srcIp:"192.168.10.44",dstIp:"10.0.1.7",protocol:"Other",port:9200,bytesSec:20971520,direction:"inbound",interfaceName:"eth2",packets:24e3,connectionCount:64,latencyMs:6}],k=[{id:"a1",time:"2026-02-22 05:14:02",interfaceName:"bond0",metric:"Inbound Utilization",value:98,threshold:90,severity:"critical",state:"active",message:"bond0 inbound utilization exceeded critical threshold (90%)",unit:"%"},{id:"a2",time:"2026-02-22 04:58:17",interfaceName:"eth2",metric:"Inbound Utilization",value:87,threshold:80,severity:"warning",state:"active",message:"eth2 inbound utilization exceeded warning threshold (80%)",unit:"%"},{id:"a3",time:"2026-02-22 04:45:33",interfaceName:"bond1",metric:"Error Rate (In)",value:.12,threshold:.05,severity:"critical",state:"acknowledged",message:"bond1 inbound error rate critical — possible hardware fault",unit:"%"},{id:"a4",time:"2026-02-22 03:22:11",interfaceName:"bond0",metric:"Outbound Utilization",value:93,threshold:90,severity:"critical",state:"resolved",message:"bond0 outbound utilization exceeded critical threshold",unit:"%"},{id:"a5",time:"2026-02-22 02:10:55",interfaceName:"eth2",metric:"Projected Saturation",value:7,threshold:14,severity:"warning",state:"active",message:"eth2 projected saturation within 7 days",unit:"days"},{id:"a6",time:"2026-02-21 22:04:38",interfaceName:"eth3",metric:"Link Status",value:0,threshold:1,severity:"critical",state:"silenced",message:"eth3 link went down — no carrier detected",unit:"state"},{id:"a7",time:"2026-02-21 18:32:09",interfaceName:"bond1",metric:"Drop Rate (In)",value:.15,threshold:.05,severity:"warning",state:"acknowledged",message:"bond1 inbound drop rate above threshold",unit:"%"},{id:"a8",time:"2026-02-21 11:17:44",interfaceName:"vlan100",metric:"Inbound Utilization",value:58,threshold:70,severity:"info",state:"resolved",message:"vlan100 utilization trending up — within normal range",unit:"%"}],$=f.map(s=>({interfaceId:s.id,inboundWarningPct:80,inboundCriticalPct:90,outboundWarningPct:80,outboundCriticalPct:90,errorRateWarning:.05,errorRateCritical:.1}));function S(s){return s>=1073741824?`${(s/1073741824).toFixed(1)} GB/s`:s>=1048576?`${(s/1048576).toFixed(1)} MB/s`:s>=1024?`${(s/1024).toFixed(1)} KB/s`:`${s} B/s`}function p(s){return s>=1e3?`${(s/1e3).toFixed(2)} Gbps`:`${s.toFixed(1)} Mbps`}function I(s){return s>=1e6?`${(s/1e6).toFixed(2)} Mpps`:s>=1e3?`${(s/1e3).toFixed(1)} Kpps`:`${s} pps`}function z(s,a){return a===0?0:Math.min(100,Math.round(s/a*100))}function w(s){return s==="up"?"bg-emerald-500":s==="degraded"?"bg-amber-500":"bg-red-500"}function F(s){return s==="up"?"UP":s==="degraded"?"DEGRADED":"DOWN"}function E(s){return s==="critical"?"text-red-400":s==="warning"?"text-amber-400":"text-blue-400"}function H(s){return s==="critical"?"bg-red-500/15 border-red-500/30":s==="warning"?"bg-amber-500/15 border-amber-500/30":"bg-blue-500/15 border-blue-500/30"}function U(s){return s==="active"?"text-red-400":s==="acknowledged"?"text-amber-400":s==="silenced"?"text-zinc-400":"text-emerald-400"}function y(s){return s==="HTTP"?"bg-blue-500":s==="HTTPS"?"bg-indigo-500":s==="DB"?"bg-violet-500":s==="SSH"?"bg-amber-500":"bg-zinc-500"}function W(s){return s==="inbound"?"← In":s==="outbound"?"→ Out":"↔ Bi"}function P(s){return s>=90?"bg-red-500":s>=75?"bg-amber-500":s>=50?"bg-indigo-400":"bg-indigo-500"}function M({pct:s,height:a=6,label:l}){const n=Math.max(0,Math.min(100,s));return e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"relative flex-1 rounded-full overflow-hidden bg-zinc-800",style:{height:a},children:e.jsx("div",{className:o("absolute left-0 top-0 h-full rounded-full transition-all",P(n)),style:{width:`${n}%`}})}),l!==void 0&&e.jsx("span",{className:"text-xs text-zinc-400 w-10 text-right",children:l})]})}function x({label:s,value:a,accent:l}){return e.jsxs("div",{className:"flex flex-col gap-0.5",children:[e.jsx("span",{className:"text-xs text-zinc-500",children:s}),e.jsx("span",{className:o("text-sm font-mono font-medium",l?"text-indigo-300":"text-white"),children:a})]})}function L({interfaces:s}){const[a,l]=v.useState(null),n=s.find(t=>t.id===a)??null;return e.jsxs("div",{className:"flex gap-4 h-full min-h-0",children:[e.jsx("div",{className:"w-72 flex-shrink-0 flex flex-col gap-2 overflow-y-auto pr-1",children:s.map(t=>{const d=z(t.inboundMbps,t.speedMbps),r=z(t.outboundMbps,t.speedMbps),c=a===t.id;return e.jsxs("button",{onClick:()=>l(t.id===a?null:t.id),className:o("w-full text-left rounded-lg border p-3 transition-all",c?"bg-indigo-500/10 border-indigo-500/50":"bg-zinc-900 border-zinc-800 hover:border-zinc-700 hover:bg-zinc-800/60"),children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:o("w-2 h-2 rounded-full flex-shrink-0",w(t.status))}),e.jsx("span",{className:"text-sm font-mono font-semibold text-white",children:t.name})]}),e.jsx("span",{className:o("text-[10px] font-bold px-1.5 py-0.5 rounded",t.status==="up"?"bg-emerald-500/20 text-emerald-400":t.status==="degraded"?"bg-amber-500/20 text-amber-400":"bg-red-500/20 text-red-400"),children:F(t.status)})]}),e.jsxs("div",{className:"flex flex-col gap-1.5",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-[10px] text-zinc-500 mb-0.5",children:[e.jsx("span",{children:"IN"}),e.jsx("span",{children:p(t.inboundMbps)})]}),e.jsx(M,{pct:d,height:5,label:`${d}%`})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-[10px] text-zinc-500 mb-0.5",children:[e.jsx("span",{children:"OUT"}),e.jsx("span",{children:p(t.outboundMbps)})]}),e.jsx(M,{pct:r,height:5,label:`${r}%`})]})]}),e.jsxs("div",{className:"flex justify-between mt-2 text-[10px] text-zinc-500",children:[e.jsxs("span",{children:["PKT: ",I(t.inboundPps+t.outboundPps)]}),e.jsxs("span",{children:["ERR: ",((t.errorRateIn+t.errorRateOut)/2).toFixed(3),"%"]})]})]},t.id)})}),e.jsx("div",{className:"flex-1 min-w-0",children:n?e.jsxs("div",{className:"bg-zinc-900 rounded-xl border border-zinc-800 p-5 h-full overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-5",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:o("w-3 h-3 rounded-full",w(n.status))}),e.jsx("h3",{className:"text-xl font-mono font-bold text-white",children:n.name}),e.jsxs("span",{className:"text-sm text-zinc-400 font-mono",children:[p(n.speedMbps)," link"]})]}),e.jsx("button",{onClick:()=>l(null),className:"text-zinc-500 hover:text-white text-xl leading-none",children:"×"})]}),e.jsxs("div",{className:"mb-5",children:[e.jsx("h4",{className:"text-xs font-semibold text-zinc-400 uppercase tracking-widest mb-3",children:"Throughput"}),e.jsx("div",{className:"space-y-3",children:[{label:"Inbound",mbps:n.inboundMbps},{label:"Outbound",mbps:n.outboundMbps}].map(({label:t,mbps:d})=>{const r=z(d,n.speedMbps);return e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-xs text-zinc-400 mb-1",children:[e.jsx("span",{children:t}),e.jsxs("span",{className:"font-mono",children:[p(d)," / ",p(n.speedMbps)," (",r,"%)"]})]}),e.jsx(M,{pct:r,height:10})]},t)})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-x-6 gap-y-4 mb-5",children:[e.jsx(x,{label:"IP Address",value:n.ipAddress}),e.jsx(x,{label:"IPv6 Address",value:n.ipv6Address}),e.jsx(x,{label:"MAC Address",value:n.macAddress}),e.jsx(x,{label:"MTU",value:`${n.mtu} bytes`}),e.jsx(x,{label:"Duplex",value:n.duplex}),e.jsx(x,{label:"In Packets",value:I(n.inboundPps)}),e.jsx(x,{label:"Out Packets",value:I(n.outboundPps)}),e.jsx(x,{label:"Error Rate In",value:`${n.errorRateIn.toFixed(3)}%`,accent:n.errorRateIn>.05}),e.jsx(x,{label:"Error Rate Out",value:`${n.errorRateOut.toFixed(3)}%`,accent:n.errorRateOut>.05}),e.jsx(x,{label:"Drop Rate In",value:`${n.dropRateIn.toFixed(3)}%`,accent:n.dropRateIn>.05}),e.jsx(x,{label:"Drop Rate Out",value:`${n.dropRateOut.toFixed(3)}%`,accent:n.dropRateOut>.05}),e.jsx(x,{label:"Peak",value:p(n.peakMbps)}),e.jsx(x,{label:"Avg",value:p(n.avgMbps)}),e.jsx(x,{label:"P95",value:p(n.p95Mbps)}),e.jsx(x,{label:"Projected Saturation",value:n.projectedSaturationDays!==null?`${n.projectedSaturationDays}d`:"N/A",accent:n.projectedSaturationDays!==null&&n.projectedSaturationDays<=14})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-xs font-semibold text-zinc-400 uppercase tracking-widest mb-3",children:"7-Day Utilization Trend"}),e.jsx("div",{className:"flex items-end gap-1 h-20",children:n.trend7d.map(t=>e.jsxs("div",{className:"flex-1 flex flex-col items-center gap-1 group relative",children:[e.jsx("div",{className:"absolute bottom-6 hidden group-hover:flex flex-col items-center z-10",children:e.jsxs("div",{className:"bg-zinc-800 border border-zinc-700 rounded px-2 py-1 text-[10px] text-white whitespace-nowrap",children:[t.date,": ",t.utilizationPct,"%"]})}),e.jsx("div",{className:"w-full rounded-sm overflow-hidden bg-zinc-800",style:{height:60},children:e.jsx("div",{className:o("w-full rounded-sm",P(t.utilizationPct)),style:{height:`${t.utilizationPct}%`,marginTop:`${100-t.utilizationPct}%`}})}),e.jsx("span",{className:"text-[9px] text-zinc-600",children:t.date.slice(3)})]},t.date))})]})]}):e.jsxs("div",{className:"bg-zinc-900 rounded-xl border border-zinc-800 p-8 h-full flex flex-col items-center justify-center text-center",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-zinc-800 flex items-center justify-center mb-3",children:e.jsx("div",{className:"w-5 h-5 rounded-full border-2 border-zinc-600"})}),e.jsx("p",{className:"text-zinc-400 text-sm",children:"Select an interface to view detailed statistics"})]})})]})}const R=["HTTP","HTTPS","DB","SSH","Other"];function K({flows:s}){var d;const a=[...s].sort((r,c)=>c.bytesSec-r.bytesSec),l=((d=a[0])==null?void 0:d.bytesSec)??1,n={HTTP:0,HTTPS:0,DB:0,SSH:0,Other:0};s.forEach(r=>{n[r.protocol]+=r.bytesSec});const t=Object.values(n).reduce((r,c)=>r+c,0)||1;return e.jsxs("div",{className:"flex flex-col gap-5 h-full overflow-y-auto",children:[e.jsxs("div",{className:"bg-zinc-900 rounded-xl border border-zinc-800 p-5",children:[e.jsx("h3",{className:"text-sm font-semibold text-zinc-300 mb-3",children:"Bandwidth by Protocol Category"}),e.jsx("div",{className:"flex h-8 rounded-lg overflow-hidden gap-px mb-3",children:R.map(r=>{const c=n[r]/t*100;return c<.5?null:e.jsx("div",{className:o("flex items-center justify-center text-xs font-semibold text-white transition-all",y(r)),style:{width:`${c}%`},title:`${r}: ${S(n[r])}`,children:c>8?r:""},r)})}),e.jsx("div",{className:"flex flex-wrap gap-3",children:R.map(r=>e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("span",{className:o("w-2.5 h-2.5 rounded-sm",y(r))}),e.jsx("span",{className:"text-xs text-zinc-400",children:r}),e.jsx("span",{className:"text-xs font-mono text-zinc-300",children:S(n[r])})]},r))})]}),e.jsxs("div",{className:"bg-zinc-900 rounded-xl border border-zinc-800 overflow-hidden",children:[e.jsx("div",{className:"px-5 py-3 border-b border-zinc-800",children:e.jsx("h3",{className:"text-sm font-semibold text-zinc-300",children:"Top Flows by Bandwidth"})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsx("tr",{className:"border-b border-zinc-800",children:["#","Src IP","Dst IP","Proto","Port","Bandwidth","Direction","Interface","Latency"].map(r=>e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-semibold text-zinc-500 uppercase tracking-wider whitespace-nowrap",children:r},r))})}),e.jsx("tbody",{children:a.map((r,c)=>{const g=r.bytesSec/l*100;return e.jsxs("tr",{className:"border-b border-zinc-800/50 hover:bg-zinc-800/30 transition-colors",children:[e.jsx("td",{className:"px-4 py-3 text-zinc-500 font-mono text-xs",children:c+1}),e.jsx("td",{className:"px-4 py-3 font-mono text-xs text-zinc-300",children:r.srcIp}),e.jsx("td",{className:"px-4 py-3 font-mono text-xs text-zinc-300",children:r.dstIp}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{className:o("px-2 py-0.5 rounded text-xs font-bold text-white",y(r.protocol)),children:r.protocol})}),e.jsx("td",{className:"px-4 py-3 font-mono text-xs text-zinc-400",children:r.port}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex items-center gap-2 min-w-[140px]",children:[e.jsx("div",{className:"flex-1 h-1.5 bg-zinc-800 rounded-full overflow-hidden",children:e.jsx("div",{className:o("h-full rounded-full",y(r.protocol)),style:{width:`${g}%`}})}),e.jsx("span",{className:"font-mono text-xs text-white whitespace-nowrap",children:S(r.bytesSec)})]})}),e.jsx("td",{className:"px-4 py-3 text-xs text-zinc-400",children:W(r.direction)}),e.jsx("td",{className:"px-4 py-3 font-mono text-xs text-zinc-400",children:r.interfaceName}),e.jsxs("td",{className:"px-4 py-3 font-mono text-xs text-zinc-400",children:[r.latencyMs,"ms"]})]},r.id)})})]})})]})]})}function _({alerts:s,thresholds:a,interfaces:l}){const[n,t]=v.useState(s),[d,r]=v.useState(a),[c,g]=v.useState(null);function N(i,b){t(m=>m.map(u=>u.id!==i?u:{...u,state:{acknowledge:"acknowledged",silence:"silenced",resolve:"resolved"}[b]}))}function C(i,b,m){r(u=>u.map(j=>j.interfaceId===i?{...j,[b]:m}:j))}const A=n.filter(i=>i.state==="active").length,T=n.filter(i=>i.state==="acknowledged").length;return e.jsxs("div",{className:"flex flex-col gap-5 h-full overflow-y-auto",children:[e.jsx("div",{className:"grid grid-cols-4 gap-3",children:[{label:"Active",count:A,color:"text-red-400",bg:"bg-red-500/10 border-red-500/20"},{label:"Acknowledged",count:T,color:"text-amber-400",bg:"bg-amber-500/10 border-amber-500/20"},{label:"Silenced",count:n.filter(i=>i.state==="silenced").length,color:"text-zinc-400",bg:"bg-zinc-800 border-zinc-700"},{label:"Resolved",count:n.filter(i=>i.state==="resolved").length,color:"text-emerald-400",bg:"bg-emerald-500/10 border-emerald-500/20"}].map(({label:i,count:b,color:m,bg:u})=>e.jsxs("div",{className:o("rounded-xl border p-4 flex flex-col gap-1",u),children:[e.jsx("span",{className:o("text-2xl font-bold font-mono",m),children:b}),e.jsx("span",{className:"text-xs text-zinc-500",children:i})]},i))}),e.jsxs("div",{className:"bg-zinc-900 rounded-xl border border-zinc-800 overflow-hidden",children:[e.jsx("div",{className:"px-5 py-3 border-b border-zinc-800",children:e.jsx("h3",{className:"text-sm font-semibold text-zinc-300",children:"Alert History"})}),e.jsx("div",{className:"divide-y divide-zinc-800/50",children:n.map(i=>e.jsxs("div",{className:o("px-5 py-4 flex gap-4 items-start transition-colors",i.state==="active"?"bg-zinc-900":"bg-zinc-900/50"),children:[e.jsx("div",{className:"flex-shrink-0 mt-0.5",children:e.jsx("span",{className:o("inline-flex items-center px-2 py-0.5 rounded text-[10px] font-bold uppercase border",H(i.severity),E(i.severity)),children:i.severity})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-baseline gap-2 mb-0.5",children:[e.jsx("span",{className:"text-xs font-mono text-zinc-400",children:i.time}),e.jsx("span",{className:"text-xs font-mono font-semibold text-indigo-300",children:i.interfaceName}),e.jsx("span",{className:"text-xs text-zinc-500",children:i.metric})]}),e.jsx("p",{className:"text-sm text-zinc-200 mb-1",children:i.message}),e.jsxs("div",{className:"flex items-center gap-3 text-xs text-zinc-500",children:[e.jsxs("span",{children:["Value: ",e.jsxs("span",{className:"font-mono text-white",children:[i.value,i.unit]})]}),e.jsxs("span",{children:["Threshold: ",e.jsxs("span",{className:"font-mono text-zinc-300",children:[i.threshold,i.unit]})]}),e.jsx("span",{className:o("font-semibold",U(i.state)),children:i.state.charAt(0).toUpperCase()+i.state.slice(1)})]})]}),i.state==="active"&&e.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[e.jsx("button",{onClick:()=>N(i.id,"acknowledge"),className:"px-2.5 py-1 text-xs rounded bg-amber-500/20 text-amber-300 hover:bg-amber-500/30 border border-amber-500/20 transition-colors",children:"Ack"}),e.jsx("button",{onClick:()=>N(i.id,"silence"),className:"px-2.5 py-1 text-xs rounded bg-zinc-800 text-zinc-400 hover:bg-zinc-700 border border-zinc-700 transition-colors",children:"Silence"}),e.jsx("button",{onClick:()=>N(i.id,"resolve"),className:"px-2.5 py-1 text-xs rounded bg-emerald-500/20 text-emerald-300 hover:bg-emerald-500/30 border border-emerald-500/20 transition-colors",children:"Resolve"})]}),i.state==="acknowledged"&&e.jsx("button",{onClick:()=>N(i.id,"resolve"),className:"flex-shrink-0 px-2.5 py-1 text-xs rounded bg-emerald-500/20 text-emerald-300 hover:bg-emerald-500/30 border border-emerald-500/20 transition-colors",children:"Resolve"})]},i.id))})]}),e.jsxs("div",{className:"bg-zinc-900 rounded-xl border border-zinc-800 overflow-hidden",children:[e.jsxs("div",{className:"px-5 py-3 border-b border-zinc-800 flex items-center justify-between",children:[e.jsx("h3",{className:"text-sm font-semibold text-zinc-300",children:"Threshold Configuration"}),e.jsx("span",{className:"text-xs text-zinc-500",children:"Click interface to expand"})]}),e.jsx("div",{className:"divide-y divide-zinc-800/50",children:l.map(i=>{const b=d.find(u=>u.interfaceId===i.id);if(!b)return null;const m=c===i.id;return e.jsxs("div",{children:[e.jsxs("button",{className:"w-full px-5 py-3 flex items-center justify-between hover:bg-zinc-800/30 transition-colors",onClick:()=>g(m?null:i.id),children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:o("w-2 h-2 rounded-full",w(i.status))}),e.jsx("span",{className:"font-mono text-sm text-white",children:i.name})]}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-zinc-500",children:[e.jsxs("span",{children:["In warn: ",e.jsxs("span",{className:"text-zinc-300 font-mono",children:[b.inboundWarningPct,"%"]})]}),e.jsxs("span",{children:["In crit: ",e.jsxs("span",{className:"text-red-400 font-mono",children:[b.inboundCriticalPct,"%"]})]}),e.jsx("span",{className:o("transition-transform text-zinc-500",m?"rotate-90":""),children:"›"})]})]}),m&&e.jsx("div",{className:"px-5 pb-4 grid grid-cols-2 gap-4 bg-zinc-800/20",children:[{field:"inboundWarningPct",label:"Inbound Warning (%)"},{field:"inboundCriticalPct",label:"Inbound Critical (%)"},{field:"outboundWarningPct",label:"Outbound Warning (%)"},{field:"outboundCriticalPct",label:"Outbound Critical (%)"},{field:"errorRateWarning",label:"Error Rate Warning (%)"},{field:"errorRateCritical",label:"Error Rate Critical (%)"}].map(({field:u,label:j})=>e.jsxs("label",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-xs text-zinc-500",children:j}),e.jsx("input",{type:"number",step:"1",min:"0",max:"100",value:b[u],onChange:D=>C(i.id,u,parseFloat(D.target.value)),className:"bg-zinc-900 border border-zinc-700 rounded px-2 py-1.5 text-sm text-white font-mono focus:border-indigo-500 focus:outline-none w-full"})]},u))})]},i.id)})})]})]})}function G({interfaces:s}){const[a,l]=v.useState("utilization"),n=[...s].sort((t,d)=>{if(a==="name")return t.name.localeCompare(d.name);if(a==="utilization"){const g=z(t.inboundMbps+t.outboundMbps,t.speedMbps*2||1);return z(d.inboundMbps+d.outboundMbps,d.speedMbps*2||1)-g}const r=t.projectedSaturationDays??9999,c=d.projectedSaturationDays??9999;return r-c});return e.jsxs("div",{className:"flex flex-col gap-5 h-full overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs text-zinc-500",children:"Sort by:"}),["utilization","saturation","name"].map(t=>e.jsx("button",{onClick:()=>l(t),className:o("px-3 py-1 rounded text-xs font-medium transition-colors",a===t?"bg-indigo-500 text-white":"bg-zinc-800 text-zinc-400 hover:text-white border border-zinc-700"),children:t.charAt(0).toUpperCase()+t.slice(1)},t))]}),e.jsx("div",{className:"flex flex-col gap-4",children:n.map(t=>{const d=t.speedMbps>0?Math.round((t.inboundMbps+t.outboundMbps)/(t.speedMbps*2)*100):0;return e.jsxs("div",{className:"bg-zinc-900 rounded-xl border border-zinc-800 p-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:o("w-2.5 h-2.5 rounded-full",w(t.status))}),e.jsx("span",{className:"font-mono font-bold text-white",children:t.name}),e.jsxs("span",{className:"text-xs text-zinc-500",children:[p(t.speedMbps)," link"]})]}),t.projectedSaturationDays!==null?e.jsxs("span",{className:o("text-xs px-2 py-0.5 rounded border font-mono",t.projectedSaturationDays<=7?"bg-red-500/15 border-red-500/30 text-red-400":t.projectedSaturationDays<=30?"bg-amber-500/15 border-amber-500/30 text-amber-400":"bg-zinc-800 border-zinc-700 text-zinc-400"),children:["Saturation in ",t.projectedSaturationDays,"d"]}):e.jsx("span",{className:"text-xs px-2 py-0.5 rounded border bg-zinc-800 border-zinc-700 text-zinc-500",children:"No saturation projected"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex justify-between text-xs text-zinc-400 mb-1.5",children:[e.jsx("span",{children:"Current Utilization (combined)"}),e.jsxs("span",{className:"font-mono",children:[d,"%"]})]}),e.jsx(M,{pct:d,height:10})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"text-xs text-zinc-500 mb-2",children:"7-Day Utilization Trend"}),e.jsx("div",{className:"flex items-end gap-1",style:{height:48},children:t.trend7d.map(r=>e.jsxs("div",{className:"flex-1 flex flex-col items-center gap-1 relative group",children:[e.jsx("div",{className:"absolute bottom-5 hidden group-hover:flex z-10 pointer-events-none",children:e.jsxs("div",{className:"bg-zinc-800 border border-zinc-700 rounded px-1.5 py-0.5 text-[10px] text-white whitespace-nowrap",children:[r.date,": avg ",r.avgPct,"% | peak ",r.peakPct,"%"]})}),e.jsxs("div",{className:"w-full rounded-sm bg-zinc-800 relative overflow-hidden",style:{height:40},children:[e.jsx("div",{className:o("absolute bottom-0 w-full opacity-30",P(r.peakPct)),style:{height:`${r.peakPct}%`}}),e.jsx("div",{className:o("absolute bottom-0 w-full",P(r.avgPct)),style:{height:`${r.avgPct}%`}})]}),e.jsx("span",{className:"text-[9px] text-zinc-600",children:r.date.slice(3)})]},r.date))})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-3 pt-3 border-t border-zinc-800",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xs text-zinc-500 mb-0.5",children:"Peak"}),e.jsx("div",{className:"font-mono text-sm font-semibold text-red-400",children:p(t.peakMbps)}),e.jsx("div",{className:"text-[10px] text-zinc-600",children:t.speedMbps>0?`${Math.round(t.peakMbps/t.speedMbps*100)}%`:"—"})]}),e.jsxs("div",{className:"text-center border-x border-zinc-800",children:[e.jsx("div",{className:"text-xs text-zinc-500 mb-0.5",children:"Average"}),e.jsx("div",{className:"font-mono text-sm font-semibold text-indigo-300",children:p(t.avgMbps)}),e.jsx("div",{className:"text-[10px] text-zinc-600",children:t.speedMbps>0?`${Math.round(t.avgMbps/t.speedMbps*100)}%`:"—"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xs text-zinc-500 mb-0.5",children:"P95"}),e.jsx("div",{className:"font-mono text-sm font-semibold text-amber-300",children:p(t.p95Mbps)}),e.jsx("div",{className:"text-[10px] text-zinc-600",children:t.speedMbps>0?`${Math.round(t.p95Mbps/t.speedMbps*100)}%`:"—"})]})]})]},t.id)})})]})}const V=[{id:"interfaces",label:"Interfaces"},{id:"traffic",label:"Traffic Flow"},{id:"alerts",label:"Alerts"},{id:"capacity",label:"Capacity"}];function q(){const[s,a]=v.useState("interfaces"),l=k.filter(n=>n.state==="active").length;return e.jsxs("div",{className:"min-h-screen bg-zinc-950 text-white flex flex-col",children:[e.jsxs("div",{className:"border-b border-zinc-800 bg-zinc-950 px-6 py-4 flex items-center justify-between flex-shrink-0",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-bold text-white",children:"Network Bandwidth Monitor"}),e.jsxs("p",{className:"text-xs text-zinc-500 mt-0.5",children:[f.filter(n=>n.status==="up").length," up ·"," ",f.filter(n=>n.status==="degraded").length," degraded ·"," ",f.filter(n=>n.status==="down").length," down · ",f.length," total"]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-emerald-500 animate-pulse"}),e.jsx("span",{className:"text-xs text-zinc-400",children:"Live"})]}),e.jsx("div",{className:"h-4 w-px bg-zinc-800"}),e.jsx("span",{className:"text-xs text-zinc-500",children:"Updated 2026-02-22 05:22 MST"})]})]}),e.jsx("div",{className:"border-b border-zinc-800 bg-zinc-950 px-6 flex-shrink-0",children:e.jsx("div",{className:"flex gap-0",children:V.map(n=>e.jsxs("button",{onClick:()=>a(n.id),className:o("relative px-4 py-3 text-sm font-medium transition-colors border-b-2 flex items-center gap-2",s===n.id?"border-indigo-500 text-white":"border-transparent text-zinc-500 hover:text-zinc-300"),children:[n.label,n.id==="alerts"&&l>0&&e.jsx("span",{className:"bg-red-500 text-white text-[10px] font-bold px-1.5 py-0.5 rounded-full min-w-[18px] text-center leading-none",children:l})]},n.id))})}),e.jsxs("div",{className:"flex-1 overflow-hidden p-6",children:[s==="interfaces"&&e.jsx(L,{interfaces:f}),s==="traffic"&&e.jsx(K,{flows:B}),s==="alerts"&&e.jsx(_,{alerts:k,thresholds:$,interfaces:f}),s==="capacity"&&e.jsx(G,{interfaces:f})]})]})}export{q as default};
