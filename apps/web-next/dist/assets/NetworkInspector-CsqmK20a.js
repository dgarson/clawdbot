import{r as o,j as e,c as i}from"./index-D2H6hWpW.js";const r=[{id:"req-001",method:"POST",url:"https://api.anthropic.com/v1/messages",status:"success",statusCode:200,duration:1823,requestSize:4201,responseSize:12480,timestamp:"2026-02-22T02:10:00Z",contentType:"application/json",requestHeaders:[{name:"Authorization",value:"Bearer sk-ant-***"},{name:"Content-Type",value:"application/json"},{name:"anthropic-version",value:"2023-06-01"}],responseHeaders:[{name:"Content-Type",value:"application/json; charset=utf-8"},{name:"X-Request-Id",value:"req_014BKJtQBBWpB3D"}],requestBody:'{"model":"claude-sonnet-4-6","max_tokens":4096,"messages":[{"role":"user","content":"Build a NetworkInspector view..."}]}',responseBody:'{"id":"msg_014BKJtQBBWpB3D","type":"message","role":"assistant","content":[{"type":"text","text":"..."}],"model":"claude-sonnet-4-6-20241022","stop_reason":"end_turn","usage":{"input_tokens":1842,"output_tokens":3204}}',initiator:"AgentRunner",agentId:"luis"},{id:"req-002",method:"GET",url:"https://api.clawdbot.io/v1/sessions?limit=20&status=active",status:"success",statusCode:200,duration:145,requestSize:0,responseSize:8320,timestamp:"2026-02-22T02:09:45Z",contentType:"application/json",requestHeaders:[{name:"Authorization",value:"Bearer oclaw-***"},{name:"Accept",value:"application/json"}],responseHeaders:[{name:"Content-Type",value:"application/json"},{name:"X-Total-Count",value:"7"}],responseBody:'{"sessions":[{"id":"sess-e61f","agent_id":"luis","status":"active"},...],"total":7}',initiator:"SessionsView"},{id:"req-003",method:"WS",url:"wss://gateway.clawdbot.io/ws?token=***",status:"success",duration:45230,requestSize:1240,responseSize:89400,timestamp:"2026-02-22T01:24:00Z",contentType:"application/octet-stream",requestHeaders:[{name:"Upgrade",value:"websocket"},{name:"Connection",value:"Upgrade"},{name:"Sec-WebSocket-Key",value:"dGhlIHNhbXBsZQ=="}],responseHeaders:[{name:"Upgrade",value:"websocket"},{name:"Connection",value:"Upgrade"}],initiator:"GatewayRelay",agentId:"luis"},{id:"req-004",method:"POST",url:"https://api.openai.com/v1/audio/speech",status:"success",statusCode:200,duration:2341,requestSize:384,responseSize:184320,timestamp:"2026-02-22T02:05:00Z",contentType:"audio/mpeg",requestHeaders:[{name:"Authorization",value:"Bearer sk-***"},{name:"Content-Type",value:"application/json"}],responseHeaders:[{name:"Content-Type",value:"audio/mpeg"},{name:"Content-Length",value:"184320"}],requestBody:'{"model":"tts-1-hd","voice":"shimmer","input":"Sprint complete. 53 views shipped."}',initiator:"TTSScript"},{id:"req-005",method:"POST",url:"https://api.github.com/repos/dgarson/clawdbot/git/refs",status:"error",statusCode:422,duration:890,requestSize:180,responseSize:240,timestamp:"2026-02-22T01:30:00Z",contentType:"application/json",requestHeaders:[{name:"Authorization",value:"Bearer ghp_***"},{name:"Content-Type",value:"application/json"}],responseHeaders:[{name:"Content-Type",value:"application/json; charset=utf-8"},{name:"X-GitHub-Request-Id",value:"AB12:CD34"}],requestBody:'{"ref":"refs/heads/feat/test-branch","sha":"abc123"}',responseBody:'{"message":"Reference already exists","documentation_url":"https://docs.github.com/rest"}',initiator:"GitWorker"},{id:"req-006",method:"GET",url:"https://api.clawdbot.io/v1/agents/luis/soul",status:"success",statusCode:200,duration:67,requestSize:0,responseSize:4821,timestamp:"2026-02-22T01:05:00Z",contentType:"text/markdown",requestHeaders:[{name:"Authorization",value:"Bearer oclaw-***"}],responseHeaders:[{name:"Content-Type",value:"text/markdown"},{name:"Cache-Control",value:"no-cache"}],initiator:"AgentLoader",agentId:"luis"},{id:"req-007",method:"POST",url:"https://hooks.slack.com/services/T01/B01/xxx",status:"success",statusCode:200,duration:312,requestSize:890,responseSize:2,timestamp:"2026-02-22T02:02:00Z",contentType:"application/json",requestHeaders:[{name:"Content-Type",value:"application/json"}],responseHeaders:[{name:"Content-Type",value:"text/html"}],requestBody:'{"text":"‚úÖ Horizon UI: 52 views shipped!","channel":"#cb-activity"}',responseBody:"ok",initiator:"SlackNotifier"},{id:"req-008",method:"POST",url:"https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent",status:"error",statusCode:429,duration:234,requestSize:2100,responseSize:180,timestamp:"2026-02-22T00:47:00Z",contentType:"application/json",requestHeaders:[{name:"X-Goog-Api-Key",value:"AIza***"},{name:"Content-Type",value:"application/json"}],responseHeaders:[{name:"Content-Type",value:"application/json"}],requestBody:'{"contents":[{"role":"user","parts":[{"text":"Build changelog view..."}]}]}',responseBody:'{"error":{"code":429,"message":"RESOURCE_EXHAUSTED: Quota exceeded","status":"RESOURCE_EXHAUSTED"}}',initiator:"ProviderRouter",agentId:"quinn"},{id:"req-009",method:"DELETE",url:"https://api.clawdbot.io/v1/sessions/sess-old-123",status:"success",statusCode:204,duration:89,requestSize:0,responseSize:0,timestamp:"2026-02-22T00:00:00Z",contentType:"",requestHeaders:[{name:"Authorization",value:"Bearer oclaw-***"}],responseHeaders:[],initiator:"SessionCleanup"},{id:"req-010",method:"PATCH",url:"https://api.clawdbot.io/v1/agents/piper/config",status:"success",statusCode:200,duration:124,requestSize:310,responseSize:890,timestamp:"2026-02-22T01:40:00Z",contentType:"application/json",requestHeaders:[{name:"Authorization",value:"Bearer oclaw-***"},{name:"Content-Type",value:"application/merge-patch+json"}],responseHeaders:[{name:"Content-Type",value:"application/json"}],requestBody:'{"model":"minimax-portal/MiniMax-M2.5","max_tokens":8192}',responseBody:'{"agent_id":"piper","config":{"model":"minimax-portal/MiniMax-M2.5","max_tokens":8192}}',initiator:"AgentConfigService",agentId:"xavier"}],g={GET:"text-emerald-400 bg-emerald-400/10 border-emerald-400/20",POST:"text-indigo-400 bg-indigo-400/10 border-indigo-400/20",PUT:"text-amber-400 bg-amber-400/10 border-amber-400/20",PATCH:"text-blue-400 bg-blue-400/10 border-blue-400/20",DELETE:"text-rose-400 bg-rose-400/10 border-rose-400/20",WS:"text-violet-400 bg-violet-400/10 border-violet-400/20"};function m(s){return s===0?"0 B":s>=1024*1024?`${(s/(1024*1024)).toFixed(1)} MB`:s>=1024?`${(s/1024).toFixed(0)} KB`:`${s} B`}function u(s){return s>=6e4?`${(s/6e4).toFixed(1)}m`:s>=1e3?`${(s/1e3).toFixed(2)}s`:`${s}ms`}function v(s){const l=Date.now()-new Date(s).getTime(),n=Math.floor(l/6e4);return n<1?"just now":n<60?`${n}m ago`:`${Math.floor(n/60)}h ago`}function f(s){return s?s<300?"text-emerald-400":s<400?"text-amber-400":"text-rose-400":"text-zinc-500"}function j({headers:s,title:l}){return s.length===0?e.jsxs("p",{className:"text-xs text-zinc-600",children:["No ",l.toLowerCase()]}):e.jsx("div",{className:"space-y-0.5",children:s.map(n=>e.jsxs("div",{className:"flex items-baseline gap-2 text-xs",children:[e.jsxs("span",{className:"text-zinc-400 font-mono shrink-0",children:[n.name,":"]}),e.jsx("span",{className:"text-zinc-500 font-mono break-all",children:n.value})]},n.name))})}function H(){const[s,l]=o.useState(""),[n,h]=o.useState("all"),[p,z]=o.useState("all"),[c,N]=o.useState(r[0].id),[d,w]=o.useState("headers"),b=o.useMemo(()=>r.filter(t=>!(n!=="all"&&t.method!==n||p!=="all"&&t.status!==p||s&&!t.url.toLowerCase().includes(s.toLowerCase())&&!t.initiator.toLowerCase().includes(s.toLowerCase()))).sort((t,x)=>new Date(x.timestamp).getTime()-new Date(t.timestamp).getTime()),[s,n,p]),a=o.useMemo(()=>r.find(t=>t.id===c)??null,[c]),T=r.length,y=r.filter(t=>t.status==="error").length,S=Math.round(r.reduce((t,x)=>t+x.duration,0)/r.length),C=["all","GET","POST","PUT","PATCH","DELETE","WS"],B=["all","success","error","pending"],k=[{id:"headers",label:"Headers"},{id:"body",label:"Body"},{id:"timing",label:"Timing"}];return e.jsxs("main",{className:"flex flex-col h-full bg-zinc-950 text-white overflow-hidden",role:"main","aria-label":"Network Inspector",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-zinc-800 shrink-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-bold text-white",children:"Network Inspector"}),e.jsx("p",{className:"text-xs text-zinc-500 mt-0.5",children:"HTTP/WebSocket request log ‚Äî all agent API calls"})]}),e.jsx("div",{className:"flex items-center gap-5 text-xs",children:[{label:"Requests",value:T,color:"text-white"},{label:"Errors",value:y,color:"text-rose-400"},{label:"Avg time",value:`${u(S)}`,color:"text-zinc-300"}].map(t=>e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:i("text-xl font-bold font-mono",t.color),children:t.value}),e.jsx("p",{className:"text-zinc-500",children:t.label})]},t.label))})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx("input",{type:"search",value:s,onChange:t=>l(t.target.value),placeholder:"Filter by URL or initiator‚Ä¶","aria-label":"Filter requests",className:i("bg-zinc-800 border border-zinc-700 rounded-lg px-3 py-1.5 text-sm text-white placeholder:text-zinc-500 w-56","focus-visible:ring-2 focus-visible:ring-indigo-500 focus-visible:outline-none")}),e.jsx("div",{className:"flex gap-1",role:"group","aria-label":"Filter by method",children:C.map(t=>e.jsx("button",{onClick:()=>h(t),"aria-pressed":n===t,className:i("text-xs px-2 py-1 rounded border transition-colors font-mono","focus-visible:ring-2 focus-visible:ring-indigo-500 focus-visible:outline-none",n===t?"border-indigo-500 bg-indigo-950/40 text-indigo-300":"border-zinc-700 text-zinc-400 hover:text-white"),children:t==="all"?"All":t},t))}),e.jsx("select",{value:p,onChange:t=>z(t.target.value),"aria-label":"Filter by status",className:i("bg-zinc-800 border border-zinc-700 rounded-lg px-2 py-1.5 text-sm text-white","focus-visible:ring-2 focus-visible:ring-indigo-500 focus-visible:outline-none"),children:B.map(t=>e.jsx("option",{value:t,children:t==="all"?"All statuses":t},t))}),e.jsxs("span",{className:"text-xs text-zinc-600 ml-auto",children:[b.length," requests"]})]})]}),e.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[e.jsxs("div",{className:"w-[420px] shrink-0 flex flex-col border-r border-zinc-800 overflow-hidden",children:[e.jsxs("div",{className:"px-3 py-2 border-b border-zinc-800 bg-zinc-900/50 flex items-center gap-2 text-[10px] text-zinc-500",children:[e.jsx("span",{className:"w-14",children:"Method"}),e.jsx("span",{className:"flex-1",children:"URL"}),e.jsx("span",{className:"w-12 text-right",children:"Status"}),e.jsx("span",{className:"w-14 text-right",children:"Time"})]}),e.jsx("div",{className:"flex-1 overflow-y-auto",role:"list","aria-label":"Network requests",children:b.map(t=>e.jsx("div",{role:"listitem",children:e.jsxs("button",{onClick:()=>N(t.id),"aria-pressed":c===t.id,className:i("w-full text-left px-3 py-2.5 border-b border-zinc-800/60 transition-colors","focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-indigo-500 focus-visible:outline-none",c===t.id?"bg-indigo-950/30":"hover:bg-zinc-800/30",t.status==="error"&&c!==t.id&&"border-l-2 border-l-rose-500"),children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:i("text-[10px] px-1.5 py-0.5 rounded border font-mono shrink-0 w-14 text-center",g[t.method]),children:t.method}),e.jsx("span",{className:"text-xs text-zinc-300 truncate flex-1 font-mono",children:t.url.replace(/^https?:\/\//,"").split("?")[0]}),e.jsx("span",{className:i("text-xs font-mono shrink-0 w-12 text-right",f(t.statusCode)),children:t.statusCode??"WS"}),e.jsx("span",{className:"text-[10px] text-zinc-600 font-mono shrink-0 w-14 text-right",children:u(t.duration)})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-0.5 text-[10px] text-zinc-600 ml-14",children:[e.jsx("span",{children:t.initiator}),t.agentId&&e.jsxs("span",{className:"text-zinc-700",children:["¬∑ ",t.agentId]}),e.jsx("span",{className:"ml-auto",children:v(t.timestamp)})]})]})},t.id))})]}),e.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:a?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"px-4 py-3 border-b border-zinc-800 bg-zinc-900/30",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:i("text-xs px-2 py-0.5 rounded border font-mono",g[a.method]),children:a.method}),e.jsx("span",{className:i("text-sm font-mono font-bold",f(a.statusCode)),children:a.statusCode??"‚Äî"}),e.jsx("span",{className:"text-xs text-zinc-400 font-mono",children:u(a.duration)})]}),e.jsx("p",{className:"text-sm text-zinc-300 font-mono break-all",children:a.url}),e.jsxs("div",{className:"flex items-center gap-3 mt-1 text-[10px] text-zinc-500",children:[e.jsxs("span",{children:["‚Üë ",m(a.requestSize)]}),e.jsxs("span",{children:["‚Üì ",m(a.responseSize)]}),e.jsxs("span",{children:["Initiator: ",a.initiator]}),e.jsx("span",{children:v(a.timestamp)})]})]}),e.jsx("div",{className:"px-4 border-b border-zinc-800 flex gap-0",role:"tablist",children:k.map(t=>e.jsx("button",{role:"tab","aria-selected":d===t.id,onClick:()=>w(t.id),className:i("px-4 py-2 text-sm border-b-2 transition-colors","focus-visible:ring-2 focus-visible:ring-indigo-500 focus-visible:outline-none",d===t.id?"border-indigo-500 text-white":"border-transparent text-zinc-400 hover:text-white"),children:t.label},t.id))}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[d==="headers"&&e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xs font-semibold text-zinc-500 uppercase tracking-wide mb-2",children:"Request Headers"}),e.jsx(j,{headers:a.requestHeaders,title:"Request Headers"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xs font-semibold text-zinc-500 uppercase tracking-wide mb-2",children:"Response Headers"}),e.jsx(j,{headers:a.responseHeaders,title:"Response Headers"})]})]}),d==="body"&&e.jsxs("div",{className:"space-y-4",children:[a.requestBody&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-xs font-semibold text-zinc-500 uppercase tracking-wide mb-2",children:"Request Body"}),e.jsx("pre",{className:"bg-zinc-800 rounded-lg p-3 text-xs text-zinc-300 font-mono overflow-x-auto whitespace-pre-wrap",children:a.requestBody})]}),a.responseBody&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-xs font-semibold text-zinc-500 uppercase tracking-wide mb-2",children:"Response Body"}),e.jsx("pre",{className:"bg-zinc-800 rounded-lg p-3 text-xs text-zinc-300 font-mono overflow-x-auto whitespace-pre-wrap",children:a.responseBody})]}),!a.requestBody&&!a.responseBody&&e.jsx("p",{className:"text-xs text-zinc-600",children:"No body data available"})]}),d==="timing"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"grid grid-cols-2 gap-3",children:[{label:"Total Duration",value:u(a.duration)},{label:"Status Code",value:String(a.statusCode??"‚Äî")},{label:"Request Size",value:m(a.requestSize)},{label:"Response Size",value:m(a.responseSize)},{label:"Content-Type",value:a.contentType||"‚Äî"},{label:"Timestamp",value:new Date(a.timestamp).toLocaleTimeString()}].map(t=>e.jsxs("div",{className:"rounded-lg bg-zinc-900 border border-zinc-800 p-3",children:[e.jsx("p",{className:"text-xs text-zinc-500 mb-1",children:t.label}),e.jsx("p",{className:"text-sm font-mono text-white",children:t.value})]},t.label))}),e.jsxs("div",{className:"rounded-lg bg-zinc-900 border border-zinc-800 p-4",children:[e.jsx("h3",{className:"text-xs font-semibold text-zinc-500 uppercase tracking-wide mb-3",children:"Waterfall"}),e.jsx("div",{className:"space-y-2",children:[{name:"DNS Lookup",pct:5,color:"bg-emerald-500"},{name:"TCP Connect",pct:10,color:"bg-blue-500"},{name:"Request Sent",pct:5,color:"bg-amber-500"},{name:"Waiting (TTFB)",pct:60,color:"bg-indigo-500"},{name:"Content Download",pct:20,color:"bg-violet-500"}].map(t=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-xs text-zinc-500 w-36 shrink-0",children:t.name}),e.jsx("div",{className:"flex-1 h-3 bg-zinc-800 rounded-full overflow-hidden",children:e.jsx("div",{className:i("h-full rounded-full",t.color),style:{width:`${t.pct}%`},role:"presentation"})}),e.jsx("span",{className:"text-xs font-mono text-zinc-400 w-16 text-right",children:u(Math.round(a.duration*t.pct/100))})]},t.name))})]})]})]})]}):e.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center",children:[e.jsx("p",{className:"text-5xl mb-4",children:"üåê"}),e.jsx("p",{className:"text-lg font-semibold text-white",children:"Select a request"}),e.jsx("p",{className:"text-sm text-zinc-500 mt-1",children:"Click a network request to inspect headers, body, and timing"})]})})]})]})}export{H as default};
