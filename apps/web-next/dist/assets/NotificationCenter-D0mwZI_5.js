import{r,j as e,c as x}from"./index-DJEtmG8k.js";const D=[{severity:"critical",category:"agent",title:"Agent unresponsive â€” Zara",body:"Zara has not responded to its last 3 heartbeats. Auto-restart queued.",agentName:"Zara",agentEmoji:"ğŸ¦",action:{label:"Force Restart",kind:"retry"},meta:"ops/zara"},{severity:"warning",category:"model",title:"Token budget at 87% â€” Opus 4.6",body:"Daily token budget for claude-opus-4-6 is 87% consumed. Current pace hits cap ~3 AM.",action:{label:"View Usage",kind:"view"},meta:"claude-opus-4-6"},{severity:"success",category:"cron",title:"Cron job completed â€” UX Work Check",body:"Hourly UX work check (Luis) completed in 14.2s. 17 views shipped.",agentName:"Luis",agentEmoji:"ğŸ¨",meta:"cron:e61f3c46"},{severity:"info",category:"session",title:"New session opened â€” Xavier",body:"Xavier started a new reasoning session. Topic: UX review for Horizon UI.",agentName:"Xavier",agentEmoji:"ğŸ›ï¸",action:{label:"Join Session",kind:"open"}},{severity:"success",category:"agent",title:"PR #44 opened â€” luis/ui-redesign",body:"Product & UI megabranch is ready for review. 17 views, full P2 polish, WCAG 2.1 AA.",agentName:"Luis",agentEmoji:"ğŸ¨",action:{label:"View PR",kind:"open"},meta:"dgarson/clawdbot#44"},{severity:"warning",category:"agent",title:"Agent idle â€” Piper",body:"Piper has been idle for 47 minutes with no active tasks or pending messages.",agentName:"Piper",agentEmoji:"ğŸ“",action:{label:"Assign Task",kind:"view"}},{severity:"info",category:"file",title:"Workspace snapshot created",body:"Auto-snapshot of /workspace/luis created (23 files, 4.2 MB). Kept for 7 days.",meta:"2026-02-21T22:04"},{severity:"success",category:"system",title:"Gateway daemon healthy",body:"All 3 nodes connected. Latency p99: 82 ms. Uptime: 14d 6h.",meta:"gateway:v2.4.1"},{severity:"info",category:"session",title:"Session archived â€” Roman sprint planning",body:"Session auto-archived after 2h inactivity. 847 messages, 14 tool calls.",agentName:"Roman",agentEmoji:"ğŸ—ï¸"},{severity:"critical",category:"system",title:"Disk usage warning â€” 91% full",body:"/Users/openclaw: 91% capacity used (456 GB / 500 GB). Clean up workspace or expand storage.",action:{label:"View Files",kind:"view"},pinned:!0},{severity:"info",category:"cron",title:"Scheduled job queued â€” Daily digest",body:"Daily digest cron will fire in 8h 54m. Recipients: Xavier, Tim, Joey.",meta:"cron:daily-digest"},{severity:"success",category:"model",title:"New model available â€” claude-haiku-4-5",body:"claude-haiku-4-5 is now available in your account. 35% faster than 4.0 at same price.",action:{label:"Try Model",kind:"open"}}];function I(){const s=Date.now();return D.map((n,l)=>({...n,id:`notif-${l}`,timestamp:new Date(s-l*4.7*60*1e3),read:l>4}))}const y={critical:{label:"Critical",dot:"bg-red-500",badge:"bg-red-500/15 text-red-400 border border-red-500/30",ring:"ring-1 ring-red-500/30",icon:"ğŸš¨"},warning:{label:"Warning",dot:"bg-amber-400",badge:"bg-amber-400/15 text-amber-400 border border-amber-400/30",ring:"ring-1 ring-amber-400/20",icon:"âš ï¸"},success:{label:"Success",dot:"bg-emerald-500",badge:"bg-emerald-500/15 text-emerald-400 border border-emerald-500/30",ring:"",icon:"âœ…"},info:{label:"Info",dot:"bg-blue-400",badge:"bg-blue-400/15 text-blue-400 border border-blue-400/30",ring:"",icon:"â„¹ï¸"}},b={agent:{label:"Agent",icon:"ğŸ¤–"},system:{label:"System",icon:"âš™ï¸"},cron:{label:"Cron",icon:"â°"},model:{label:"Model",icon:"ğŸ§ "},session:{label:"Session",icon:"ğŸŒ³"},file:{label:"File",icon:"ğŸ“"}};function C(s){const n=Date.now()-s.getTime(),l=Math.floor(n/6e4);if(l<1)return"just now";if(l<60)return`${l}m ago`;const c=Math.floor(l/60);return c<24?`${c}h ago`:`${Math.floor(c/24)}d ago`}function L({notif:s,selected:n,onSelect:l,onRead:c,onDismiss:o,onPin:m}){const d=y[s.severity],g=b[s.category];return e.jsx("button",{type:"button",onClick:()=>{l(),s.read||c(s.id)},className:x("w-full text-left px-4 py-3 border-b border-zinc-800/60 transition-colors","hover:bg-zinc-800/40 focus-visible:outline-none focus-visible:bg-zinc-800/60",n&&"bg-zinc-800/60",!s.read&&"bg-zinc-900",d.ring),"aria-selected":n,"aria-label":`${s.severity}: ${s.title}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 mt-1.5",children:s.read?e.jsx("span",{className:"block w-2 h-2","aria-hidden":!0}):e.jsx("span",{className:x("block w-2 h-2 rounded-full",d.dot),"aria-hidden":!0})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-0.5 flex-wrap",children:[e.jsx("span",{className:x("text-xs rounded-full px-2 py-0.5 font-medium leading-none",d.badge),children:d.label}),e.jsxs("span",{className:"text-xs text-zinc-500",children:[g.icon," ",g.label]}),s.agentName&&e.jsxs("span",{className:"text-xs text-zinc-400",children:[s.agentEmoji," ",s.agentName]}),s.pinned&&e.jsx("span",{className:"text-xs text-amber-400","aria-label":"Pinned",children:"ğŸ“Œ"}),e.jsx("span",{className:"ml-auto text-xs text-zinc-500 flex-shrink-0",children:C(s.timestamp)})]}),e.jsx("p",{className:x("text-sm font-semibold leading-snug",s.read?"text-zinc-300":"text-white"),children:s.title}),e.jsx("p",{className:"text-xs text-zinc-500 mt-0.5 line-clamp-2 leading-relaxed",children:s.body}),s.meta&&e.jsx("p",{className:"text-xs text-zinc-600 mt-1 font-mono",children:s.meta})]})]})})}function P({notif:s,onRead:n,onDismiss:l,onPin:c}){if(!s)return e.jsx("div",{className:"flex-1 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-5xl mb-3",children:"ğŸ””"}),e.jsx("p",{className:"text-zinc-400 text-sm font-medium",children:"Select a notification"}),e.jsx("p",{className:"text-zinc-600 text-xs mt-1",children:"Click any item to see details and actions"})]})});const o=y[s.severity],m=b[s.category];return e.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[e.jsxs("div",{className:"px-6 pt-6 pb-4 border-b border-zinc-800",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[e.jsxs("span",{className:x("text-xs rounded-full px-2.5 py-1 font-semibold",o.badge),children:[o.icon," ",o.label]}),e.jsxs("span",{className:"text-sm text-zinc-400",children:[m.icon," ",m.label]}),s.pinned&&e.jsx("span",{className:"text-sm text-amber-400",children:"ğŸ“Œ Pinned"})]}),e.jsx("h2",{className:"text-lg font-bold text-white leading-snug",children:s.title}),e.jsx("p",{className:"text-xs text-zinc-500 mt-1",children:s.timestamp.toLocaleString()})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-4",children:[s.agentName&&e.jsxs("div",{className:"flex items-center gap-3 mb-4 p-3 rounded-lg bg-zinc-800/50",children:[e.jsx("span",{className:"text-2xl","aria-hidden":!0,children:s.agentEmoji}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-zinc-200",children:s.agentName}),e.jsx("p",{className:"text-xs text-zinc-500",children:"Source agent"})]})]}),e.jsx("p",{className:"text-sm text-zinc-300 leading-relaxed mb-4",children:s.body}),s.meta&&e.jsxs("div",{className:"p-3 rounded-lg bg-zinc-800/40 mb-4",children:[e.jsx("p",{className:"text-xs text-zinc-500 font-medium mb-1 uppercase tracking-wide",children:"Identifier"}),e.jsx("code",{className:"text-xs text-zinc-300 font-mono",children:s.meta})]}),e.jsxs("div",{className:"p-3 rounded-lg bg-zinc-800/40",children:[e.jsx("p",{className:"text-xs text-zinc-500 font-medium mb-2 uppercase tracking-wide",children:"Event Details"}),e.jsxs("dl",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("dt",{className:"text-zinc-500",children:"Fired"}),e.jsx("dd",{className:"text-zinc-300",children:s.timestamp.toLocaleTimeString()})]}),e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("dt",{className:"text-zinc-500",children:"Relative"}),e.jsx("dd",{className:"text-zinc-300",children:C(s.timestamp)})]}),e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("dt",{className:"text-zinc-500",children:"Category"}),e.jsx("dd",{className:"text-zinc-300",children:m.label})]}),e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("dt",{className:"text-zinc-500",children:"Read"}),e.jsx("dd",{className:s.read?"text-emerald-400":"text-amber-400",children:s.read?"Yes":"Unread"})]})]})]})]}),e.jsxs("div",{className:"px-6 pb-6 pt-2 border-t border-zinc-800 flex flex-col gap-2",children:[s.action&&e.jsx("button",{type:"button",className:"w-full py-2.5 rounded-lg bg-violet-600 hover:bg-violet-500 text-white text-sm font-semibold transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-violet-400",children:s.action.label}),e.jsxs("div",{className:"flex gap-2",children:[!s.read&&e.jsx("button",{type:"button",onClick:()=>n(s.id),className:"flex-1 py-2 rounded-lg bg-zinc-800 hover:bg-zinc-700 text-zinc-300 text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-zinc-500",children:"Mark read"}),e.jsx("button",{type:"button",onClick:()=>c(s.id),className:x("flex-1 py-2 rounded-lg text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2",s.pinned?"bg-amber-400/20 text-amber-400 hover:bg-amber-400/30 focus-visible:ring-amber-400":"bg-zinc-800 hover:bg-zinc-700 text-zinc-300 focus-visible:ring-zinc-500"),children:s.pinned?"Unpin":"Pin"}),e.jsx("button",{type:"button",onClick:()=>l(s.id),className:"flex-1 py-2 rounded-lg bg-zinc-800 hover:bg-red-500/20 text-zinc-400 hover:text-red-400 text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-red-500",children:"Dismiss"})]})]})]})}function M(){const[s,n]=r.useState(I),[l,c]=r.useState(null),[o,m]=r.useState("all"),[d,g]=r.useState("all"),[h,S]=r.useState("all"),[v,j]=r.useState(""),p=r.useRef(null);r.useEffect(()=>{const t=[{severity:"info",category:"session",title:"Session heartbeat â€” Tim",body:"Tim's architecture review session is still active (112 minutes).",agentName:"Tim",agentEmoji:"ğŸ›ï¸"},{severity:"success",category:"cron",title:"Cron completed â€” Agent mail drain",body:"agent-mail.sh drain: 0 new messages in inbox.",meta:"cron:agent-mail"}];let i=0;const a=setInterval(()=>{const u=t[i%t.length];i++,n(A=>[{...u,id:`live-${Date.now()}`,timestamp:new Date,read:!1},...A])},45e3);return()=>clearInterval(a)},[]),r.useEffect(()=>{function t(i){var a,u;(i.metaKey||i.ctrlKey)&&i.key==="f"&&(i.preventDefault(),(a=p.current)==null||a.focus()),i.key==="Escape"&&document.activeElement===p.current&&(j(""),(u=p.current)==null||u.blur())}return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},[]);const N=r.useCallback(t=>{n(i=>i.map(a=>a.id===t?{...a,read:!0}:a))},[]),E=r.useCallback(()=>{n(t=>t.map(i=>({...i,read:!0})))},[]),z=r.useCallback(t=>{n(i=>i.filter(a=>a.id!==t)),c(i=>i===t?null:i)},[]),w=r.useCallback(t=>{n(i=>i.map(a=>a.id===t?{...a,pinned:!a.pinned}:a))},[]),k=s.filter(t=>{var i;if(o!=="all"&&t.severity!==o||d==="unread"&&t.read||d==="read"&&!t.read||h!=="all"&&t.category!==h)return!1;if(v){const a=v.toLowerCase();if(!t.title.toLowerCase().includes(a)&&!t.body.toLowerCase().includes(a)&&!((i=t.agentName)!=null&&i.toLowerCase().includes(a)))return!1}return!0}).sort((t,i)=>t.pinned&&!i.pinned?-1:!t.pinned&&i.pinned?1:i.timestamp.getTime()-t.timestamp.getTime()),f=s.filter(t=>!t.read).length,R=s.find(t=>t.id===l)??null,T=[{value:"all",label:"All",color:"text-zinc-400"},{value:"critical",label:"Critical",color:"text-red-400"},{value:"warning",label:"Warning",color:"text-amber-400"},{value:"success",label:"Success",color:"text-emerald-400"},{value:"info",label:"Info",color:"text-blue-400"}];return e.jsxs("div",{className:"flex flex-col h-full bg-zinc-950 text-zinc-100",children:[e.jsxs("header",{className:"flex items-center justify-between px-6 py-4 border-b border-zinc-800 flex-shrink-0",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h1",{className:"text-xl font-bold text-white",children:"Notification Center"}),f>0&&e.jsx("span",{className:"text-xs bg-violet-600 text-white rounded-full px-2 py-0.5 font-bold","aria-label":`${f} unread`,children:f})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[f>0&&e.jsx("button",{type:"button",onClick:E,className:"text-xs text-zinc-400 hover:text-white px-3 py-1.5 rounded-lg hover:bg-zinc-800 transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-zinc-500",children:"Mark all read"}),e.jsx("button",{type:"button",onClick:()=>n(t=>t.filter(i=>!!(i.pinned||!i.read))),className:"text-xs text-zinc-400 hover:text-red-400 px-3 py-1.5 rounded-lg hover:bg-zinc-800 transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-zinc-500",children:"Clear read"})]})]}),e.jsxs("div",{className:"flex gap-4 px-6 py-3 border-b border-zinc-800 flex-shrink-0 overflow-x-auto",children:[["critical","warning","success","info"].map(t=>{const i=s.filter(u=>u.severity===t).length,a=y[t];return e.jsxs("div",{className:"flex items-center gap-1.5 flex-shrink-0",children:[e.jsx("span",{className:x("w-2 h-2 rounded-full flex-shrink-0",a.dot),"aria-hidden":!0}),e.jsx("span",{className:"text-xs font-semibold text-zinc-300",children:i}),e.jsx("span",{className:"text-xs text-zinc-500",children:a.label})]},t)}),e.jsxs("div",{className:"ml-auto flex items-center gap-1.5 flex-shrink-0",children:[e.jsx("span",{className:"text-xs text-zinc-500",children:"Total:"}),e.jsx("span",{className:"text-xs font-semibold text-zinc-300",children:s.length})]})]}),e.jsxs("div",{className:"flex flex-1 min-h-0",children:[e.jsxs("div",{className:"w-96 flex-shrink-0 flex flex-col border-r border-zinc-800 overflow-hidden",children:[e.jsx("div",{className:"px-3 pt-3 pb-2 border-b border-zinc-800/60 flex-shrink-0",children:e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-zinc-500 text-sm select-none","aria-hidden":!0,children:"ğŸ”"}),e.jsx("input",{ref:p,type:"text",value:v,onChange:t=>j(t.target.value),placeholder:"Search notificationsâ€¦ (âŒ˜F)",className:"w-full bg-zinc-800 border border-zinc-700 rounded-lg pl-9 pr-3 py-2 text-sm text-zinc-200 placeholder-zinc-500 focus:outline-none focus:ring-2 focus:ring-violet-500","aria-label":"Search notifications"})]})}),e.jsx("div",{className:"flex gap-1 px-3 py-2 border-b border-zinc-800/60 overflow-x-auto flex-shrink-0",children:T.map(t=>e.jsx("button",{type:"button",onClick:()=>m(t.value),className:x("flex-shrink-0 text-xs px-2.5 py-1 rounded-full font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-violet-500",o===t.value?"bg-violet-600 text-white":"bg-zinc-800 text-zinc-400 hover:bg-zinc-700"),"aria-pressed":o===t.value,children:t.label},t.value))}),e.jsxs("div",{className:"flex gap-2 px-3 py-2 border-b border-zinc-800/60 overflow-x-auto flex-shrink-0",children:[["all","unread","read"].map(t=>e.jsx("button",{type:"button",onClick:()=>g(t),className:x("flex-shrink-0 text-xs px-2.5 py-1 rounded-full font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-violet-500 capitalize",d===t?"bg-zinc-600 text-white":"bg-zinc-800 text-zinc-400 hover:bg-zinc-700"),"aria-pressed":d===t,children:t},t)),e.jsx("div",{className:"w-px bg-zinc-700 mx-1 flex-shrink-0","aria-hidden":!0}),e.jsxs("select",{value:h,onChange:t=>S(t.target.value),className:"flex-shrink-0 text-xs bg-zinc-800 text-zinc-300 border border-zinc-700 rounded-lg px-2 py-1 focus:outline-none focus:ring-2 focus:ring-violet-500","aria-label":"Filter by category",children:[e.jsx("option",{value:"all",children:"All categories"}),Object.keys(b).map(t=>e.jsxs("option",{value:t,children:[b[t].icon," ",b[t].label]},t))]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto",role:"listbox","aria-label":"Notifications",children:k.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-center px-4",children:[e.jsx("div",{className:"text-4xl mb-3",children:"ğŸ‰"}),e.jsx("p",{className:"text-zinc-400 text-sm font-medium",children:"All clear"}),e.jsx("p",{className:"text-zinc-600 text-xs mt-1",children:"No notifications match your filters"})]}):k.map(t=>e.jsx(L,{notif:t,selected:t.id===l,onSelect:()=>c(t.id),onRead:N,onDismiss:z,onPin:w},t.id))})]}),e.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:e.jsx(P,{notif:R,onRead:N,onDismiss:z,onPin:w})})]})]})}export{M as default};
