import{r as v,j as e,c}from"./index-BfF2f2Rk.js";const x=[{name:"Luis",color:"#6366f1",bgClass:"bg-indigo-500",textClass:"text-indigo-400",borderClass:"border-indigo-500"},{name:"Xavier",color:"#f59e0b",bgClass:"bg-amber-500",textClass:"text-amber-400",borderClass:"border-amber-500"},{name:"Piper",color:"#ec4899",bgClass:"bg-pink-500",textClass:"text-pink-400",borderClass:"border-pink-500"},{name:"Quinn",color:"#10b981",bgClass:"bg-emerald-500",textClass:"text-emerald-400",borderClass:"border-emerald-500"},{name:"Reed",color:"#3b82f6",bgClass:"bg-blue-500",textClass:"text-blue-400",borderClass:"border-blue-500"},{name:"Wes",color:"#a855f7",bgClass:"bg-purple-500",textClass:"text-purple-400",borderClass:"border-purple-500"}],C=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],P=["AM","PM"];function T(s){const i=new Date(s.getFullYear(),s.getMonth(),s.getDate()),a=i.getDay(),b=a===0?-6:1-a;return i.setDate(i.getDate()+b),i}function k(s,i){const a=new Date(s);return a.setDate(a.getDate()+i),a}function A(s){return`${["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][s.getMonth()]} ${s.getDate()}`}function W(s,i){return s.getFullYear()===i.getFullYear()&&s.getMonth()===i.getMonth()&&s.getDate()===i.getDate()}function Y(s){return`${s.getFullYear()}-${s.getMonth()}-${s.getDate()}`}function O(){const s=[];for(let i=0;i<7;i++)for(let a=0;a<2;a++){const b=i*2+a;s.push({day:i,period:P[a],agentIndex:b%x.length})}return s}function L(s){return s.getHours()<12?"AM":"PM"}function _(s){return s.getHours()<12?"Today 12:00 PM":"Tomorrow 12:00 AM"}function R(){const s=new Date,[i,a]=v.useState(0),[b,$]=v.useState({}),[n,u]=v.useState(null),[f,p]=v.useState(null),I=T(s),N=k(I,i*7),z=Y(N),y=b[z]??O(),j=i===0,M=j?(s.getDay()+6)%7:-1,g=L(s),D=j?y.find(t=>t.day===M&&t.period===g):null,m=D?x[D.agentIndex]:null,E=m?[m,...x.filter(t=>t.name!==m.name)]:[...x];function F(t,r,l){const h=(b[z]??O()).map(o=>o.day===t&&o.period===r?{...o,agentIndex:l}:o);$(o=>({...o,[z]:h})),u(null),p(null)}function w(t,r){return y.find(l=>l.day===t&&l.period===r)??{day:t,period:r,agentIndex:0}}function B(t,r){(n==null?void 0:n.day)===t&&(n==null?void 0:n.period)===r?(u(null),p(null)):(u({day:t,period:r}),p(null))}return e.jsxs("div",{className:"min-h-screen bg-zinc-950 text-white p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"On-Call Scheduler"}),e.jsx("p",{className:"text-sm text-zinc-400 mt-1",children:"Manage rotation coverage for the squad"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>{a(t=>t-1),u(null)},className:"px-3 py-1.5 rounded-md bg-zinc-800 border border-zinc-700 text-zinc-300 hover:bg-zinc-700 hover:text-white text-sm font-medium transition-colors",children:"← Prev"}),e.jsxs("div",{className:"text-sm font-medium text-zinc-300 min-w-[180px] text-center",children:[A(N)," – ",A(k(N,6)),j&&e.jsx("span",{className:"ml-2 text-xs text-indigo-400 font-semibold",children:"(This week)"})]}),e.jsx("button",{onClick:()=>{a(t=>t+1),u(null)},className:"px-3 py-1.5 rounded-md bg-zinc-800 border border-zinc-700 text-zinc-300 hover:bg-zinc-700 hover:text-white text-sm font-medium transition-colors",children:"Next →"}),!j&&e.jsx("button",{onClick:()=>{a(0),u(null)},className:"px-3 py-1.5 rounded-md bg-indigo-600 text-white hover:bg-indigo-500 text-sm font-medium transition-colors",children:"Today"})]})]}),e.jsxs("div",{className:"flex gap-6",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl overflow-hidden",children:[e.jsxs("div",{className:"grid grid-cols-[80px_repeat(7,1fr)] border-b border-zinc-800",children:[e.jsx("div",{className:"p-3 text-xs font-semibold text-zinc-500 uppercase",children:"Shift"}),C.map((t,r)=>{const l=k(N,r),d=W(l,s);return e.jsxs("div",{className:c("p-3 text-center border-l border-zinc-800",d?"bg-indigo-500/10":""),children:[e.jsx("div",{className:c("text-xs font-semibold uppercase",d?"text-indigo-400":"text-zinc-400"),children:t}),e.jsx("div",{className:c("text-lg font-bold mt-0.5",d?"text-indigo-300":"text-zinc-200"),children:l.getDate()})]},t)})]}),P.map(t=>e.jsxs("div",{className:"grid grid-cols-[80px_repeat(7,1fr)] border-b border-zinc-800 last:border-b-0",children:[e.jsxs("div",{className:"p-3 flex items-center justify-center",children:[e.jsx("span",{className:"text-xs font-bold text-zinc-500 uppercase tracking-wider",children:t}),e.jsx("span",{className:"ml-1.5 text-[10px] text-zinc-600",children:t==="AM"?"0–12":"12–24"})]}),C.map((r,l)=>{const d=w(l,t),h=x[d.agentIndex],o=l===M&&j,S=o&&t===g,H=(n==null?void 0:n.day)===l&&(n==null?void 0:n.period)===t;return e.jsxs("button",{onClick:()=>B(l,t),className:c("border-l border-zinc-800 p-2 min-h-[72px] transition-all text-left relative group",o?"bg-indigo-500/5":"bg-zinc-900",H?"ring-2 ring-indigo-500 ring-inset bg-zinc-800":"",S?"bg-indigo-500/10":"","hover:bg-zinc-800/80 cursor-pointer"),children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:c("w-2.5 h-2.5 rounded-full shrink-0",h.bgClass)}),e.jsx("span",{className:c("text-sm font-medium truncate",h.textClass),children:h.name})]}),S&&e.jsxs("div",{className:"mt-1.5 flex items-center gap-1",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-400 animate-pulse"}),e.jsx("span",{className:"text-[10px] text-green-400 font-semibold uppercase",children:"Live"})]}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity bg-zinc-900/60",children:e.jsx("span",{className:"text-[10px] text-zinc-400 font-medium",children:"Click to swap"})})]},`${l}-${t}`)})]},t))]}),n&&e.jsxs("div",{className:"mt-4 bg-zinc-900 border border-zinc-800 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-sm font-semibold text-white",children:["Swap Shift — ",C[n.day]," ",n.period]}),e.jsxs("p",{className:"text-xs text-zinc-500 mt-0.5",children:["Currently assigned: ",x[w(n.day,n.period).agentIndex].name]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>{p(f?null:n)},className:c("px-3 py-1 rounded-md text-xs font-medium border transition-colors",f?"bg-red-500/20 border-red-500/50 text-red-400":"bg-zinc-800 border-zinc-700 text-zinc-400 hover:text-white"),children:f?"Cancel Override":"Override"}),e.jsx("button",{onClick:()=>{u(null),p(null)},className:"px-3 py-1 rounded-md bg-zinc-800 border border-zinc-700 text-zinc-400 hover:text-white text-xs font-medium transition-colors",children:"Close"})]})]}),e.jsx("div",{className:"grid grid-cols-6 gap-2",children:x.map((t,r)=>{const d=w(n.day,n.period).agentIndex===r;return e.jsxs("button",{onClick:()=>{d||F(n.day,n.period,r)},disabled:d,className:c("flex flex-col items-center gap-2 p-3 rounded-lg border transition-all",d?"border-zinc-700 bg-zinc-800/50 opacity-50 cursor-not-allowed":f?"border-red-500/30 bg-red-500/5 hover:bg-red-500/10 hover:border-red-500/50 cursor-pointer":"border-zinc-700 bg-zinc-800/50 hover:bg-zinc-800 hover:border-zinc-600 cursor-pointer"),children:[e.jsx("div",{className:c("w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold text-white",t.bgClass),children:t.name[0]}),e.jsx("span",{className:c("text-xs font-medium",d?"text-zinc-600":"text-zinc-300"),children:t.name}),d&&e.jsx("span",{className:"text-[10px] text-zinc-600",children:"Current"})]},t.name)})}),f&&e.jsxs("div",{className:"mt-3 flex items-center gap-2 p-2 rounded-md bg-red-500/10 border border-red-500/20",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-red-400"}),e.jsx("span",{className:"text-xs text-red-400",children:"Override mode: select an agent to force-assign this shift"})]})]}),e.jsxs("div",{className:"mt-4 bg-zinc-900 border border-zinc-800 rounded-xl p-4",children:[e.jsx("h3",{className:"text-xs font-semibold text-zinc-500 uppercase tracking-wider mb-3",children:"Agent Legend"}),e.jsx("div",{className:"flex flex-wrap gap-4",children:x.map(t=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:c("w-3 h-3 rounded-full",t.bgClass)}),e.jsx("span",{className:"text-sm text-zinc-300 font-medium",children:t.name})]},t.name))})]})]}),e.jsxs("div",{className:"w-72 shrink-0 space-y-4",children:[e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl p-5",children:[e.jsx("h2",{className:"text-xs font-semibold text-zinc-500 uppercase tracking-wider mb-4",children:"On Call Now"}),m?e.jsxs("div",{className:"flex flex-col items-center text-center",children:[e.jsx("div",{className:c("w-16 h-16 rounded-full flex items-center justify-center text-2xl font-bold text-white mb-3",m.bgClass),children:m.name[0]}),e.jsx("div",{className:c("text-xl font-bold",m.textClass),children:m.name}),e.jsxs("div",{className:"flex items-center gap-1.5 mt-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-green-400 animate-pulse"}),e.jsx("span",{className:"text-xs text-green-400 font-semibold",children:"Active"})]}),e.jsxs("div",{className:"mt-3 w-full pt-3 border-t border-zinc-800",children:[e.jsx("div",{className:"text-xs text-zinc-500",children:"Current period"}),e.jsx("div",{className:"text-sm font-semibold text-zinc-200 mt-0.5",children:g==="AM"?"00:00 – 12:00":"12:00 – 24:00"})]})]}):e.jsxs("div",{className:"text-center py-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-zinc-800 flex items-center justify-center mx-auto mb-3",children:e.jsx("span",{className:"text-2xl text-zinc-600",children:"?"})}),e.jsx("p",{className:"text-sm text-zinc-500",children:"Navigate to current week"})]})]}),e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl p-5",children:[e.jsx("h2",{className:"text-xs font-semibold text-zinc-500 uppercase tracking-wider mb-3",children:"Next Handoff"}),e.jsx("div",{className:"text-lg font-bold text-white",children:_(s)}),e.jsx("div",{className:"mt-2 text-xs text-zinc-500",children:g==="AM"?"PM shift begins at noon":"AM shift begins at midnight"}),e.jsx("div",{className:"mt-3 h-1.5 rounded-full bg-zinc-800 overflow-hidden",children:e.jsx("div",{className:"h-full rounded-full bg-indigo-500 transition-all",style:{width:`${s.getHours()%12/12*100}%`}})}),e.jsxs("div",{className:"flex justify-between mt-1",children:[e.jsx("span",{className:"text-[10px] text-zinc-600",children:g==="AM"?"00:00":"12:00"}),e.jsx("span",{className:"text-[10px] text-zinc-600",children:g==="AM"?"12:00":"24:00"})]})]}),e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl p-5",children:[e.jsx("h2",{className:"text-xs font-semibold text-zinc-500 uppercase tracking-wider mb-3",children:"Escalation Chain"}),e.jsx("div",{className:"space-y-2",children:E.map((t,r)=>e.jsxs("div",{className:c("flex items-center gap-3 p-2 rounded-lg transition-colors",r===0?"bg-zinc-800/80":"bg-transparent"),children:[e.jsx("div",{className:"text-xs font-mono text-zinc-600 w-4 text-right",children:r===0?"→":`L${r}`}),e.jsx("div",{className:c("w-6 h-6 rounded-full flex items-center justify-center text-[10px] font-bold text-white",t.bgClass),children:t.name[0]}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsx("div",{className:c("text-sm font-medium truncate",r===0?"text-white":"text-zinc-400"),children:t.name})}),r===0&&e.jsx("span",{className:"text-[10px] font-semibold text-indigo-400 uppercase",children:"Primary"})]},t.name))})]}),e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl p-5",children:[e.jsx("h2",{className:"text-xs font-semibold text-zinc-500 uppercase tracking-wider mb-3",children:"Week Coverage"}),e.jsx("div",{className:"space-y-2",children:x.map((t,r)=>{const l=y.filter(h=>h.agentIndex===r).length,d=l/14*100;return e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"text-xs text-zinc-400",children:t.name}),e.jsxs("span",{className:"text-xs text-zinc-500",children:[l," shifts"]})]}),e.jsx("div",{className:"h-1.5 rounded-full bg-zinc-800 overflow-hidden",children:e.jsx("div",{className:c("h-full rounded-full transition-all",t.bgClass),style:{width:`${d}%`}})})]},t.name)})})]})]})]})]})}export{R as default};
