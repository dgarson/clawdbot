import{r as a,j as e,c as b}from"./index-CszENDvb.js";const j=["agent","session","file","tool","model","webhook","api-key","config"],p=["read","write","execute","admin","delete"],h=[{agentId:"luis-01",agentName:"Luis",agentEmoji:"üèóÔ∏è",role:"owner",lastModified:"2026-02-20T10:00:00Z",permissions:j.map(n=>({resourceType:n,resourceId:"*",resourceName:`All ${n}s`,actions:[...p],grantedAt:"2026-01-01T00:00:00Z",grantedBy:"system"}))},{agentId:"xavier-02",agentName:"Xavier",agentEmoji:"‚ö°",role:"admin",lastModified:"2026-02-21T15:30:00Z",permissions:[{resourceType:"agent",resourceId:"*",resourceName:"All agents",actions:["read","write","execute"],grantedAt:"2026-01-01T00:00:00Z",grantedBy:"Luis"},{resourceType:"session",resourceId:"*",resourceName:"All sessions",actions:["read","write","execute"],grantedAt:"2026-01-01T00:00:00Z",grantedBy:"Luis"},{resourceType:"tool",resourceId:"*",resourceName:"All tools",actions:["read","write","execute"],grantedAt:"2026-01-01T00:00:00Z",grantedBy:"Luis"},{resourceType:"model",resourceId:"*",resourceName:"All models",actions:["admin"],grantedAt:"2026-01-01T00:00:00Z",grantedBy:"Luis"},{resourceType:"config",resourceId:"*",resourceName:"System Config",actions:["read"],inherited:!0,grantedAt:"2026-01-01T00:00:00Z",grantedBy:"system"}]},{agentId:"stephan-03",agentName:"Stephan",agentEmoji:"üß¨",role:"member",lastModified:"2026-02-19T09:15:00Z",permissions:[{resourceType:"agent",resourceId:"*",resourceName:"All agents",actions:["read"],grantedAt:"2026-01-05T00:00:00Z",grantedBy:"Xavier"},{resourceType:"session",resourceId:"*",resourceName:"All sessions",actions:["read"],grantedAt:"2026-01-05T00:00:00Z",grantedBy:"Xavier"},{resourceType:"file",resourceId:"*",resourceName:"All files",actions:["read","write"],grantedAt:"2026-01-05T00:00:00Z",grantedBy:"Xavier"},{resourceType:"tool",resourceId:"*",resourceName:"All tools",actions:["read"],inherited:!0,grantedAt:"2026-01-01T00:00:00Z",grantedBy:"system"}]},{agentId:"piper-04",agentName:"Piper",agentEmoji:"üé®",role:"member",lastModified:"2026-02-22T00:45:00Z",permissions:[{resourceType:"session",resourceId:"*",resourceName:"All sessions",actions:["read","write","execute"],grantedAt:"2026-01-10T00:00:00Z",grantedBy:"Luis"},{resourceType:"tool",resourceId:"*",resourceName:"All tools",actions:["read","write","execute"],grantedAt:"2026-01-10T00:00:00Z",grantedBy:"Luis"},{resourceType:"file",resourceId:"*",resourceName:"All files",actions:["read"],grantedAt:"2026-01-10T00:00:00Z",grantedBy:"Luis"},{resourceType:"agent",resourceId:"*",resourceName:"All agents",actions:["read"],inherited:!0,grantedAt:"2026-01-01T00:00:00Z",grantedBy:"system"}]},{agentId:"tim-05",agentName:"Tim",agentEmoji:"üèõÔ∏è",role:"admin",lastModified:"2026-02-18T14:20:00Z",permissions:[{resourceType:"webhook",resourceId:"*",resourceName:"All webhooks",actions:["read","write","execute","admin","delete"],grantedAt:"2026-01-02T00:00:00Z",grantedBy:"Luis"},{resourceType:"api-key",resourceId:"*",resourceName:"All API keys",actions:["read","write","execute","admin","delete"],grantedAt:"2026-01-02T00:00:00Z",grantedBy:"Luis"},{resourceType:"config",resourceId:"*",resourceName:"System Config",actions:["read","write","execute","admin","delete"],grantedAt:"2026-01-02T00:00:00Z",grantedBy:"Luis"},{resourceType:"agent",resourceId:"*",resourceName:"All agents",actions:["read"],grantedAt:"2026-01-02T00:00:00Z",grantedBy:"Luis"}]}],N=({role:n})=>{const g={owner:"bg-indigo-500/20 text-indigo-400 border-indigo-500/30",admin:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30",member:"bg-zinc-500/20 text-zinc-400 border-zinc-500/30",guest:"bg-amber-500/20 text-amber-400 border-amber-500/30"};return e.jsx("span",{className:b("px-2 py-0.5 rounded text-[10px] font-medium uppercase tracking-wider border",g[n]),children:n})};function Z(){const[n,g]=a.useState(h),[l,v]=a.useState(h[0].agentId),[o,m]=a.useState(!1),[x,u]=a.useState([]),d=a.useMemo(()=>n.find(s=>s.agentId===l)||n[0],[n,l]),y=a.useCallback(()=>{u(JSON.parse(JSON.stringify(d.permissions))),m(!0)},[d]),w=a.useCallback(()=>{m(!1),u([])},[]),A=a.useCallback(()=>{g(s=>s.map(i=>i.agentId===l?{...i,permissions:x,lastModified:new Date().toISOString()}:i)),m(!1),u([])},[l,x]),I=a.useCallback((s,i)=>{o&&u(t=>{const r=t.findIndex(c=>c.resourceType===s);if(r>-1){if(t[r].inherited)return t;const c=t[r].actions.includes(i)?t[r].actions.filter(z=>z!==i):[...t[r].actions,i],f=[...t];return f[r]={...f[r],actions:c},f}else return[...t,{resourceType:s,resourceId:"*",resourceName:`All ${s}s`,actions:[i],grantedAt:new Date().toISOString(),grantedBy:"me"}]})},[o]),T=(s,i)=>{const r=(o?x:d.permissions).find(c=>c.resourceType===s);return{granted:(r==null?void 0:r.actions.includes(i))||!1,inherited:(r==null?void 0:r.inherited)||!1}};return e.jsxs("div",{className:"flex h-full w-full bg-zinc-950 text-white overflow-hidden font-sans",children:[e.jsxs("aside",{className:"w-64 border-r border-zinc-800 flex flex-col bg-zinc-950/50",role:"navigation","aria-label":"Agents List",children:[e.jsx("div",{className:"p-4 border-b border-zinc-800",children:e.jsx("h2",{className:"text-sm font-semibold text-zinc-400 uppercase tracking-widest",children:"Agents"})}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:n.map(s=>e.jsxs("button",{onClick:()=>{v(s.agentId),m(!1)},className:b("w-full flex items-center gap-3 p-4 text-left transition-colors focus-visible:ring-2 focus-visible:ring-indigo-500 focus-visible:outline-none",l===s.agentId?"bg-zinc-900 shadow-inner":"hover:bg-zinc-900/50"),"aria-selected":l===s.agentId,role:"tab",children:[e.jsx("span",{className:"text-2xl","aria-hidden":"true",children:s.agentEmoji}),e.jsxs("div",{className:"flex flex-col min-w-0",children:[e.jsx("span",{className:"font-medium truncate",children:s.agentName}),e.jsx(N,{role:s.role})]})]},s.agentId))})]}),e.jsxs("main",{className:"flex-1 flex flex-col min-w-0 bg-zinc-950",role:"tabpanel","aria-label":`Permissions for ${d.agentName}`,children:[e.jsxs("header",{className:"h-16 border-b border-zinc-800 flex items-center justify-between px-6 bg-zinc-900/30",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:"text-3xl","aria-hidden":"true",children:d.agentEmoji}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-lg font-bold flex items-center gap-2",children:[d.agentName,e.jsx(N,{role:d.role})]}),e.jsxs("p",{className:"text-xs text-zinc-500",children:["Last modified: ",new Date(d.lastModified).toLocaleString()]})]})]}),e.jsx("div",{className:"flex items-center gap-2",children:o?e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:w,className:"px-4 py-2 bg-transparent hover:bg-zinc-800 rounded-md text-sm font-medium transition-colors focus-visible:ring-2 focus-visible:ring-indigo-500 focus-visible:outline-none text-zinc-400",children:"Cancel"}),e.jsx("button",{onClick:A,className:"px-4 py-2 bg-indigo-600 hover:bg-indigo-500 rounded-md text-sm font-medium transition-colors focus-visible:ring-2 focus-visible:ring-indigo-500 focus-visible:outline-none shadow-lg shadow-indigo-500/20",children:"Save Changes"})]}):e.jsx("button",{onClick:y,className:"px-4 py-2 bg-zinc-800 hover:bg-zinc-700 rounded-md text-sm font-medium transition-colors focus-visible:ring-2 focus-visible:ring-indigo-500 focus-visible:outline-none border border-zinc-700",children:"Edit Permissions"})})]}),e.jsx("div",{className:"flex-1 overflow-auto p-6",children:e.jsxs("div",{className:"max-w-5xl mx-auto",children:[e.jsxs("table",{className:"w-full border-collapse text-left bg-zinc-900/50 rounded-lg overflow-hidden border border-zinc-800",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-zinc-900 border-b border-zinc-800",children:[e.jsx("th",{scope:"col",className:"p-4 text-xs font-semibold text-zinc-500 uppercase tracking-wider",children:"Resource Type"}),p.map(s=>e.jsx("th",{scope:"col",className:"p-4 text-xs font-semibold text-zinc-500 uppercase tracking-wider text-center",children:s},s))]})}),e.jsx("tbody",{className:"divide-y divide-zinc-800",children:j.map(s=>e.jsxs("tr",{className:"hover:bg-zinc-800/30 transition-colors",children:[e.jsx("th",{scope:"row",className:"p-4 font-medium text-zinc-300 capitalize",children:s.replace("-"," ")}),p.map(i=>{const{granted:t,inherited:r}=T(s,i),c=`perm-${s}-${i}`;return e.jsx("td",{className:"p-4 text-center",children:e.jsxs("div",{className:"flex justify-center items-center",children:[e.jsx("label",{htmlFor:c,className:"sr-only",children:`${i} permission for ${s}`}),e.jsxs("div",{className:"relative flex items-center",children:[e.jsx("input",{id:c,type:"checkbox",checked:t,disabled:!o||r,onChange:()=>I(s,i),className:b("h-5 w-5 rounded border-zinc-700 bg-zinc-800 text-indigo-600 transition-all","focus-visible:ring-2 focus-visible:ring-indigo-500 focus-visible:outline-none",r?"opacity-40 cursor-not-allowed":o?"cursor-pointer":"cursor-default"),"aria-disabled":!o||r}),r&&e.jsx("span",{className:"absolute -top-1 -right-1 bg-zinc-950 rounded-full p-0.5",title:"Inherited from role",children:e.jsx("svg",{className:"w-2.5 h-2.5 text-zinc-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"})})})]})]})},i)})]},s))})]}),e.jsxs("div",{className:"mt-8 flex flex-wrap gap-6 text-xs text-zinc-500 border-t border-zinc-800 pt-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-4 w-4 rounded bg-indigo-600 border border-indigo-500"}),e.jsx("span",{children:"Granted Permission"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-4 w-4 rounded bg-zinc-800 border border-zinc-700"}),e.jsx("span",{children:"Denied Permission"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"h-4 w-4 rounded bg-indigo-600 opacity-40 border border-indigo-500"}),e.jsx("span",{className:"absolute -top-1 -right-1 text-[8px]",children:"üîí"})]}),e.jsx("span",{children:"Inherited (Read-only)"})]})]}),o&&e.jsxs("div",{role:"status",className:"mt-4 p-3 bg-indigo-500/10 border border-indigo-500/30 rounded-md text-indigo-400 text-sm flex items-center gap-2 animate-pulse",children:[e.jsx("span",{children:"‚ö†Ô∏è"}),e.jsx("span",{children:"You are currently in edit mode. Changes will not be permanent until saved."})]})]})})]})]})}export{Z as default};
