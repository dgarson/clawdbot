import{r as h,j as s,c as d,R as w}from"./index-C59JeFug.js";const o=[{id:"run-2847",name:"CI/CD Pipeline",branch:"feat/onboarding-flow-redesign",commit:"d9ec085",commitMsg:"Views #115-117: FunnelAnalytics, SprintBoard, CostForecast",author:"Luis",trigger:"push",status:"success",startedAt:"2026-02-22T03:30:00Z",duration:127e3,repo:"dgarson/clawdbot",stages:[{id:"s1",name:"Setup",status:"success",jobs:[{id:"j1",name:"checkout",status:"success",runner:"ubuntu-22.04",durationMs:3200,startedAt:"2026-02-22T03:30:02Z",steps:[{id:"s1",name:"Checkout code",status:"success",durationMs:2100,startedAt:"2026-02-22T03:30:02Z",logs:["Cloning into '/home/runner/work/clawdbot'...","Checked out commit d9ec085"]},{id:"s2",name:"Setup Node.js 22",status:"success",durationMs:1100,startedAt:"2026-02-22T03:30:04Z",logs:["node --version: v22.22.0","pnpm --version: 10.4.1"]}]},{id:"j2",name:"install",status:"success",runner:"ubuntu-22.04",durationMs:18400,startedAt:"2026-02-22T03:30:05Z",steps:[{id:"s1",name:"Restore pnpm cache",status:"success",durationMs:4200,startedAt:"2026-02-22T03:30:05Z",logs:["Cache hit: node_modules (key: pnpm-lock-hash-abc123)"]},{id:"s2",name:"pnpm install",status:"success",durationMs:14200,startedAt:"2026-02-22T03:30:09Z",logs:["Packages: +847 =0 -0","Progress: resolved 847, reused 841, downloaded 6, added 6, done"]}]}]},{id:"s2",name:"Quality",status:"success",jobs:[{id:"j3",name:"type-check",status:"success",runner:"ubuntu-22.04",durationMs:22100,startedAt:"2026-02-22T03:30:25Z",steps:[{id:"s1",name:"tsc --noEmit",status:"success",durationMs:22100,startedAt:"2026-02-22T03:30:25Z",logs:["tsconfig.json: strict mode enabled","‚úì Type checking passed ‚Äî 0 errors"]}]},{id:"j4",name:"lint",status:"success",runner:"ubuntu-22.04",durationMs:8300,startedAt:"2026-02-22T03:30:25Z",steps:[{id:"s1",name:"eslint",status:"success",durationMs:8300,startedAt:"2026-02-22T03:30:25Z",logs:["‚úì 0 errors, 0 warnings"]}]},{id:"j5",name:"test",status:"success",runner:"ubuntu-22.04",durationMs:31200,startedAt:"2026-02-22T03:30:25Z",steps:[{id:"s1",name:"vitest run",status:"success",durationMs:31200,startedAt:"2026-02-22T03:30:25Z",logs:["‚úì 142 tests passed","‚úì 0 tests failed","Coverage: 84.2%"]}]}]},{id:"s3",name:"Build",status:"success",jobs:[{id:"j6",name:"build-web",status:"success",runner:"ubuntu-22.04",durationMs:38700,startedAt:"2026-02-22T03:31:30Z",steps:[{id:"s1",name:"pnpm build",status:"success",durationMs:35200,startedAt:"2026-02-22T03:31:30Z",logs:["‚úì built in 2.15s","dist/assets/index.js: 274.36kB (gzip: 83.82kB)","117 lazy chunks emitted"]},{id:"s2",name:"Upload artifacts",status:"success",durationMs:3500,startedAt:"2026-02-22T03:32:05Z",logs:["Uploaded: dist/ (47.3MB)"]}],artifacts:["dist/","dist/index.html"]}]},{id:"s4",name:"Deploy",status:"success",jobs:[{id:"j7",name:"deploy-preview",status:"success",runner:"ubuntu-22.04",durationMs:14800,startedAt:"2026-02-22T03:32:30Z",steps:[{id:"s1",name:"Deploy to Cloudflare Pages",status:"success",durationMs:14800,startedAt:"2026-02-22T03:32:30Z",logs:["Uploading 253 files...","‚úì Deployment live: https://feat-onboarding--clawdbot.pages.dev"]}]}]}]},{id:"run-2846",name:"CI/CD Pipeline",branch:"feat/onboarding-flow-redesign",commit:"b7f3026",commitMsg:"Views #113-114: ContextBrowser, GitHubIntegration",author:"Luis",trigger:"push",status:"success",startedAt:"2026-02-22T03:10:00Z",duration:118e3,repo:"dgarson/clawdbot",stages:[{id:"s1",name:"Setup",status:"success",jobs:[]},{id:"s2",name:"Quality",status:"success",jobs:[]},{id:"s3",name:"Build",status:"success",jobs:[]},{id:"s4",name:"Deploy",status:"success",jobs:[]}]},{id:"run-2845",name:"CI/CD Pipeline",branch:"feat/onboarding-flow-redesign",commit:"b031bcb",commitMsg:"Views #111-112: ErrorBudgetTracker, MultiModelComparator",author:"Luis",trigger:"push",status:"failed",startedAt:"2026-02-22T02:50:00Z",duration:87e3,repo:"dgarson/clawdbot",stages:[{id:"s1",name:"Setup",status:"success",jobs:[]},{id:"s2",name:"Quality",status:"failed",jobs:[]},{id:"s3",name:"Build",status:"skipped",jobs:[]},{id:"s4",name:"Deploy",status:"skipped",jobs:[]}]},{id:"run-2844",name:"Nightly Security Scan",branch:"dgarson/fork",commit:"a3d92b1",commitMsg:"Merge feat/access-control into dgarson/fork",author:"scheduler",trigger:"schedule",status:"success",startedAt:"2026-02-22T00:00:00Z",duration:42e4,repo:"dgarson/clawdbot",stages:[{id:"s1",name:"SAST",status:"success",jobs:[]},{id:"s2",name:"Dependency",status:"success",jobs:[]},{id:"s3",name:"Container",status:"success",jobs:[]},{id:"s4",name:"Report",status:"success",jobs:[]}]},{id:"run-2843",name:"CI/CD Pipeline",branch:"piper/chat-room-view",commit:"f1a4c92",commitMsg:"ChatRoomView: add thread panel and emoji reactions",author:"Piper",trigger:"pr",status:"cancelled",startedAt:"2026-02-22T01:20:00Z",duration:45e3,repo:"dgarson/clawdbot",stages:[{id:"s1",name:"Setup",status:"success",jobs:[]},{id:"s2",name:"Quality",status:"cancelled",jobs:[]},{id:"s3",name:"Build",status:"skipped",jobs:[]},{id:"s4",name:"Deploy",status:"skipped",jobs:[]}]}],n={running:{label:"Running",color:"text-sky-400",icon:"üîÑ",bg:"bg-sky-900/30 border-sky-800"},success:{label:"Success",color:"text-emerald-400",icon:"‚úÖ",bg:"bg-emerald-900/30 border-emerald-800"},failed:{label:"Failed",color:"text-rose-400",icon:"‚ùå",bg:"bg-rose-900/30 border-rose-800"},cancelled:{label:"Cancelled",color:"text-zinc-400",icon:"‚äò",bg:"bg-zinc-800/50 border-zinc-700"},pending:{label:"Pending",color:"text-amber-400",icon:"‚è≥",bg:"bg-amber-900/30 border-amber-800"},skipped:{label:"Skipped",color:"text-zinc-500",icon:"‚äô",bg:"bg-zinc-900/50 border-zinc-800"}},p={push:{label:"Push",icon:"‚¨ÜÔ∏è"},pr:{label:"PR",icon:"üîÄ"},schedule:{label:"Schedule",icon:"üïê"},manual:{label:"Manual",icon:"üëÜ"},tag:{label:"Tag",icon:"üè∑Ô∏è"}};function l(t){if(t<6e4)return`${Math.round(t/1e3)}s`;const m=Math.floor(t/6e4),a=Math.round(t%6e4/1e3);return a>0?`${m}m ${a}s`:`${m}m`}function M(){const[t,m]=h.useState(o[0]),[a,b]=h.useState(null),[c,u]=h.useState(null),[x,g]=h.useState("runs"),j=o.filter(e=>e.status==="success").length,v=o.filter(e=>e.status==="failed").length,N=Math.round(o.filter(e=>e.status==="success").reduce((e,i)=>e+i.duration,0)/j),f=e=>{m(e),b(null),u(null),g("details")};return s.jsxs("div",{className:"min-h-screen bg-zinc-950 text-white p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-white",children:"Pipeline Monitor"}),s.jsx("p",{className:"text-zinc-400 text-sm mt-1",children:"CI/CD pipeline runs for dgarson/clawdbot"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{onClick:()=>g("runs"),className:d("px-3 py-1.5 text-sm rounded-lg border transition-colors",x==="runs"?"bg-zinc-800 border-zinc-700 text-white":"border-zinc-800 text-zinc-400 hover:text-white"),children:"üìã All Runs"}),s.jsx("button",{onClick:()=>g("details"),className:d("px-3 py-1.5 text-sm rounded-lg border transition-colors",x==="details"?"bg-zinc-800 border-zinc-700 text-white":"border-zinc-800 text-zinc-400 hover:text-white"),children:"üîç Run Detail"})]})]}),s.jsx("div",{className:"grid grid-cols-4 gap-3",children:[{label:"Total Runs",value:o.length,color:"text-white"},{label:"Successful",value:j,color:"text-emerald-400"},{label:"Failed",value:v,color:"text-rose-400"},{label:"Avg Duration",value:l(N),color:"text-sky-400"}].map(e=>s.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-lg p-3",children:[s.jsx("div",{className:d("text-2xl font-bold",e.color),children:e.value}),s.jsx("div",{className:"text-xs text-zinc-500 mt-0.5",children:e.label})]},e.label))})]}),x==="runs"&&s.jsx("div",{className:"bg-zinc-900 border border-zinc-800 rounded-lg overflow-hidden",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsx("tr",{className:"border-b border-zinc-800",children:["Status","Run","Branch","Commit","Trigger","Author","Duration","Started"].map(e=>s.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-zinc-500 uppercase tracking-wider",children:e},e))})}),s.jsx("tbody",{children:o.map(e=>s.jsxs("tr",{onClick:()=>f(e),className:"border-b border-zinc-800/50 hover:bg-zinc-800/40 cursor-pointer",children:[s.jsx("td",{className:"px-4 py-3",children:s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("span",{children:n[e.status].icon}),s.jsx("span",{className:d("text-xs font-medium",n[e.status].color),children:n[e.status].label})]})}),s.jsxs("td",{className:"px-4 py-3",children:[s.jsx("div",{className:"font-mono text-xs text-zinc-400",children:e.id}),s.jsx("div",{className:"text-xs text-zinc-300",children:e.name})]}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:"font-mono text-xs text-sky-400 truncate max-w-36 block",children:e.branch})}),s.jsxs("td",{className:"px-4 py-3",children:[s.jsx("div",{className:"font-mono text-xs text-amber-400",children:e.commit}),s.jsx("div",{className:"text-xs text-zinc-500 max-w-36 truncate",children:e.commitMsg})]}),s.jsx("td",{className:"px-4 py-3",children:s.jsxs("span",{className:"text-xs",children:[p[e.trigger].icon," ",p[e.trigger].label]})}),s.jsx("td",{className:"px-4 py-3 text-xs text-zinc-400",children:e.author}),s.jsx("td",{className:"px-4 py-3 text-xs text-zinc-400",children:l(e.duration)}),s.jsx("td",{className:"px-4 py-3 text-xs text-zinc-500",children:new Date(e.startedAt).toLocaleTimeString()})]},e.id))})]})}),x==="details"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:d("border rounded-lg p-4",n[t.status].bg),children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("span",{className:"text-2xl",children:n[t.status].icon}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-mono text-sm text-zinc-400",children:t.id}),s.jsx("span",{className:d("text-sm font-semibold",n[t.status].color),children:n[t.status].label})]}),s.jsx("div",{className:"text-white font-medium",children:t.commitMsg})]})]}),s.jsxs("div",{className:"flex gap-4 text-xs text-zinc-400",children:[s.jsxs("span",{children:["üåø ",t.branch]}),s.jsxs("span",{children:["üìù ",t.commit]}),s.jsxs("span",{children:["üë§ ",t.author]}),s.jsxs("span",{children:[p[t.trigger].icon," ",p[t.trigger].label]}),s.jsxs("span",{children:["‚è±Ô∏è ",l(t.duration)]}),s.jsxs("span",{children:["üïê ",new Date(t.startedAt).toLocaleString()]})]})]}),s.jsx("div",{className:"flex gap-2",children:o.map(e=>s.jsx("button",{onClick:()=>{m(e),b(null),u(null)},className:d("text-xs px-2 py-1 rounded font-mono transition-colors",t.id===e.id?"bg-zinc-700 text-white":"text-zinc-500 hover:text-white"),children:e.id},e.id))})]})}),s.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-lg p-4",children:[s.jsx("div",{className:"text-xs font-semibold text-zinc-500 uppercase tracking-wider mb-4",children:"Pipeline Stages"}),s.jsx("div",{className:"flex items-center gap-2 overflow-x-auto pb-2",children:t.stages.map((e,i)=>s.jsxs(w.Fragment,{children:[s.jsxs("div",{className:d("rounded-lg border p-3 min-w-32 text-center",n[e.status].bg),children:[s.jsx("div",{className:"text-lg mb-1",children:n[e.status].icon}),s.jsx("div",{className:"text-sm font-medium text-white",children:e.name}),s.jsx("div",{className:d("text-xs mt-0.5",n[e.status].color),children:n[e.status].label}),e.jobs.length>0&&s.jsxs("div",{className:"text-xs text-zinc-500 mt-1",children:[e.jobs.length," job",e.jobs.length!==1?"s":""]})]}),i<t.stages.length-1&&s.jsx("div",{className:"text-zinc-600 text-lg",children:"‚Üí"})]},e.id))})]}),t.stages.some(e=>e.jobs.length>0)&&s.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[s.jsxs("div",{className:"col-span-4",children:[s.jsx("div",{className:"text-xs font-semibold text-zinc-500 uppercase tracking-wider mb-2",children:"Jobs"}),s.jsx("div",{className:"space-y-2",children:t.stages.flatMap(e=>e.jobs.map(i=>s.jsxs("div",{onClick:()=>{b(i),u(null)},className:d("bg-zinc-900 border rounded-lg p-3 cursor-pointer transition-colors",(a==null?void 0:a.id)===i.id?"border-indigo-600":"border-zinc-800 hover:border-zinc-700"),children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("span",{children:n[i.status].icon}),s.jsx("span",{className:"text-sm font-medium text-white",children:i.name})]}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-zinc-500",children:[s.jsxs("span",{children:["üñ•Ô∏è ",i.runner]}),s.jsxs("span",{children:["‚è±Ô∏è ",l(i.durationMs)]})]}),i.artifacts&&s.jsx("div",{className:"mt-1",children:i.artifacts.map(r=>s.jsxs("span",{className:"text-xs px-1.5 py-0.5 rounded bg-zinc-800 text-zinc-400 mr-1",children:["üì¶ ",r]},r))}),(a==null?void 0:a.id)===i.id&&s.jsx("div",{className:"mt-3 space-y-1",children:i.steps.map(r=>s.jsxs("div",{onClick:z=>{z.stopPropagation(),u((c==null?void 0:c.id)===r.id?null:r)},className:"flex items-center gap-2 text-xs text-zinc-400 hover:text-white cursor-pointer pl-2 py-1 rounded hover:bg-zinc-800",children:[s.jsx("span",{children:n[r.status].icon}),s.jsx("span",{className:"flex-1",children:r.name}),s.jsx("span",{className:"text-zinc-600",children:l(r.durationMs)})]},r.id))})]},i.id)))})]}),s.jsxs("div",{className:"col-span-8",children:[s.jsx("div",{className:"text-xs font-semibold text-zinc-500 uppercase tracking-wider mb-2",children:c?`Logs: ${c.name}`:a?"Select a step to view logs":"Select a job"}),c?s.jsxs("div",{className:"bg-zinc-950 border border-zinc-800 rounded-lg p-4 font-mono text-xs text-emerald-300 space-y-1 min-h-48",children:[s.jsxs("div",{className:"text-zinc-600 mb-2",children:["‚ñ∂ ",c.name," ‚Äî ",new Date(c.startedAt).toLocaleTimeString()," ‚Äî ",l(c.durationMs)]}),c.logs.map((e,i)=>s.jsxs("div",{className:"text-zinc-300",children:[s.jsxs("span",{className:"text-zinc-600 select-none mr-2",children:[String(i+1).padStart(3," ")," ‚îÇ"]}),e]},i)),s.jsxs("div",{className:"text-zinc-600 mt-2",children:["‚úì Exit code: 0 ‚Äî Finished: ",l(c.durationMs)]})]}):a?s.jsx("div",{className:"bg-zinc-950 border border-zinc-800 rounded-lg p-4 text-sm text-zinc-500 min-h-48 flex items-center justify-center",children:"Click a step above to view its logs"}):s.jsx("div",{className:"bg-zinc-950 border border-zinc-800 rounded-lg p-4 text-sm text-zinc-500 min-h-48 flex items-center justify-center",children:"Select a job from the list to inspect its steps and logs"}),a&&!c&&s.jsxs("div",{className:"mt-3 bg-zinc-900 border border-zinc-800 rounded-lg p-4",children:[s.jsx("div",{className:"text-xs font-semibold text-zinc-500 uppercase tracking-wider mb-2",children:"Job Summary"}),s.jsxs("div",{className:"grid grid-cols-3 gap-3 text-xs",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-zinc-500",children:"Status"}),s.jsxs("div",{className:d("font-medium mt-0.5",n[a.status].color),children:[n[a.status].icon," ",n[a.status].label]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-zinc-500",children:"Runner"}),s.jsx("div",{className:"font-mono text-zinc-300 mt-0.5",children:a.runner})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-zinc-500",children:"Duration"}),s.jsx("div",{className:"text-zinc-300 mt-0.5",children:l(a.durationMs)})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-zinc-500",children:"Steps"}),s.jsxs("div",{className:"text-zinc-300 mt-0.5",children:[a.steps.length," steps"]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-zinc-500",children:"Started"}),s.jsx("div",{className:"text-zinc-300 mt-0.5",children:new Date(a.startedAt).toLocaleTimeString()})]}),a.artifacts&&s.jsxs("div",{children:[s.jsx("div",{className:"text-zinc-500",children:"Artifacts"}),s.jsxs("div",{className:"text-zinc-300 mt-0.5",children:[a.artifacts.length," uploaded"]})]})]})]})]})]})]})]})}export{M as default};
