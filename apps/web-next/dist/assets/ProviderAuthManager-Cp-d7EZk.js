import{a as F,r as o,j as e,X as K,C as W,c as g,T as E,I as T}from"./index-DE_53Lnb.js";import{u as G}from"./useGateway-b60CFy5N.js";import{C as V}from"./chevron-left-C27q3MB1.js";import{L as A}from"./loader-circle-DjG7l9Kf.js";import{K as D}from"./key-BV4upp2f.js";import{R as z}from"./refresh-cw-CPENYxET.js";import{S as _}from"./sparkles-Dj8qK1O5.js";import{Z as B}from"./zap-G4WeiUwS.js";import{E as U}from"./external-link-D9guBbJt.js";/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=F("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=F("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);function Q(t){const[s,r]=o.useState(null),[l,n]=o.useState(null),[c,x]=o.useState(!1),[a,i]=o.useState(!1),[f,m]=o.useState(null),[j,v]=o.useState(null),N=o.useCallback(async d=>{i(!0),m(null),x(!1),n(null),v(null);try{const u=await t.call("wizard.start",{mode:d.mode,workspace:d.workspace,provider:d.provider});r(u.sessionId),x(u.done||!1),u.step&&n(u.step),u.status&&v(u.status),u.error&&m(u.error)}catch(u){m(u instanceof Error?u.message:"Failed to start wizard"),r(null)}finally{i(!1)}},[t]),y=o.useCallback(async d=>{if(!s){m("No active wizard session");return}i(!0),m(null);try{const u=await t.call("wizard.next",{sessionId:s,answer:{stepId:d.stepId,value:d.value}});x(u.done||!1),u.step?n(u.step):n(null),u.status&&v(u.status),u.error&&m(u.error)}catch(u){m(u instanceof Error?u.message:"Failed to submit answer")}finally{i(!1)}},[t,s]),p=o.useCallback(async()=>{if(s){i(!0),m(null);try{await t.call("wizard.cancel",{sessionId:s}),r(null),n(null),x(!1),v(null)}catch(d){m(d instanceof Error?d.message:"Failed to cancel wizard")}finally{i(!1)}}},[t,s]),w=o.useCallback(async()=>{if(s){i(!0),m(null);try{const d=await t.call("wizard.status",{sessionId:s});x(d.done||!1),d.step&&n(d.step),d.status&&v(d.status),d.error&&m(d.error)}catch(d){m(d instanceof Error?d.message:"Failed to refresh wizard status")}finally{i(!1)}}},[t,s]);return{sessionId:s,currentStep:l,done:c,loading:a,error:f,status:j,start:N,submitAnswer:y,cancel:p,refresh:w}}function X({current:t,total:s}){return e.jsx("div",{className:"flex items-center justify-center gap-2 mb-6",children:Array.from({length:s},(r,l)=>e.jsx("div",{className:g("h-1.5 rounded-full transition-all duration-300",l<t?"w-6 bg-violet-500":l===t?"w-6 bg-violet-600 animate-pulse":"w-2 bg-gray-700")},l))})}function J({step:t,onSubmit:s,loading:r}){const[l,n]=o.useState(t.defaultValue||""),c=a=>{a.preventDefault(),!(t.required&&!l.trim())&&s(l)},x=t.validation==="number"?"number":t.validation==="email"?"email":t.validation==="url"?"url":"text";return e.jsxs("form",{onSubmit:c,className:"space-y-4",children:[t.title&&e.jsx("h3",{className:"text-lg font-semibold text-white",children:t.title}),t.description&&e.jsx("p",{className:"text-sm text-gray-400",children:t.description}),e.jsx("input",{type:x,value:l,onChange:a=>n(a.target.value),placeholder:t.placeholder,disabled:r,"aria-label":t.title||t.placeholder||"Input","aria-required":t.required,className:g("w-full bg-gray-800 border border-gray-700 rounded-xl px-4 py-3","text-white placeholder-gray-500 text-sm","focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent","transition-all duration-200",r&&"opacity-50 cursor-not-allowed"),autoFocus:!0}),e.jsx("button",{type:"submit",disabled:r||t.required&&!l.trim(),className:g("w-full py-3 rounded-xl font-medium text-sm transition-all duration-200","bg-violet-600 hover:bg-violet-500 text-white","disabled:opacity-40 disabled:cursor-not-allowed","shadow-lg shadow-violet-900/30"),children:r?e.jsxs("span",{className:"flex items-center justify-center gap-2",children:[e.jsx(A,{className:"w-4 h-4 animate-spin"}),"Processing..."]}):"Continue"})]})}function Y({step:t,onSubmit:s,loading:r}){const[l,n]=o.useState(t.multi?t.defaultValue?[t.defaultValue]:[]:t.defaultValue||""),c=a=>{if(t.multi){const i=l;i.includes(a.value)?n(i.filter(f=>f!==a.value)):n([...i,a.value])}else n(a.value)},x=()=>{s(l)};return e.jsxs("div",{className:"space-y-4",children:[t.title&&e.jsx("h3",{className:"text-lg font-semibold text-white",children:t.title}),t.description&&e.jsx("p",{className:"text-sm text-gray-400 mb-4",children:t.description}),e.jsx("div",{className:"space-y-2",children:(t.options??[]).map(a=>{const i=t.multi?l.includes(a.value):l===a.value;return e.jsxs("button",{type:"button",onClick:()=>!a.disabled&&c(a),disabled:a.disabled||r,className:g("w-full p-4 rounded-xl border text-left transition-all duration-200","flex items-start gap-3",i?"bg-violet-600/20 border-violet-500/50 shadow-lg shadow-violet-900/20":"bg-gray-800/60 border-gray-700 hover:border-gray-600 hover:bg-gray-800",a.disabled&&"opacity-50 cursor-not-allowed"),children:[e.jsx("div",{className:g("w-5 h-5 rounded-full border-2 flex-shrink-0 mt-0.5 transition-all duration-200",i?"border-violet-500 bg-violet-500":"border-gray-600"),children:i&&e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx("div",{className:"w-2 h-2 rounded-full bg-white"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-white",children:a.label}),a.description&&e.jsx("p",{className:"text-xs text-gray-400 mt-0.5",children:a.description})]})]},a.value)})}),e.jsx("button",{type:"button",onClick:x,disabled:r||(t.multi?l.length===0:!l),className:g("w-full py-3 rounded-xl font-medium text-sm transition-all duration-200 mt-6","bg-violet-600 hover:bg-violet-500 text-white","disabled:opacity-40 disabled:cursor-not-allowed","shadow-lg shadow-violet-900/30"),children:r?e.jsxs("span",{className:"flex items-center justify-center gap-2",children:[e.jsx(A,{className:"w-4 h-4 animate-spin"}),"Processing..."]}):"Continue"})]})}function ee({step:t,onSubmit:s,loading:r}){return e.jsxs("div",{className:"space-y-4",children:[t.title&&e.jsx("h3",{className:"text-lg font-semibold text-white",children:t.title}),t.description&&e.jsx("p",{className:"text-sm text-gray-400",children:t.description}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>s(!1),disabled:r,className:g("flex-1 py-3 rounded-xl font-medium text-sm transition-all duration-200","border border-gray-700 text-gray-300 hover:bg-gray-800 hover:text-white","disabled:opacity-50 disabled:cursor-not-allowed"),children:t.cancelLabel||"Cancel"}),e.jsx("button",{type:"button",onClick:()=>s(!0),disabled:r,className:g("flex-1 py-3 rounded-xl font-medium text-sm transition-all duration-200","bg-violet-600 hover:bg-violet-500 text-white","disabled:opacity-50 disabled:cursor-not-allowed","shadow-lg shadow-violet-900/30"),children:r?e.jsxs("span",{className:"flex items-center justify-center gap-2",children:[e.jsx(A,{className:"w-4 h-4 animate-spin"}),"Processing..."]}):t.confirmLabel||"Confirm"})]})]})}function te({step:t,onContinue:s,loading:r}){const n={info:{bg:"bg-blue-500/10",border:"border-blue-500/30",icon:T,iconColor:"text-blue-400"},warning:{bg:"bg-yellow-500/10",border:"border-yellow-500/30",icon:E,iconColor:"text-yellow-400"},success:{bg:"bg-green-500/10",border:"border-green-500/30",icon:H,iconColor:"text-green-400"},error:{bg:"bg-red-500/10",border:"border-red-500/30",icon:W,iconColor:"text-red-400"}}[t.variant||"info"],c=t.icon?null:n.icon;return e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:g("p-4 rounded-xl border",n.bg,n.border),children:e.jsxs("div",{className:"flex items-start gap-3",children:[t.icon?e.jsx("span",{className:"text-2xl",children:t.icon}):c?e.jsx(c,{className:g("w-5 h-5 mt-0.5",n.iconColor)}):null,e.jsxs("div",{className:"flex-1",children:[t.title&&e.jsx("h4",{className:"text-sm font-semibold text-white mb-1",children:t.title}),t.description&&e.jsx("p",{className:"text-sm text-gray-300",children:t.description})]})]})}),e.jsx("button",{type:"button",onClick:s,disabled:r,className:g("w-full py-3 rounded-xl font-medium text-sm transition-all duration-200","bg-violet-600 hover:bg-violet-500 text-white","disabled:opacity-50 disabled:cursor-not-allowed","shadow-lg shadow-violet-900/30"),children:r?e.jsxs("span",{className:"flex items-center justify-center gap-2",children:[e.jsx(A,{className:"w-4 h-4 animate-spin"}),"Processing..."]}):"Continue"})]})}function se({step:t}){return e.jsxs("div",{className:"flex flex-col items-center justify-center py-8 space-y-4",children:[t.indeterminate?e.jsx("div",{className:"relative",children:e.jsx(A,{className:"w-12 h-12 text-violet-500 animate-spin"})}):e.jsxs("div",{className:"relative w-32 h-32",children:[e.jsxs("svg",{className:"w-32 h-32 -rotate-90",viewBox:"0 0 100 100","aria-hidden":"true",children:[e.jsx("circle",{className:"text-gray-800",strokeWidth:"8",stroke:"currentColor",fill:"transparent",r:"42",cx:"50",cy:"50"}),e.jsx("circle",{className:"text-violet-500 transition-all duration-500",strokeWidth:"8",strokeLinecap:"round",stroke:"currentColor",fill:"transparent",r:"42",cx:"50",cy:"50",strokeDasharray:`${(t.progress||0)*2.64} 264`})]}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsxs("span",{className:"text-2xl font-bold text-white","aria-live":"polite","aria-atomic":"true",children:[t.progress||0,"%"]})})]}),t.message&&e.jsx("p",{className:"text-sm text-gray-400 text-center animate-pulse",children:t.message}),t.title&&!t.message&&e.jsx("p",{className:"text-sm text-gray-400 text-center",children:t.title})]})}function re({open:t,step:s,loading:r=!1,error:l,progress:n,title:c="Setup Wizard",onSubmit:x,onCancel:a,onDismiss:i}){const[f,m]=o.useState([]);o.useEffect(()=>{s!=null&&s.id&&f[f.length-1]!==s.id&&m(y=>[...y,s.id])},[s==null?void 0:s.id,f]),o.useEffect(()=>{t||m([])},[t]),o.useEffect(()=>{if(!t)return;const y=p=>{p.key==="Escape"&&(i||a)()};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[t,i,a]);const j=y=>{s&&x({stepId:s.id,value:y})},v=()=>{s&&x({stepId:s.id,value:""})},N=()=>{if(!s)return e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(A,{className:"w-8 h-8 text-violet-500 animate-spin"})});switch(s.type){case"text":return e.jsx(J,{step:s,onSubmit:j,loading:r});case"select":return e.jsx(Y,{step:s,onSubmit:j,loading:r});case"confirm":return e.jsx(ee,{step:s,onSubmit:j,loading:r});case"note":return e.jsx(te,{step:s,onContinue:v,loading:r});case"progress":return e.jsx(se,{step:s});default:return e.jsx("div",{className:"text-center text-gray-400 py-8",children:"Unknown step type"})}};return t?e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm animate-in fade-in duration-200",onClick:i||a}),e.jsxs("div",{role:"dialog","aria-modal":"true","aria-labelledby":"wizard-modal-title",className:g("relative w-full max-w-md bg-gray-900 rounded-2xl border border-gray-800","shadow-2xl shadow-black/50","animate-in zoom-in-95 fade-in duration-200"),children:[e.jsxs("div",{className:"flex items-center justify-between p-5 border-b border-gray-800",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[f.length>1&&e.jsx("button",{type:"button",onClick:a,"aria-label":"Go back",className:"p-1.5 rounded-lg hover:bg-gray-800 transition-colors",children:e.jsx(V,{className:"w-4 h-4 text-gray-400","aria-hidden":"true"})}),e.jsx("h2",{id:"wizard-modal-title",className:"text-lg font-semibold text-white",children:c})]}),e.jsx("button",{type:"button",onClick:i||a,"aria-label":"Close wizard",className:"p-1.5 rounded-lg hover:bg-gray-800 transition-colors",children:e.jsx(K,{className:"w-5 h-5 text-gray-400","aria-hidden":"true"})})]}),n&&n.total>1&&e.jsx("div",{className:"px-5 pt-5",children:e.jsx(X,{current:n.current,total:n.total})}),l&&e.jsxs("div",{className:"mx-5 mt-4 p-3 rounded-lg bg-red-500/10 border border-red-500/30 flex items-start gap-2",children:[e.jsx(W,{className:"w-4 h-4 text-red-400 mt-0.5 flex-shrink-0"}),e.jsx("p",{className:"text-sm text-red-300",children:l})]}),e.jsx("div",{className:"p-5",children:e.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-2 duration-300",children:N()},(s==null?void 0:s.id)||"empty")})]})]}):null}function ae(t){return 1-Math.pow(1-t,3)}function ne(t,s,r,l,n){const c=performance.now();let x=!1;function a(i){if(x)return;const f=i-c,m=Math.min(f/r,1),j=ae(m),v=t+(s-t)*j;l(v),m<1&&requestAnimationFrame(a)}return requestAnimationFrame(a),()=>{x=!0}}function P({value:t,duration:s=500,formatter:r=n=>n.toLocaleString(),className:l}){const[n,c]=o.useState(t),x=o.useRef(t);return o.useEffect(()=>{if(t===x.current)return;const a=ne(x.current,t,s,c);return x.current=t,a},[t,s]),e.jsx("span",{className:g("tabular-nums",l),children:r(n)})}const le={connected:{bg:"bg-green-500/10",text:"text-green-400",dot:"bg-green-500"},not_connected:{bg:"bg-gray-500/10",text:"text-gray-400",dot:"bg-gray-500"},expired:{bg:"bg-yellow-500/10",text:"text-yellow-400",dot:"bg-yellow-500"},error:{bg:"bg-red-500/10",text:"text-red-400",dot:"bg-red-500"},active:{bg:"bg-green-500/10",text:"text-green-400",dot:"bg-green-500"},idle:{bg:"bg-gray-500/10",text:"text-gray-400",dot:"bg-gray-400"},loading:{bg:"bg-blue-500/10",text:"text-blue-400",dot:"bg-blue-500"},success:{bg:"bg-green-500/10",text:"text-green-400",dot:"bg-green-500"},warning:{bg:"bg-yellow-500/10",text:"text-yellow-400",dot:"bg-yellow-500"},offline:{bg:"bg-gray-500/10",text:"text-gray-500",dot:"bg-gray-600"},healthy:{bg:"bg-green-500/10",text:"text-green-400",dot:"bg-green-500"},degraded:{bg:"bg-amber-500/10",text:"text-amber-400",dot:"bg-amber-500"},running:{bg:"bg-blue-500/10",text:"text-blue-400",dot:"bg-blue-500"},enabled:{bg:"bg-green-500/10",text:"text-green-400",dot:"bg-green-500"},disabled:{bg:"bg-gray-500/10",text:"text-gray-500",dot:"bg-gray-600"}},ie={connected:"Connected",not_connected:"Not Connected",expired:"Expired",error:"Error",active:"Active",idle:"Idle",loading:"Loading...",success:"Success",warning:"Warning",offline:"Offline",healthy:"Healthy",degraded:"Degraded",running:"Running",enabled:"Enabled",disabled:"Disabled"},oe={sm:"px-2 py-0.5 text-xs gap-1",md:"px-2.5 py-1 text-xs gap-1.5",lg:"px-3 py-1.5 text-sm gap-2"};function ce({variant:t,label:s,animated:r=!0,size:l="md",className:n}){const c=le[t],x=s||ie[t],a=r&&(t==="loading"||t==="active");return e.jsxs("span",{className:g("inline-flex items-center rounded-full font-medium",c.bg,c.text,oe[l],n),children:[e.jsx("span",{className:g("w-1.5 h-1.5 rounded-full",c.dot,a&&"animate-pulse")}),x]})}function de({data:t,width:s=80,height:r=20,color:l="rgb(139, 92, 246)",animated:n=!0,className:c,showArea:x=!0}){const[a,i]=o.useState(n?0:100);o.useEffect(()=>{if(!n)return;const j=setTimeout(()=>i(100),50);return()=>clearTimeout(j)},[n,t]);const{pathD:f,areaD:m}=o.useMemo(()=>{if(t.length===0)return{pathD:"",areaD:""};const j=Math.min(...t),N=Math.max(...t)-j||1,p=t.map((d,u)=>({x:u/(t.length-1)*s,y:r-(d-j)/N*r*.8-r*.1})).map((d,u)=>`${u===0?"M":"L"} ${d.x} ${d.y}`).join(" "),w=p+` L ${s} ${r} L 0 ${r} Z`;return{pathD:p,areaD:w}},[t,s,r]);return t.length===0?e.jsx("div",{className:g("opacity-30",c),style:{width:s,height:r}}):e.jsxs("svg",{className:g("overflow-visible",c),width:s,height:r,viewBox:`0 0 ${s} ${r}`,children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:`sparkline-gradient-${l}`,x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"0%",stopColor:l,stopOpacity:"0.3"}),e.jsx("stop",{offset:"100%",stopColor:l,stopOpacity:"0"})]})}),e.jsx("clipPath",{id:`sparkline-clip-${s}-${r}`,children:e.jsx("rect",{x:"0",y:"0",width:s*a/100,height:r})}),e.jsxs("g",{clipPath:`url(#sparkline-clip-${s}-${r})`,children:[x&&m&&e.jsx("path",{d:m,fill:`url(#sparkline-gradient-${l})`}),e.jsx("path",{d:f,fill:"none",stroke:l,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})]})}const xe=[{id:"anthropic",name:"Anthropic",description:"Claude models via API key or token",icon:"ðŸ§ ",authKind:"token",docsUrl:"https://console.anthropic.com/",popular:!0},{id:"openai",name:"OpenAI",description:"GPT models via API key",icon:"ðŸ¤–",authKind:"api_key",docsUrl:"https://platform.openai.com/api-keys",popular:!0},{id:"minimax-portal",name:"MiniMax",description:"MiniMax models via OAuth portal",icon:"âš¡",authKind:"oauth",popular:!0},{id:"qwen-portal",name:"Qwen",description:"Alibaba Qwen models via device code",icon:"ðŸŒŸ",authKind:"device_code"},{id:"google-gemini-cli",name:"Gemini CLI",description:"Google Gemini via OAuth",icon:"ðŸ’Ž",authKind:"oauth",popular:!0},{id:"google-antigravity",name:"Antigravity",description:"Google Antigravity via OAuth",icon:"ðŸš€",authKind:"oauth"},{id:"openai-codex",name:"OpenAI Codex",description:"Codex models via OAuth",icon:"ðŸ’»",authKind:"oauth"},{id:"chutes",name:"Chutes",description:"Chutes models via OAuth",icon:"ðŸŽ¯",authKind:"oauth"}];function ue(t=14){return Array.from({length:t},()=>Math.random()*100+20)}function me({provider:t,sparklineData:s,onConnect:r,onManage:l,usageStats:n}){const c=t.status==="connected",x=t.status==="expired",a=t.status==="error";return e.jsxs("div",{className:g("relative bg-gray-900 rounded-2xl border overflow-hidden","transition-all duration-300",c?"border-green-500/30 hover:border-green-500/50":x?"border-yellow-500/30 hover:border-yellow-500/50":a?"border-red-500/30 hover:border-red-500/50":"border-gray-800 hover:border-gray-700","group"),children:[c&&e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-green-500/5 to-transparent pointer-events-none"}),e.jsx("div",{className:g("absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-500 pointer-events-none",c?"bg-gradient-to-br from-green-500/10 via-transparent to-emerald-500/10":"bg-gradient-to-br from-violet-500/10 via-transparent to-pink-500/10")}),e.jsxs("div",{className:"relative p-5",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:g("w-12 h-12 rounded-xl flex items-center justify-center text-2xl","transition-transform duration-300 group-hover:scale-110",c?"bg-green-500/20":"bg-gray-800"),children:t.icon}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-base font-semibold text-white flex items-center gap-2",children:[t.name,t.popular&&e.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded bg-violet-500/20 text-violet-400 font-normal",children:"Popular"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:t.description})]})]}),e.jsx(ce,{variant:t.status,size:"sm",animated:c})]}),c&&n&&e.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-lg font-bold text-white",children:e.jsx(P,{value:n.requests})}),e.jsx("p",{className:"text-xs text-gray-500",children:"Requests"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-lg font-bold text-white",children:e.jsx(P,{value:n.tokens,formatter:i=>i>=1e6?`${(i/1e6).toFixed(1)}M`:i>=1e3?`${(i/1e3).toFixed(1)}K`:i.toString()})}),e.jsx("p",{className:"text-xs text-gray-500",children:"Tokens"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("p",{className:"text-lg font-bold text-white",children:["$",(n.cost/100).toFixed(2)]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Cost"})]})]}),c&&s&&s.length>0&&e.jsxs("div",{className:"mb-4 p-3 bg-gray-800/50 rounded-xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-xs text-gray-400",children:"Usage (14 days)"}),e.jsxs("span",{className:"text-xs text-gray-500",children:["~",Math.round(s.reduce((i,f)=>i+f,0)/s.length)," avg/day"]})]}),e.jsx(de,{data:s,width:200,height:40,color:"rgb(34, 197, 94)"})]}),e.jsx("div",{className:"flex gap-2",children:c?e.jsxs(e.Fragment,{children:[e.jsxs("button",{type:"button",onClick:l,className:"flex-1 py-2.5 px-4 rounded-xl bg-gray-800 hover:bg-gray-700 text-gray-300 text-sm font-medium transition-all duration-200 flex items-center justify-center gap-2",children:[e.jsx(D,{className:"w-4 h-4"}),"Manage"]}),e.jsx("button",{type:"button",onClick:r,className:"py-2.5 px-4 rounded-xl bg-gray-800 hover:bg-gray-700 text-gray-400 text-sm transition-colors",title:"Refresh connection",children:e.jsx(z,{className:"w-4 h-4"})})]}):e.jsx("button",{type:"button",onClick:r,className:g("w-full py-2.5 px-4 rounded-xl text-sm font-medium transition-all duration-200","flex items-center justify-center gap-2",x?"bg-yellow-600/20 text-yellow-400 hover:bg-yellow-600/30 border border-yellow-500/30":a?"bg-red-600/20 text-red-400 hover:bg-red-600/30 border border-red-500/30":"bg-violet-600 text-white hover:bg-violet-500 shadow-lg shadow-violet-900/30"),children:x?e.jsxs(e.Fragment,{children:[e.jsx(z,{className:"w-4 h-4"}),"Reconnect"]}):a?e.jsxs(e.Fragment,{children:[e.jsx(E,{className:"w-4 h-4"}),"Retry"]}):e.jsxs(e.Fragment,{children:[e.jsx(B,{className:"w-4 h-4"}),"Connect"]})})}),e.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[e.jsxs("span",{className:"text-xs text-gray-600",children:["Auth: ",e.jsx("span",{className:"text-gray-400",children:t.authKind.replace("_"," ")})]}),t.docsUrl&&e.jsxs("a",{href:t.docsUrl,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-gray-500 hover:text-gray-300 flex items-center gap-1 transition-colors",children:["Docs ",e.jsx(U,{className:"w-3 h-3"})]})]})]})]})}function we(){const[t,s]=o.useState([]),[r,l]=o.useState(!0),[n,c]=o.useState(null),[x,a]=o.useState(null),[i,f]=o.useState(!1),[m,j]=o.useState("Connect Provider"),[v,N]=o.useState(null),y=G(),p=Q(y),w=o.useCallback(async()=>{var h;l(!0),c(null);try{const b=await y.call("config.get",{});a(b);const S=((h=b.auth)==null?void 0:h.profiles)||{},R=xe.map(k=>{const C=Object.keys(S).find(O=>O.startsWith(k.id+":")||O===k.id),q=C?S[C]:null;let $="not_connected";return q&&($="connected"),{...k,status:$,profileId:C}});R.sort((k,C)=>k.status==="connected"&&C.status!=="connected"?-1:k.status!=="connected"&&C.status==="connected"?1:k.popular&&!C.popular?-1:!k.popular&&C.popular?1:k.name.localeCompare(C.name)),s(R)}catch(b){c(b instanceof Error?b.message:"Failed to load providers")}finally{l(!1)}},[y]),d=o.useCallback(async h=>{const b=t.find(S=>S.id===h);if(b){N(h),j(`Connect ${b.name}`),f(!0);try{await p.start({mode:"add-provider",provider:h})}catch(S){console.error("[ProviderAuth] Failed to start wizard:",S)}}},[t,p]),u=o.useCallback(async h=>{await p.submitAnswer(h)},[p]),I=o.useCallback(async()=>{await p.cancel(),f(!1),N(null)},[p]);o.useEffect(()=>{p.done&&i&&setTimeout(()=>{w(),f(!1),N(null)},1500)},[p.done,i,w]),o.useEffect(()=>{y.isConnected&&w()},[y.isConnected,w]);const L=o.useMemo(()=>{const h={};return t.forEach(b=>{b.status==="connected"&&(h[b.id]={requests:Math.floor(Math.random()*5e3)+500,tokens:Math.floor(Math.random()*2e6)+1e5,cost:Math.floor(Math.random()*5e3)+500,sparkline:ue()})}),h},[t]),M=o.useMemo(()=>{const h=t.filter(S=>S.status==="connected").length,b=t.length;return{connected:h,total:b,percentage:b>0?Math.round(h/b*100):0}},[t]);return e.jsxs("div",{className:"min-h-screen bg-gray-950 p-8",children:[e.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[e.jsx(D,{className:"w-7 h-7 text-violet-400"}),"Provider Authentication"]}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Connect your AI model providers to enable agents"})]}),e.jsxs("div",{className:"flex items-center gap-4 bg-gray-900 rounded-xl border border-gray-800 px-4 py-2",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-white",children:e.jsx(P,{value:M.connected})}),e.jsx("p",{className:"text-xs text-gray-500",children:"Connected"})]}),e.jsx("div",{className:"w-px h-8 bg-gray-800"}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-400",children:M.total}),e.jsx("p",{className:"text-xs text-gray-500",children:"Total"})]}),e.jsx("div",{className:"w-px h-8 bg-gray-800"}),e.jsxs("div",{className:"w-16 h-16 relative",children:[e.jsxs("svg",{className:"w-16 h-16 -rotate-90",viewBox:"0 0 36 36",children:[e.jsx("circle",{className:"text-gray-800",strokeWidth:"3",stroke:"currentColor",fill:"transparent",r:"15.5",cx:"18",cy:"18"}),e.jsx("circle",{className:"text-violet-500 transition-all duration-1000",strokeWidth:"3",strokeLinecap:"round",stroke:"currentColor",fill:"transparent",r:"15.5",cx:"18",cy:"18",strokeDasharray:`${M.percentage} 100`})]}),e.jsxs("span",{className:"absolute inset-0 flex items-center justify-center text-xs font-bold text-white",children:[M.percentage,"%"]})]})]})]}),!y.isConnected&&e.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-xl p-4 flex items-center gap-3",children:[e.jsx(E,{className:"w-5 h-5 text-yellow-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-yellow-400",children:"Gateway not connected"}),e.jsx("p",{className:"text-xs text-yellow-500/70",children:"Connect to Gateway to manage providers"})]}),e.jsx("button",{type:"button",onClick:y.reconnect,className:"ml-auto px-3 py-1.5 bg-yellow-600/20 text-yellow-400 rounded-lg text-sm hover:bg-yellow-600/30 transition-colors",children:"Reconnect"})]}),n&&e.jsxs("div",{className:"bg-red-500/10 border border-red-500/30 rounded-xl p-4 flex items-center gap-3",children:[e.jsx(E,{className:"w-5 h-5 text-red-500"}),e.jsx("p",{className:"text-sm text-red-400",children:n}),e.jsx("button",{type:"button",onClick:w,className:"ml-auto px-3 py-1.5 bg-red-600/20 text-red-400 rounded-lg text-sm hover:bg-red-600/30 transition-colors",children:"Retry"})]}),r&&e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx(z,{className:"w-8 h-8 text-violet-500 animate-spin"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Loading provider status..."})]})}),!r&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(h=>{var b;return e.jsx(me,{provider:h,sparklineData:(b=L[h.id])==null?void 0:b.sparkline,usageStats:L[h.id],onConnect:()=>d(h.id),onManage:()=>d(h.id)},h.id)})}),M.connected===0&&!r&&e.jsxs("div",{className:"bg-gradient-to-r from-violet-500/10 to-pink-500/10 border border-violet-500/30 rounded-2xl p-6 text-center",children:[e.jsx(_,{className:"w-10 h-10 text-violet-400 mx-auto mb-3"}),e.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Get Started with OpenClaw"}),e.jsx("p",{className:"text-sm text-gray-400 max-w-md mx-auto mb-4",children:"Connect at least one AI provider to start creating agents. Anthropic (Claude) and OpenAI are the most popular choices."}),e.jsxs("button",{type:"button",onClick:()=>{t.find(b=>b.id==="anthropic")&&d("anthropic")},className:"inline-flex items-center gap-2 px-6 py-2.5 bg-violet-600 text-white rounded-xl font-medium hover:bg-violet-500 transition-colors",children:[e.jsx(Z,{className:"w-4 h-4"}),"Connect Claude (Anthropic)"]})]}),e.jsxs("div",{className:"bg-gray-900/50 rounded-xl border border-gray-800 p-5",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-300 mb-3",children:"About Authentication Methods"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"w-6 h-6 rounded bg-gray-800 flex items-center justify-center flex-shrink-0 mt-0.5",children:"ðŸ”‘"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium",children:"API Key"}),e.jsx("p",{className:"text-gray-500 text-xs",children:"Paste your secret key from the provider dashboard"})]})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"w-6 h-6 rounded bg-gray-800 flex items-center justify-center flex-shrink-0 mt-0.5",children:"ðŸ”—"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium",children:"OAuth"}),e.jsx("p",{className:"text-gray-500 text-xs",children:"Secure browser-based login with the provider"})]})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"w-6 h-6 rounded bg-gray-800 flex items-center justify-center flex-shrink-0 mt-0.5",children:"ðŸ“±"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium",children:"Device Code"}),e.jsx("p",{className:"text-gray-500 text-xs",children:"Enter a code on the provider's website to link"})]})]})]})]})]}),e.jsx(re,{open:i,step:p.currentStep,loading:p.loading,error:p.error,title:m,onSubmit:u,onCancel:I,onDismiss:I})]})}export{we as default};
