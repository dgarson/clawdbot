import{r as d,j as e,c as l}from"./index-D2H6hWpW.js";const j=[{id:"q1",name:"Acme Corp Production",scope:"tenant",entityId:"t-001",entityName:"Acme Corp",status:"warning",usages:[{current:845e3,limit:1e6,unit:"requests",resetPeriod:"monthly",lastReset:"2026-02-01",nextReset:"2026-03-01"},{current:42e6,limit:5e7,unit:"tokens",resetPeriod:"monthly",lastReset:"2026-02-01",nextReset:"2026-03-01"},{current:680,limit:1e3,unit:"compute",resetPeriod:"daily",lastReset:"2026-02-22",nextReset:"2026-02-23"}],alerts:[{id:"a1",quotaId:"q1",threshold:80,notifyEmail:!0,notifySlack:!0}],createdAt:"2026-01-01",updatedAt:"2026-02-22",notes:"Enterprise plan customer â€” monitor closely"},{id:"q2",name:"Globex Corp API",scope:"tenant",entityId:"t-002",entityName:"Globex Corp",status:"ok",usages:[{current:12e4,limit:5e5,unit:"requests",resetPeriod:"monthly",lastReset:"2026-02-01",nextReset:"2026-03-01"},{current:65e5,limit:25e6,unit:"tokens",resetPeriod:"monthly",lastReset:"2026-02-01",nextReset:"2026-03-01"},{current:210,limit:500,unit:"compute",resetPeriod:"daily",lastReset:"2026-02-22",nextReset:"2026-02-23"}],alerts:[{id:"a2",quotaId:"q2",threshold:75,notifyEmail:!0,notifySlack:!1}],createdAt:"2026-01-15",updatedAt:"2026-02-20",notes:""},{id:"q3",name:"Initech Dev Environment",scope:"tenant",entityId:"t-003",entityName:"Initech",status:"ok",usages:[{current:8e3,limit:1e5,unit:"requests",resetPeriod:"monthly",lastReset:"2026-02-01",nextReset:"2026-03-01"},{current:4e5,limit:5e6,unit:"tokens",resetPeriod:"monthly",lastReset:"2026-02-01",nextReset:"2026-03-01"},{current:15,limit:100,unit:"compute",resetPeriod:"daily",lastReset:"2026-02-22",nextReset:"2026-02-23"}],alerts:[],createdAt:"2026-02-10",updatedAt:"2026-02-21",notes:"Trial account"},{id:"q4",name:"Power User: alice@example.com",scope:"user",entityId:"u-901",entityName:"alice@example.com",status:"critical",usages:[{current:9600,limit:1e4,unit:"requests",resetPeriod:"daily",lastReset:"2026-02-22",nextReset:"2026-02-23"},{current:48e4,limit:5e5,unit:"tokens",resetPeriod:"daily",lastReset:"2026-02-22",nextReset:"2026-02-23"}],alerts:[{id:"a4",quotaId:"q4",threshold:90,notifyEmail:!0,notifySlack:!0}],createdAt:"2026-01-20",updatedAt:"2026-02-22",notes:"High-volume ML researcher"},{id:"q5",name:"API Key: prod-svc-key-7",scope:"api-key",entityId:"k-007",entityName:"prod-svc-key-7",status:"exceeded",usages:[{current:5100,limit:5e3,unit:"requests",resetPeriod:"hourly",lastReset:"2026-02-22T14:00",nextReset:"2026-02-22T15:00"}],alerts:[{id:"a5",quotaId:"q5",threshold:95,notifyEmail:!1,notifySlack:!0}],createdAt:"2026-02-01",updatedAt:"2026-02-22",notes:"Automated ingestion pipeline â€” review rate"},{id:"q6",name:"Global Storage Quota",scope:"global",entityId:"global",entityName:"Platform",status:"ok",usages:[{current:2400,limit:1e4,unit:"storage",resetPeriod:"monthly",lastReset:"2026-02-01",nextReset:"2026-03-01"},{current:890,limit:5e3,unit:"bandwidth",resetPeriod:"daily",lastReset:"2026-02-22",nextReset:"2026-02-23"}],alerts:[{id:"a6",quotaId:"q6",threshold:85,notifyEmail:!0,notifySlack:!0}],createdAt:"2025-12-01",updatedAt:"2026-02-22",notes:"Platform-wide cap â€” alert ops before 85%"}],N=[{hour:"08:00",requests:12e3,tokens:6e5,compute:28},{hour:"09:00",requests:28e3,tokens:14e5,compute:52},{hour:"10:00",requests:45e3,tokens:22e5,compute:78},{hour:"11:00",requests:62e3,tokens:31e5,compute:95},{hour:"12:00",requests:38e3,tokens:19e5,compute:64},{hour:"13:00",requests:41e3,tokens:205e4,compute:70},{hour:"14:00",requests:55e3,tokens:275e4,compute:88},{hour:"15:00",requests:48e3,tokens:24e5,compute:81}];function A(s){return s==="ok"?"text-emerald-400":s==="warning"?"text-amber-400":s==="critical"?"text-orange-400":"text-rose-400"}function f(s){return s==="ok"?"bg-emerald-400/10 text-emerald-400":s==="warning"?"bg-amber-400/10 text-amber-400":s==="critical"?"bg-orange-400/10 text-orange-400":"bg-rose-400/10 text-rose-400"}function v(s){return s==="global"?"bg-purple-500/10 text-purple-400":s==="tenant"?"bg-indigo-500/10 text-indigo-400":s==="user"?"bg-cyan-500/10 text-cyan-400":"bg-zinc-700 text-zinc-300"}function o(s){return Math.min(s.current/s.limit*100,100)}function z(s){return s>=100?"bg-rose-500":s>=90?"bg-orange-500":s>=75?"bg-amber-500":"bg-indigo-500"}function m(s){return s>=1e6?(s/1e6).toFixed(1)+"M":s>=1e3?(s/1e3).toFixed(1)+"K":String(s)}function y({usage:s}){const c=o(s);return e.jsxs("div",{className:"mb-2",children:[e.jsxs("div",{className:"flex justify-between text-xs text-zinc-400 mb-1",children:[e.jsx("span",{className:"capitalize",children:s.unit}),e.jsxs("span",{children:[m(s.current)," / ",m(s.limit)," ",e.jsxs("span",{className:"text-zinc-500",children:["(",c.toFixed(1),"%)"]})]})]}),e.jsx("div",{className:"h-2 bg-zinc-800 rounded-full overflow-hidden",children:e.jsx("div",{className:l("h-full rounded-full transition-all",z(c)),style:{width:`${c}%`}})}),e.jsxs("div",{className:"text-xs text-zinc-600 mt-1",children:["Resets ",s.resetPeriod," Â· next ",s.nextReset]})]})}function q({data:s}){const c=Math.max(...s.map(i=>i.requests));return e.jsx("div",{children:e.jsx("div",{className:"flex items-end gap-1 h-24",children:s.map((i,u)=>e.jsxs("div",{className:"flex-1 flex flex-col items-center gap-1",children:[e.jsx("div",{className:"w-full bg-zinc-800 rounded-sm overflow-hidden flex flex-col-reverse",style:{height:"80px"},children:e.jsx("div",{className:"bg-indigo-500 rounded-sm",style:{height:`${i.requests/c*100}%`}})}),e.jsx("span",{className:"text-xs text-zinc-600",children:i.hour})]},u))})})}function C(){const[s,c]=d.useState("quotas"),[i,u]=d.useState("all"),[h,w]=d.useState("all"),[x,k]=d.useState(""),[n,R]=d.useState(null),b=j.filter(t=>!(i!=="all"&&t.scope!==i||h!=="all"&&t.status!==h||x&&!t.name.toLowerCase().includes(x.toLowerCase())&&!t.entityName.toLowerCase().includes(x.toLowerCase()))),r=j.filter(t=>t.status==="critical"||t.status==="exceeded"),g={ok:0,warning:0,critical:0,exceeded:0};return j.forEach(t=>{g[t.status]++}),e.jsxs("div",{className:"h-full flex flex-col bg-zinc-950 text-white",children:[e.jsxs("div",{className:"border-b border-zinc-800 px-6 py-4 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-semibold",children:"Resource Quota Manager"}),e.jsx("p",{className:"text-sm text-zinc-400 mt-0.5",children:"Monitor and manage usage limits across tenants, users, and API keys"})]}),e.jsxs("div",{className:"flex gap-2",children:[r.length>0&&e.jsxs("span",{className:"bg-rose-500/10 text-rose-400 text-xs px-2 py-1 rounded-full border border-rose-500/30",children:[r.length," quota",r.length>1?"s":""," over limit"]}),e.jsx("button",{className:"bg-indigo-600 hover:bg-indigo-500 text-white text-sm px-3 py-1.5 rounded-lg transition-colors",children:"+ New Quota"})]})]}),e.jsx("div",{className:"border-b border-zinc-800 px-6",children:e.jsx("div",{className:"flex gap-6",children:["quotas","alerts","trends","settings"].map(t=>e.jsxs("button",{onClick:()=>c(t),className:l("py-3 text-sm font-medium border-b-2 capitalize transition-colors",s===t?"border-indigo-500 text-white":"border-transparent text-zinc-400 hover:text-zinc-200"),children:[t,t==="alerts"&&r.length>0&&e.jsx("span",{className:"ml-1.5 bg-rose-500 text-white text-xs px-1.5 rounded-full",children:r.length})]},t))})}),e.jsxs("div",{className:"flex-1 overflow-auto",children:[s==="quotas"&&e.jsxs("div",{className:"flex h-full",children:[e.jsxs("div",{className:"w-96 border-r border-zinc-800 flex flex-col",children:[e.jsxs("div",{className:"p-4 border-b border-zinc-800 space-y-3",children:[e.jsx("input",{type:"text",placeholder:"Search quotas...",value:x,onChange:t=>k(t.target.value),className:"w-full bg-zinc-800 text-sm rounded-lg px-3 py-2 text-zinc-200 placeholder-zinc-500 outline-none focus:ring-1 focus:ring-indigo-500"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("select",{value:i,onChange:t=>u(t.target.value),className:"flex-1 bg-zinc-800 text-sm rounded-lg px-2 py-1.5 text-zinc-300 outline-none",children:[e.jsx("option",{value:"all",children:"All Scopes"}),e.jsx("option",{value:"global",children:"Global"}),e.jsx("option",{value:"tenant",children:"Tenant"}),e.jsx("option",{value:"user",children:"User"}),e.jsx("option",{value:"api-key",children:"API Key"})]}),e.jsxs("select",{value:h,onChange:t=>w(t.target.value),className:"flex-1 bg-zinc-800 text-sm rounded-lg px-2 py-1.5 text-zinc-300 outline-none",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"ok",children:"OK"}),e.jsx("option",{value:"warning",children:"Warning"}),e.jsx("option",{value:"critical",children:"Critical"}),e.jsx("option",{value:"exceeded",children:"Exceeded"})]})]})]}),e.jsxs("div",{className:"overflow-y-auto flex-1",children:[b.map(t=>e.jsxs("button",{onClick:()=>R(t),className:l("w-full text-left px-4 py-3 border-b border-zinc-800 hover:bg-zinc-900 transition-colors",(n==null?void 0:n.id)===t.id&&"bg-zinc-900 border-l-2 border-l-indigo-500"),children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"text-sm font-medium text-zinc-100 truncate",children:t.name}),e.jsx("span",{className:l("text-xs px-1.5 py-0.5 rounded-full ml-2 shrink-0",f(t.status)),children:t.status})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:l("text-xs px-1.5 py-0.5 rounded",v(t.scope)),children:t.scope}),e.jsxs("span",{className:"text-xs text-zinc-500",children:[t.usages.length," metric",t.usages.length>1?"s":""]})]}),e.jsx("div",{className:"mt-2 space-y-1",children:t.usages.slice(0,2).map((a,p)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs text-zinc-500 w-16 truncate capitalize",children:a.unit}),e.jsx("div",{className:"flex-1 h-1 bg-zinc-800 rounded-full overflow-hidden",children:e.jsx("div",{className:l("h-full rounded-full",z(o(a))),style:{width:`${o(a)}%`}})}),e.jsxs("span",{className:"text-xs text-zinc-500 w-10 text-right",children:[o(a).toFixed(0),"%"]})]},p))})]},t.id)),b.length===0&&e.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-zinc-500",children:[e.jsx("span",{className:"text-3xl mb-2",children:"ðŸ“­"}),e.jsx("span",{className:"text-sm",children:"No quotas match filters"})]})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:n?e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-zinc-100",children:n.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx("span",{className:l("text-xs px-2 py-0.5 rounded-full",v(n.scope)),children:n.scope}),e.jsx("span",{className:l("text-xs px-2 py-0.5 rounded-full",f(n.status)),children:n.status}),e.jsxs("span",{className:"text-xs text-zinc-500",children:["Entity: ",n.entityName]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"bg-zinc-800 hover:bg-zinc-700 text-sm px-3 py-1.5 rounded-lg text-zinc-300 transition-colors",children:"Edit"}),e.jsx("button",{className:"bg-rose-900/50 hover:bg-rose-900 text-rose-400 text-sm px-3 py-1.5 rounded-lg transition-colors",children:"Delete"})]})]}),e.jsxs("div",{className:"bg-zinc-900 rounded-xl p-5 mb-4",children:[e.jsx("h3",{className:"text-sm font-medium text-zinc-300 mb-4",children:"Usage Metrics"}),n.usages.map((t,a)=>e.jsx(y,{usage:t},a))]}),e.jsxs("div",{className:"bg-zinc-900 rounded-xl p-5 mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"text-sm font-medium text-zinc-300",children:"Alert Thresholds"}),e.jsx("button",{className:"text-xs text-indigo-400 hover:text-indigo-300",children:"+ Add Alert"})]}),n.alerts.length>0?n.alerts.map(t=>e.jsxs("div",{className:"bg-zinc-800 rounded-lg p-3 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("span",{className:"text-sm text-zinc-200",children:["Alert at ",e.jsxs("span",{className:"text-amber-400",children:[t.threshold,"%"]})]}),e.jsxs("div",{className:"flex gap-3 mt-1",children:[e.jsx("span",{className:l("text-xs",t.notifyEmail?"text-emerald-400":"text-zinc-600"),children:"âœ‰ Email"}),e.jsx("span",{className:l("text-xs",t.notifySlack?"text-emerald-400":"text-zinc-600"),children:"ðŸ’¬ Slack"})]})]}),e.jsx("button",{className:"text-zinc-500 hover:text-rose-400 text-sm transition-colors",children:"âœ•"})]},t.id)):e.jsx("p",{className:"text-sm text-zinc-500",children:"No alerts configured"})]}),e.jsxs("div",{className:"bg-zinc-900 rounded-xl p-5",children:[e.jsx("h3",{className:"text-sm font-medium text-zinc-300 mb-3",children:"Metadata"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-zinc-500 text-xs mb-0.5",children:"Created"}),e.jsx("div",{className:"text-zinc-200",children:n.createdAt})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-zinc-500 text-xs mb-0.5",children:"Updated"}),e.jsx("div",{className:"text-zinc-200",children:n.updatedAt})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("div",{className:"text-zinc-500 text-xs mb-0.5",children:"Notes"}),e.jsx("div",{className:"text-zinc-200",children:n.notes||e.jsx("span",{className:"text-zinc-600",children:"â€”"})})]})]})]})]}):e.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-zinc-500",children:[e.jsx("span",{className:"text-4xl mb-3",children:"â›½"}),e.jsx("span",{className:"text-sm",children:"Select a quota to view details"})]})})]}),s==="alerts"&&e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"grid grid-cols-4 gap-4 mb-6",children:["ok","warning","critical","exceeded"].map(t=>e.jsxs("div",{className:"bg-zinc-900 rounded-xl p-4 text-center",children:[e.jsx("div",{className:l("text-2xl font-bold",A(t)),children:g[t]}),e.jsx("div",{className:"text-xs text-zinc-400 capitalize mt-1",children:t})]},t))}),e.jsxs("h3",{className:"text-sm font-medium text-zinc-300 mb-3",children:["Active Issues (",r.length,")"]}),e.jsx("div",{className:"space-y-3",children:r.length===0?e.jsxs("div",{className:"bg-zinc-900 rounded-xl p-8 text-center text-zinc-500",children:[e.jsx("span",{className:"text-3xl block mb-2",children:"âœ…"}),"All quotas within limits"]}):r.map(t=>e.jsxs("div",{className:"bg-zinc-900 rounded-xl p-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-zinc-100",children:t.name}),e.jsx("span",{className:l("ml-2 text-xs px-2 py-0.5 rounded-full",f(t.status)),children:t.status})]}),e.jsx("button",{className:"text-xs bg-amber-900/40 text-amber-400 px-2 py-1 rounded hover:bg-amber-900/60 transition-colors",children:"Reset Quota"})]}),t.usages.map((a,p)=>o(a)<90?null:e.jsx(y,{usage:a},p)),t.notes&&e.jsxs("p",{className:"text-xs text-zinc-500 mt-2",children:["Note: ",t.notes]})]},t.id))})]}),s==="trends"&&e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"bg-zinc-900 rounded-xl p-5 mb-4",children:[e.jsx("h3",{className:"text-sm font-medium text-zinc-300 mb-1",children:"Hourly Request Volume (Today)"}),e.jsx("p",{className:"text-xs text-zinc-500 mb-4",children:"Aggregated across all scopes"}),e.jsx(q,{data:N})]}),e.jsx("div",{className:"grid grid-cols-3 gap-4",children:N.slice(-3).map((t,a)=>e.jsxs("div",{className:"bg-zinc-900 rounded-xl p-4",children:[e.jsx("div",{className:"text-xs text-zinc-500 mb-2",children:t.hour}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-zinc-400",children:"Requests"}),e.jsx("span",{className:"text-indigo-400",children:m(t.requests)})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-zinc-400",children:"Tokens"}),e.jsx("span",{className:"text-purple-400",children:m(t.tokens)})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-zinc-400",children:"Compute"}),e.jsxs("span",{className:"text-cyan-400",children:[t.compute," vCPUÂ·s"]})]})]})]},a))})]}),s==="settings"&&e.jsxs("div",{className:"p-6 max-w-2xl",children:[e.jsxs("div",{className:"bg-zinc-900 rounded-xl p-5 mb-4",children:[e.jsx("h3",{className:"text-sm font-medium text-zinc-300 mb-4",children:"Default Limits"}),e.jsx("div",{className:"space-y-3",children:[{label:"Default Tenant Monthly Requests",value:"1,000,000"},{label:"Default Tenant Monthly Tokens",value:"50,000,000"},{label:"Default User Daily Requests",value:"10,000"},{label:"Default API Key Hourly Requests",value:"5,000"}].map((t,a)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-zinc-300",children:t.label}),e.jsx("input",{type:"text",defaultValue:t.value,className:"bg-zinc-800 text-sm text-zinc-200 rounded px-3 py-1.5 w-36 outline-none focus:ring-1 focus:ring-indigo-500 text-right"})]},a))})]}),e.jsxs("div",{className:"bg-zinc-900 rounded-xl p-5 mb-4",children:[e.jsx("h3",{className:"text-sm font-medium text-zinc-300 mb-4",children:"Enforcement"}),e.jsx("div",{className:"space-y-3",children:[{label:"Hard cap on exceeded quotas",enabled:!0},{label:"Grace period (15 min) before blocking",enabled:!1},{label:"Auto-notify tenant on 80% threshold",enabled:!0},{label:"Allow quota purchase upgrades",enabled:!0}].map((t,a)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-zinc-300",children:t.label}),e.jsx("div",{className:l("w-10 h-5 rounded-full relative cursor-pointer transition-colors",t.enabled?"bg-indigo-600":"bg-zinc-700"),children:e.jsx("div",{className:l("absolute top-0.5 w-4 h-4 bg-white rounded-full shadow transition-transform",t.enabled?"translate-x-5":"translate-x-0.5")})})]},a))})]}),e.jsx("button",{className:"bg-indigo-600 hover:bg-indigo-500 text-white text-sm px-4 py-2 rounded-lg transition-colors",children:"Save Settings"})]})]})]})}export{C as default};
