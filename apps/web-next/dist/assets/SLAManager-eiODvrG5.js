import{r as p,j as e,c as m}from"./index-BuITcl8D.js";const f=[{id:"sla-1",name:"API Gateway Uptime",service:"API",metricType:"uptime",targetValue:99.95,currentValue:99.97,unit:"%",measurementWindow:"monthly",priority:"critical",status:"met",trend:"up"},{id:"sla-2",name:"LLM Inference Latency",service:"LLM",metricType:"response-time",targetValue:500,currentValue:472,unit:"ms",measurementWindow:"daily",priority:"critical",status:"met",trend:"stable"},{id:"sla-3",name:"Webhook Delivery Rate",service:"Webhooks",metricType:"uptime",targetValue:99.9,currentValue:99.2,unit:"%",measurementWindow:"weekly",priority:"high",status:"at-risk",trend:"down"},{id:"sla-4",name:"Support Ticket Resolution",service:"Support",metricType:"resolution-time",targetValue:24,currentValue:31,unit:"hrs",measurementWindow:"monthly",priority:"medium",status:"breached",trend:"down"},{id:"sla-5",name:"Database Query P99",service:"Database",metricType:"response-time",targetValue:200,currentValue:185,unit:"ms",measurementWindow:"daily",priority:"high",status:"met",trend:"up"},{id:"sla-6",name:"LLM Model Availability",service:"LLM",metricType:"uptime",targetValue:99.5,currentValue:98.8,unit:"%",measurementWindow:"monthly",priority:"high",status:"at-risk",trend:"down"},{id:"sla-7",name:"API Response Time (P95)",service:"API",metricType:"response-time",targetValue:150,currentValue:132,unit:"ms",measurementWindow:"daily",priority:"critical",status:"met",trend:"up"},{id:"sla-8",name:"Webhook Retry Success",service:"Webhooks",metricType:"uptime",targetValue:99,currentValue:97.5,unit:"%",measurementWindow:"weekly",priority:"medium",status:"breached",trend:"down"}],y=[{slaId:"sla-1",slaName:"API Gateway Uptime",service:"API",months:{"Jan 2026":99.96,"Feb 2026":99.97}},{slaId:"sla-2",slaName:"LLM Inference Latency",service:"LLM",months:{"Jan 2026":98.1,"Feb 2026":99.3}},{slaId:"sla-3",slaName:"Webhook Delivery Rate",service:"Webhooks",months:{"Jan 2026":99.91,"Feb 2026":99.2}},{slaId:"sla-4",slaName:"Support Ticket Resolution",service:"Support",months:{"Jan 2026":88,"Feb 2026":77.4}},{slaId:"sla-5",slaName:"Database Query P99",service:"Database",months:{"Jan 2026":99.7,"Feb 2026":99.8}},{slaId:"sla-6",slaName:"LLM Model Availability",service:"LLM",months:{"Jan 2026":99.6,"Feb 2026":98.8}},{slaId:"sla-7",slaName:"API Response Time (P95)",service:"API",months:{"Jan 2026":99.4,"Feb 2026":99.7}},{slaId:"sla-8",slaName:"Webhook Retry Success",service:"Webhooks",months:{"Jan 2026":98.2,"Feb 2026":97.5}}],w=[{id:"inc-1",slaId:"sla-4",slaName:"Support Ticket Resolution",service:"Support",occurredAt:"2026-02-18 14:23",duration:"7h 12m",impact:"42 tickets exceeded 24hr resolution window",resolutionStatus:"investigating",description:"Spike in support volume from billing migration caused backlog exceeding SLA targets."},{id:"inc-2",slaId:"sla-8",slaName:"Webhook Retry Success",service:"Webhooks",occurredAt:"2026-02-15 09:47",duration:"3h 38m",impact:"1,247 webhooks failed after 3 retry attempts",resolutionStatus:"resolved",description:"Downstream partner endpoint returned 503 during maintenance window; retry queue exhausted."},{id:"inc-3",slaId:"sla-3",slaName:"Webhook Delivery Rate",service:"Webhooks",occurredAt:"2026-02-12 22:15",duration:"1h 54m",impact:"Delivery rate dropped to 97.8% for 2hr window",resolutionStatus:"resolved",description:"Network partition between webhook workers and message queue caused delivery delays."},{id:"inc-4",slaId:"sla-6",slaName:"LLM Model Availability",service:"LLM",occurredAt:"2026-02-10 03:02",duration:"45m",impact:"Model serving cluster scaled down too aggressively",resolutionStatus:"mitigated",description:"Auto-scaler reduced replicas below minimum during low-traffic window; cold start latency spiked."},{id:"inc-5",slaId:"sla-4",slaName:"Support Ticket Resolution",service:"Support",occurredAt:"2026-01-28 10:30",duration:"12h 05m",impact:"18 P1 tickets unresolved beyond SLA window",resolutionStatus:"resolved",description:"Holiday staffing shortfall combined with infrastructure incident created resolution bottleneck."},{id:"inc-6",slaId:"sla-8",slaName:"Webhook Retry Success",service:"Webhooks",occurredAt:"2026-01-20 16:12",duration:"2h 20m",impact:"832 webhooks permanently failed",resolutionStatus:"resolved",description:"TLS certificate rotation on retry worker caused transient connection failures to endpoints."}],z=[{key:"overview",label:"Overview",emoji:"üìä"},{key:"definitions",label:"SLA Definitions",emoji:"üìã"},{key:"compliance",label:"Compliance Report",emoji:"üìà"},{key:"incidents",label:"Incidents",emoji:"üö®"}];function g(s){switch(s){case"met":return{label:"Met",emoji:"‚úÖ",className:"bg-emerald-400/15 text-emerald-400 border-emerald-400/30"};case"at-risk":return{label:"At Risk",emoji:"‚ö†Ô∏è",className:"bg-amber-400/15 text-amber-400 border-amber-400/30"};case"breached":return{label:"Breached",emoji:"‚ùå",className:"bg-rose-400/15 text-rose-400 border-rose-400/30"}}}function N(s){switch(s){case"up":return{arrow:"‚Üë",className:"text-emerald-400"};case"down":return{arrow:"‚Üì",className:"text-rose-400"};case"stable":return{arrow:"‚Üí",className:"text-zinc-400"}}}function k(s){switch(s){case"critical":return{label:"Critical",className:"bg-rose-400/15 text-rose-400 border-rose-400/30"};case"high":return{label:"High",className:"bg-amber-400/15 text-amber-400 border-amber-400/30"};case"medium":return{label:"Medium",className:"bg-indigo-500/15 text-indigo-400 border-indigo-400/30"};case"low":return{label:"Low",className:"bg-zinc-700/40 text-zinc-400 border-zinc-600"}}}function S(s){switch(s){case"resolved":return{label:"Resolved",emoji:"‚úÖ",className:"bg-emerald-400/15 text-emerald-400 border-emerald-400/30"};case"investigating":return{label:"Investigating",emoji:"üîç",className:"bg-amber-400/15 text-amber-400 border-amber-400/30"};case"unresolved":return{label:"Unresolved",emoji:"‚ùå",className:"bg-rose-400/15 text-rose-400 border-rose-400/30"};case"mitigated":return{label:"Mitigated",emoji:"üõ°Ô∏è",className:"bg-indigo-500/15 text-indigo-400 border-indigo-400/30"}}}function j(s){switch(s){case"uptime":return"Uptime";case"response-time":return"Response Time";case"resolution-time":return"Resolution Time"}}function v(s){switch(s){case"daily":return"Daily";case"weekly":return"Weekly";case"monthly":return"Monthly"}}function T(s){return s.metricType==="uptime"?s.currentValue:s.currentValue<=s.targetValue?100:Math.max(0,Math.min(100,s.targetValue/s.currentValue*100))}function I(s,d){const n=s/d;return n>=1?"bg-emerald-400/10":n>=.98?"bg-amber-400/10":"bg-rose-400/10"}function L(s,d){const n=s/d;return n>=1?"text-emerald-400":n>=.98?"text-amber-400":"text-rose-400"}function A({slas:s}){const d=s.filter(t=>t.status==="met").length,n=s.filter(t=>t.status==="at-risk").length,r=s.filter(t=>t.status==="breached").length;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl p-5",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"text-lg",children:"‚úÖ"}),e.jsx("span",{className:"text-sm text-zinc-400",children:"SLAs Met"})]}),e.jsx("div",{className:"text-3xl font-bold text-emerald-400",children:d})]}),e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl p-5",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"text-lg",children:"‚ö†Ô∏è"}),e.jsx("span",{className:"text-sm text-zinc-400",children:"At Risk"})]}),e.jsx("div",{className:"text-3xl font-bold text-amber-400",children:n})]}),e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl p-5",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"text-lg",children:"‚ùå"}),e.jsx("span",{className:"text-sm text-zinc-400",children:"Breached"})]}),e.jsx("div",{className:"text-3xl font-bold text-rose-400",children:r})]})]}),e.jsx("div",{className:"space-y-3",children:s.map(t=>{const a=g(t.status),l=N(t.trend),x=T(t);t.metricType==="uptime"&&t.targetValue;const o=t.metricType==="uptime"?Math.min(100,t.currentValue/100*100):Math.min(100,x),i=t.metricType==="uptime"?t.targetValue/100*100:100,c=t.status==="met"?"bg-emerald-400":t.status==="at-risk"?"bg-amber-400":"bg-rose-400";return e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl p-5",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3 mb-3",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h3",{className:"text-white font-semibold truncate",children:t.name}),e.jsx("span",{className:m("text-sm font-medium",l.className),children:l.arrow})]}),e.jsxs("div",{className:"flex items-center gap-3 text-sm text-zinc-400",children:[e.jsx("span",{className:"bg-zinc-800 px-2 py-0.5 rounded text-xs",children:t.service}),e.jsx("span",{children:j(t.metricType)}),e.jsx("span",{children:"¬∑"}),e.jsx("span",{children:v(t.measurementWindow)})]})]}),e.jsxs("div",{className:"flex items-center gap-3 shrink-0",children:[e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-white font-mono text-lg font-bold",children:[t.currentValue,e.jsx("span",{className:"text-zinc-500 text-sm",children:t.unit})]}),e.jsxs("div",{className:"text-xs text-zinc-500",children:["Target: ",t.targetValue,t.unit]})]}),e.jsxs("span",{className:m("inline-flex items-center gap-1 px-2.5 py-1 rounded-full text-xs font-medium border",a.className),children:[a.emoji," ",a.label]})]})]}),e.jsxs("div",{className:"relative h-3 bg-zinc-800 rounded-full overflow-hidden",children:[e.jsx("div",{className:m("absolute inset-y-0 left-0 rounded-full transition-all",c),style:{width:`${o}%`}}),e.jsx("div",{className:"absolute inset-y-0 w-0.5 bg-white/60",style:{left:`${i}%`},title:`Target: ${t.targetValue}${t.unit}`})]}),e.jsxs("div",{className:"flex justify-between mt-1 text-[10px] text-zinc-500",children:[e.jsxs("span",{children:["0",t.unit]}),e.jsxs("span",{children:["Target ",t.targetValue,t.unit]}),e.jsx("span",{children:t.metricType==="uptime"?"100%":`${t.targetValue}${t.unit}`})]})]},t.id)})})]})}function V({slas:s,onUpdate:d}){const[n,r]=p.useState(null),[t,a]=p.useState("");function l(i,c,u){r({id:i,field:c}),a(String(u))}function x(i,c){const b=["targetValue","currentValue"].includes(c)?parseFloat(t)||0:t;d(i,c,b),r(null),a("")}function o(i,c,u){return(n==null?void 0:n.id)===i.id&&(n==null?void 0:n.field)===c?e.jsx("input",{className:"bg-zinc-800 border border-indigo-500 rounded px-2 py-1 text-white text-sm w-full outline-none focus:ring-1 focus:ring-indigo-500",value:t,onChange:h=>a(h.target.value),onBlur:()=>x(i.id,c),onKeyDown:h=>{h.key==="Enter"&&x(i.id,c),h.key==="Escape"&&r(null)},autoFocus:!0}):e.jsx("span",{className:"cursor-pointer hover:text-indigo-400 transition-colors",onClick:()=>l(i.id,c,i[c]),title:"Click to edit",children:u})}return e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("p",{className:"text-sm text-zinc-400",children:"Click any value to edit inline. Press Enter to save, Escape to cancel."})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-zinc-800 text-left",children:[e.jsx("th",{className:"pb-3 pr-4 text-zinc-400 font-medium",children:"Name"}),e.jsx("th",{className:"pb-3 pr-4 text-zinc-400 font-medium",children:"Service"}),e.jsx("th",{className:"pb-3 pr-4 text-zinc-400 font-medium",children:"Metric"}),e.jsx("th",{className:"pb-3 pr-4 text-zinc-400 font-medium",children:"Target"}),e.jsx("th",{className:"pb-3 pr-4 text-zinc-400 font-medium",children:"Window"}),e.jsx("th",{className:"pb-3 pr-4 text-zinc-400 font-medium",children:"Priority"}),e.jsx("th",{className:"pb-3 text-zinc-400 font-medium",children:"Status"})]})}),e.jsx("tbody",{className:"divide-y divide-zinc-800/60",children:s.map(i=>{const c=g(i.status),u=k(i.priority);return e.jsxs("tr",{className:"hover:bg-zinc-800/30 transition-colors",children:[e.jsx("td",{className:"py-3 pr-4 text-white font-medium",children:o(i,"name",i.name)}),e.jsx("td",{className:"py-3 pr-4",children:e.jsx("span",{className:"bg-zinc-800 text-zinc-300 px-2 py-0.5 rounded text-xs",children:o(i,"service",i.service)})}),e.jsx("td",{className:"py-3 pr-4 text-zinc-300",children:j(i.metricType)}),e.jsx("td",{className:"py-3 pr-4 text-white font-mono",children:o(i,"targetValue",`${i.targetValue}${i.unit}`)}),e.jsx("td",{className:"py-3 pr-4 text-zinc-300",children:v(i.measurementWindow)}),e.jsx("td",{className:"py-3 pr-4",children:e.jsx("span",{className:m("inline-flex px-2 py-0.5 rounded-full text-xs font-medium border",u.className),children:u.label})}),e.jsx("td",{className:"py-3",children:e.jsxs("span",{className:m("inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium border",c.className),children:[c.emoji," ",c.label]})})]},i.id)})})]})})]})}function M({data:s,slas:d}){const n=["Jan 2026","Feb 2026"];function r(t){const a=d.find(l=>l.id===t);return a&&a.metricType==="uptime"?a.targetValue:99}return e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-zinc-400",children:"Monthly compliance percentages ‚Äî color-coded against SLA targets."}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-zinc-800 text-left",children:[e.jsx("th",{className:"pb-3 pr-4 text-zinc-400 font-medium",children:"SLA"}),e.jsx("th",{className:"pb-3 pr-4 text-zinc-400 font-medium",children:"Service"}),e.jsx("th",{className:"pb-3 pr-4 text-zinc-400 font-medium text-right",children:"Target"}),n.map(t=>e.jsx("th",{className:"pb-3 pr-4 text-zinc-400 font-medium text-center",children:t},t)),e.jsx("th",{className:"pb-3 text-zinc-400 font-medium text-center",children:"Trend"})]})}),e.jsx("tbody",{className:"divide-y divide-zinc-800/60",children:s.map(t=>{const a=r(t.slaId),l=n.map(i=>t.months[i]??0),x=l.length>=2?l[1]>l[0]?"up":l[1]<l[0]?"down":"stable":"stable",o=N(x);return e.jsxs("tr",{className:"hover:bg-zinc-800/30 transition-colors",children:[e.jsx("td",{className:"py-3 pr-4 text-white font-medium",children:t.slaName}),e.jsx("td",{className:"py-3 pr-4",children:e.jsx("span",{className:"bg-zinc-800 text-zinc-300 px-2 py-0.5 rounded text-xs",children:t.service})}),e.jsxs("td",{className:"py-3 pr-4 text-zinc-300 font-mono text-right",children:[a,"%"]}),n.map(i=>{const c=t.months[i]??0;return e.jsx("td",{className:"py-3 pr-4 text-center",children:e.jsxs("span",{className:m("inline-block px-3 py-1 rounded-lg font-mono text-sm font-medium",I(c,a),L(c,a)),children:[c.toFixed(1),"%"]})},i)}),e.jsx("td",{className:"py-3 text-center",children:e.jsx("span",{className:m("text-lg font-bold",o.className),children:o.arrow})})]},t.slaId)})})]})}),e.jsxs("div",{className:"flex items-center gap-6 text-xs text-zinc-500 pt-2",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("span",{className:"w-3 h-3 rounded bg-emerald-400/20 border border-emerald-400/40"}),e.jsx("span",{children:"Meeting target"})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("span",{className:"w-3 h-3 rounded bg-amber-400/20 border border-amber-400/40"}),e.jsx("span",{children:"Within 2% of target"})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("span",{className:"w-3 h-3 rounded bg-rose-400/20 border border-rose-400/40"}),e.jsx("span",{children:"Below target"})]})]})]})}function W({incidents:s}){const[d,n]=p.useState(null);return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("p",{className:"text-sm text-zinc-400",children:["SLA breach incidents ‚Äî ",s.length," total"]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-zinc-500",children:[e.jsxs("span",{className:"flex items-center gap-1",children:["‚úÖ Resolved: ",s.filter(r=>r.resolutionStatus==="resolved").length]}),e.jsx("span",{className:"text-zinc-700",children:"|"}),e.jsxs("span",{className:"flex items-center gap-1",children:["üîç Investigating: ",s.filter(r=>r.resolutionStatus==="investigating").length]}),e.jsx("span",{className:"text-zinc-700",children:"|"}),e.jsxs("span",{className:"flex items-center gap-1",children:["üõ°Ô∏è Mitigated: ",s.filter(r=>r.resolutionStatus==="mitigated").length]})]})]}),e.jsx("div",{className:"space-y-3",children:s.map(r=>{const t=S(r.resolutionStatus),a=d===r.id;return e.jsxs("div",{className:m("bg-zinc-900 border rounded-xl transition-colors",r.resolutionStatus==="investigating"?"border-amber-400/30":r.resolutionStatus==="unresolved"?"border-rose-400/30":"border-zinc-800"),children:[e.jsx("div",{className:"p-4 cursor-pointer",onClick:()=>n(a?null:r.id),children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"text-white font-semibold",children:r.slaName}),e.jsx("span",{className:"bg-zinc-800 text-zinc-400 px-2 py-0.5 rounded text-xs",children:r.service})]}),e.jsxs("div",{className:"flex items-center gap-3 text-xs text-zinc-500",children:[e.jsxs("span",{children:["üïê ",r.occurredAt]}),e.jsxs("span",{children:["‚è±Ô∏è Duration: ",r.duration]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[e.jsxs("span",{className:m("inline-flex items-center gap-1 px-2.5 py-1 rounded-full text-xs font-medium border",t.className),children:[t.emoji," ",t.label]}),e.jsx("span",{className:"text-zinc-500 text-sm",children:a?"‚ñ≤":"‚ñº"})]})]})}),a&&e.jsx("div",{className:"px-4 pb-4 pt-0 border-t border-zinc-800/60",children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mt-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-zinc-500 mb-1",children:"Impact"}),e.jsx("div",{className:"text-sm text-zinc-300",children:r.impact})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-zinc-500 mb-1",children:"Description"}),e.jsx("div",{className:"text-sm text-zinc-300",children:r.description})]})]})})]},r.id)})})]})}function E(){const[s,d]=p.useState("overview"),[n,r]=p.useState(f);function t(a,l,x){r(o=>o.map(i=>i.id!==a?i:{...i,[l]:x}))}return e.jsx("div",{className:"min-h-screen bg-zinc-950 text-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("span",{className:"text-2xl",children:"üìã"}),e.jsx("h1",{className:"text-2xl font-bold text-white",children:"SLA Manager"})]}),e.jsx("p",{className:"text-zinc-400 text-sm",children:"Monitor, define, and track service level agreements across all platform services."})]}),e.jsx("div",{className:"border-b border-zinc-800 mb-6",children:e.jsx("nav",{className:"flex gap-1 -mb-px overflow-x-auto",children:z.map(a=>e.jsxs("button",{onClick:()=>d(a.key),className:m("flex items-center gap-2 px-4 py-2.5 text-sm font-medium border-b-2 transition-colors whitespace-nowrap",s===a.key?"border-indigo-500 text-indigo-400":"border-transparent text-zinc-500 hover:text-zinc-300 hover:border-zinc-700"),children:[e.jsx("span",{children:a.emoji}),a.label]},a.key))})}),e.jsxs("div",{children:[s==="overview"&&e.jsx(A,{slas:n}),s==="definitions"&&e.jsx(V,{slas:n,onUpdate:t}),s==="compliance"&&e.jsx(M,{data:y,slas:n}),s==="incidents"&&e.jsx(W,{incidents:w})]})]})})}export{E as default};
