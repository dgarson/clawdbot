import{r as y,j as e,c as d}from"./index-C59JeFug.js";const b=[{id:"s1",name:"web-gateway",version:"v2.4.1",namespace:"frontend",requestRate:1240,errorRate:.3,p99Latency:48},{id:"s2",name:"ui-renderer",version:"v1.8.0",namespace:"frontend",requestRate:890,errorRate:.1,p99Latency:32},{id:"s3",name:"api-router",version:"v3.1.2",namespace:"backend",requestRate:2100,errorRate:1.2,p99Latency:95},{id:"s4",name:"auth-service",version:"v2.0.5",namespace:"backend",requestRate:560,errorRate:0,p99Latency:22},{id:"s5",name:"user-service",version:"v1.9.3",namespace:"backend",requestRate:780,errorRate:.5,p99Latency:67},{id:"s6",name:"billing-service",version:"v2.2.0",namespace:"backend",requestRate:340,errorRate:2.8,p99Latency:210},{id:"s7",name:"postgres-primary",version:"v14.5",namespace:"data",requestRate:1850,errorRate:0,p99Latency:12},{id:"s8",name:"redis-cluster",version:"v7.0.1",namespace:"data",requestRate:4200,errorRate:0,p99Latency:3},{id:"s9",name:"kafka-broker",version:"v3.4.0",namespace:"data",requestRate:620,errorRate:.2,p99Latency:18},{id:"s10",name:"prometheus",version:"v2.45",namespace:"infra",requestRate:280,errorRate:0,p99Latency:55},{id:"s11",name:"jaeger-collector",version:"v1.47",namespace:"infra",requestRate:1100,errorRate:0,p99Latency:28},{id:"s12",name:"envoy-proxy",version:"v1.27",namespace:"infra",requestRate:3400,errorRate:.4,p99Latency:8}],f={s1:{serviceId:"s1",upstreams:[],downstreams:[{serviceId:"s3",name:"api-router",health:"healthy",trafficRate:1200},{serviceId:"s4",name:"auth-service",health:"healthy",trafficRate:420}]},s3:{serviceId:"s3",upstreams:[{serviceId:"s1",name:"web-gateway",health:"healthy",trafficRate:1200},{serviceId:"s2",name:"ui-renderer",health:"healthy",trafficRate:860}],downstreams:[{serviceId:"s5",name:"user-service",health:"healthy",trafficRate:780},{serviceId:"s6",name:"billing-service",health:"degraded",trafficRate:340},{serviceId:"s7",name:"postgres-primary",health:"healthy",trafficRate:950},{serviceId:"s8",name:"redis-cluster",health:"healthy",trafficRate:1800}]},s6:{serviceId:"s6",upstreams:[{serviceId:"s3",name:"api-router",health:"degraded",trafficRate:340}],downstreams:[{serviceId:"s7",name:"postgres-primary",health:"broken",trafficRate:0},{serviceId:"s9",name:"kafka-broker",health:"degraded",trafficRate:120}]}},m=[{id:"t1",source:"web-gateway",destination:"api-router",sourceNs:"frontend",destNs:"backend",protocol:"HTTP",requestsPerSec:1200,successRate:99.7,p50Latency:18,p99Latency:95,bytesPerSec:248e3},{id:"t2",source:"web-gateway",destination:"auth-service",sourceNs:"frontend",destNs:"backend",protocol:"gRPC",requestsPerSec:420,successRate:100,p50Latency:8,p99Latency:22,bytesPerSec:52e3},{id:"t3",source:"ui-renderer",destination:"api-router",sourceNs:"frontend",destNs:"backend",protocol:"HTTP",requestsPerSec:860,successRate:99.1,p50Latency:22,p99Latency:88,bytesPerSec:185e3},{id:"t4",source:"api-router",destination:"user-service",sourceNs:"backend",destNs:"backend",protocol:"gRPC",requestsPerSec:780,successRate:99.5,p50Latency:14,p99Latency:67,bytesPerSec:96e3},{id:"t5",source:"api-router",destination:"billing-service",sourceNs:"backend",destNs:"backend",protocol:"HTTP",requestsPerSec:340,successRate:97.2,p50Latency:82,p99Latency:210,bytesPerSec:74e3},{id:"t6",source:"api-router",destination:"postgres-primary",sourceNs:"backend",destNs:"data",protocol:"TCP",requestsPerSec:950,successRate:100,p50Latency:4,p99Latency:12,bytesPerSec:42e4},{id:"t7",source:"api-router",destination:"redis-cluster",sourceNs:"backend",destNs:"data",protocol:"TCP",requestsPerSec:1800,successRate:100,p50Latency:1,p99Latency:3,bytesPerSec:128e3},{id:"t8",source:"user-service",destination:"postgres-primary",sourceNs:"backend",destNs:"data",protocol:"TCP",requestsPerSec:620,successRate:100,p50Latency:4,p99Latency:11,bytesPerSec:31e4},{id:"t9",source:"billing-service",destination:"kafka-broker",sourceNs:"backend",destNs:"data",protocol:"TCP",requestsPerSec:120,successRate:98.3,p50Latency:6,p99Latency:18,bytesPerSec:42e3},{id:"t10",source:"envoy-proxy",destination:"web-gateway",sourceNs:"infra",destNs:"frontend",protocol:"HTTP",requestsPerSec:1240,successRate:99.7,p50Latency:2,p99Latency:8,bytesPerSec:56e4},{id:"t11",source:"prometheus",destination:"api-router",sourceNs:"infra",destNs:"backend",protocol:"HTTP",requestsPerSec:45,successRate:100,p50Latency:12,p99Latency:55,bytesPerSec:8200},{id:"t12",source:"jaeger-collector",destination:"kafka-broker",sourceNs:"infra",destNs:"data",protocol:"gRPC",requestsPerSec:280,successRate:100,p50Latency:5,p99Latency:28,bytesPerSec:95e3},{id:"t13",source:"billing-service",destination:"postgres-primary",sourceNs:"backend",destNs:"data",protocol:"TCP",requestsPerSec:0,successRate:0,p50Latency:0,p99Latency:0,bytesPerSec:0}],R=[{namespace:"frontend",mtls:"enabled",circuitBreaker:{threshold:50,windowSeconds:30,status:"closed"},retryPolicy:{attempts:3,perTryTimeoutMs:2e3},timeoutMs:5e3},{namespace:"backend",mtls:"enabled",circuitBreaker:{threshold:25,windowSeconds:10,status:"half-open"},retryPolicy:{attempts:2,perTryTimeoutMs:3e3},timeoutMs:1e4},{namespace:"data",mtls:"permissive",circuitBreaker:{threshold:10,windowSeconds:60,status:"closed"},retryPolicy:{attempts:1,perTryTimeoutMs:5e3},timeoutMs:3e4},{namespace:"infra",mtls:"disabled",circuitBreaker:{threshold:100,windowSeconds:60,status:"closed"},retryPolicy:{attempts:3,perTryTimeoutMs:1e3},timeoutMs:3e3}],u=[{id:"c1",workload:"web-gateway",namespace:"frontend",expiry:"2026-04-15",issuer:"istio-ca",status:"valid",lastRotated:"2026-01-15"},{id:"c2",workload:"ui-renderer",namespace:"frontend",expiry:"2026-03-02",issuer:"istio-ca",status:"expiring",lastRotated:"2025-12-02"},{id:"c3",workload:"api-router",namespace:"backend",expiry:"2026-05-20",issuer:"istio-ca",status:"valid",lastRotated:"2026-02-20"},{id:"c4",workload:"auth-service",namespace:"backend",expiry:"2026-04-08",issuer:"istio-ca",status:"valid",lastRotated:"2026-01-08"},{id:"c5",workload:"user-service",namespace:"backend",expiry:"2026-02-25",issuer:"istio-ca",status:"expiring",lastRotated:"2025-11-25"},{id:"c6",workload:"billing-service",namespace:"backend",expiry:"2026-02-18",issuer:"istio-ca",status:"expired",lastRotated:"2025-11-18"},{id:"c7",workload:"postgres-primary",namespace:"data",expiry:"2026-06-01",issuer:"vault-pki",status:"valid",lastRotated:"2026-02-01"},{id:"c8",workload:"redis-cluster",namespace:"data",expiry:"2026-05-14",issuer:"vault-pki",status:"valid",lastRotated:"2026-01-14"},{id:"c9",workload:"kafka-broker",namespace:"data",expiry:"2026-03-05",issuer:"vault-pki",status:"expiring",lastRotated:"2025-12-05"},{id:"c10",workload:"prometheus",namespace:"infra",expiry:"2026-07-10",issuer:"istio-ca",status:"valid",lastRotated:"2026-01-10"},{id:"c11",workload:"jaeger-collector",namespace:"infra",expiry:"2026-04-22",issuer:"istio-ca",status:"valid",lastRotated:"2026-01-22"},{id:"c12",workload:"envoy-proxy",namespace:"infra",expiry:"2026-02-28",issuer:"istio-ca",status:"expiring",lastRotated:"2025-11-28"}],g={frontend:"text-indigo-400 bg-indigo-500/10 border-indigo-500/30",backend:"text-emerald-400 bg-emerald-500/10 border-emerald-500/30",data:"text-amber-400 bg-amber-500/10 border-amber-500/30",infra:"text-zinc-300 bg-zinc-800 border-zinc-700"},j={healthy:"text-emerald-400",degraded:"text-amber-400",broken:"text-rose-400"},v={healthy:"bg-emerald-400",degraded:"bg-amber-400",broken:"bg-rose-400"},z={valid:"text-emerald-400 bg-emerald-400/10 border-emerald-500/30",expiring:"text-amber-400 bg-amber-400/10 border-amber-500/30",expired:"text-rose-400 bg-rose-400/10 border-rose-500/30"},S={enabled:"text-emerald-400 bg-emerald-400/10 border-emerald-500/30",permissive:"text-amber-400 bg-amber-400/10 border-amber-500/30",disabled:"text-rose-400 bg-rose-400/10 border-rose-500/30"},k={closed:"text-emerald-400","half-open":"text-amber-400",open:"text-rose-400"};function p({label:s,className:n}){return e.jsx("span",{className:d("text-xs font-medium px-2 py-0.5 rounded border",n),children:s})}function N({label:s,value:n,sub:a}){return e.jsxs("div",{className:"bg-zinc-900 rounded-lg border border-zinc-700 px-4 py-3 flex flex-col gap-1",children:[e.jsx("span",{className:"text-xs text-zinc-400 uppercase tracking-wide",children:s}),e.jsx("span",{className:"text-xl font-semibold text-white",children:n}),a&&e.jsx("span",{className:"text-xs text-zinc-400",children:a})]})}function L(){const[s,n]=y.useState(null),a=["frontend","backend","data","infra"];function l(r){n(h=>h===r?null:r)}const i=s?f[s]:null,o=s?b.find(r=>r.id===s):null;return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"grid grid-cols-4 gap-4",children:a.map(r=>{const h=b.filter(c=>c.namespace===r);return e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:d("text-xs font-semibold px-2 py-1 rounded-md border w-fit",g[r]),children:r}),e.jsx("div",{className:"space-y-2",children:h.map(c=>e.jsxs("button",{onClick:()=>l(c.id),className:d("w-full text-left bg-zinc-900 rounded-lg border p-3 transition-colors hover:border-indigo-500/60",s===c.id?"border-indigo-500 ring-1 ring-indigo-500/40":"border-zinc-700"),children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"text-sm font-medium text-white truncate",children:c.name}),e.jsx("span",{className:"text-xs text-zinc-500 ml-1 shrink-0",children:c.version})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-1 text-xs",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-zinc-400",children:"RPS"}),e.jsx("div",{className:"text-white",children:c.requestRate.toLocaleString()})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-zinc-400",children:"Err%"}),e.jsxs("div",{className:c.errorRate>1?"text-rose-400":c.errorRate>0?"text-amber-400":"text-emerald-400",children:[c.errorRate.toFixed(1),"%"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-zinc-400",children:"p99"}),e.jsxs("div",{className:c.p99Latency>100?"text-rose-400":c.p99Latency>50?"text-amber-400":"text-white",children:[c.p99Latency,"ms"]})]})]})]},c.id))})]},r)})}),o&&e.jsxs("div",{className:"bg-zinc-900 rounded-lg border border-indigo-500/40 p-4 space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-base font-semibold text-white",children:o.name}),e.jsx(p,{label:o.version,className:"text-zinc-400 bg-zinc-800 border-zinc-700"}),e.jsx(p,{label:o.namespace,className:g[o.namespace]})]}),i?e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"text-xs font-semibold text-zinc-400 uppercase tracking-wide mb-2",children:["â†‘ Upstream Callers (",i.upstreams.length,")"]}),i.upstreams.length===0?e.jsx("div",{className:"text-sm text-zinc-500 italic",children:"No upstream callers (entry point)"}):e.jsx("div",{className:"space-y-1.5",children:i.upstreams.map(r=>e.jsxs("div",{className:"flex items-center justify-between bg-zinc-800 rounded-md px-3 py-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:d("w-2 h-2 rounded-full",v[r.health])}),e.jsx("span",{className:"text-sm text-white",children:r.name})]}),e.jsxs("div",{className:"flex items-center gap-3 text-xs",children:[e.jsx("span",{className:j[r.health],children:r.health}),e.jsxs("span",{className:"text-zinc-400",children:[r.trafficRate.toLocaleString()," rps"]})]})]},r.serviceId))})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-xs font-semibold text-zinc-400 uppercase tracking-wide mb-2",children:["â†“ Downstream Dependencies (",i.downstreams.length,")"]}),i.downstreams.length===0?e.jsx("div",{className:"text-sm text-zinc-500 italic",children:"No downstream dependencies"}):e.jsx("div",{className:"space-y-1.5",children:i.downstreams.map(r=>e.jsxs("div",{className:"flex items-center justify-between bg-zinc-800 rounded-md px-3 py-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:d("w-2 h-2 rounded-full",v[r.health])}),e.jsx("span",{className:"text-sm text-white",children:r.name})]}),e.jsxs("div",{className:"flex items-center gap-3 text-xs",children:[e.jsx("span",{className:j[r.health],children:r.health}),e.jsxs("span",{className:"text-zinc-400",children:[r.trafficRate.toLocaleString()," rps"]})]})]},r.serviceId))})]})]}):e.jsx("div",{className:"text-sm text-zinc-400",children:"No detailed connection data for this service."})]})]})}function w(){const[s,n]=y.useState("all"),a=m.reduce((t,x)=>t+x.requestsPerSec,0),l=Math.round(m.filter(t=>t.p99Latency>0).reduce((t,x)=>t+x.p99Latency,0)/m.filter(t=>t.p99Latency>0).length),i=m.filter(t=>t.requestsPerSec>0).reduce((t,x)=>t+x.successRate,0)/m.filter(t=>t.requestsPerSec>0).length,o=Math.max(0,i-99).toFixed(2),r=s==="all"?m:m.filter(t=>t.sourceNs===s||t.destNs===s),h=["all","frontend","backend","data","infra"],c={HTTP:"text-indigo-400 bg-indigo-500/10 border-indigo-500/30",gRPC:"text-emerald-400 bg-emerald-500/10 border-emerald-500/30",TCP:"text-zinc-300 bg-zinc-800 border-zinc-700"};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsx(N,{label:"Total RPS",value:a.toLocaleString(),sub:"across all flows"}),e.jsx(N,{label:"Avg p99 Latency",value:`${l}ms`,sub:"weighted average"}),e.jsx(N,{label:"Error Budget Remaining",value:`${o}%`,sub:"vs 99.0% SLO"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs text-zinc-400",children:"Filter by namespace:"}),h.map(t=>e.jsx("button",{onClick:()=>n(t),className:d("text-xs px-3 py-1.5 rounded-md border transition-colors",s===t?"bg-indigo-500 border-indigo-400 text-white":"bg-zinc-800 border-zinc-700 text-zinc-400 hover:border-zinc-500"),children:t},t))]}),e.jsx("div",{className:"bg-zinc-900 rounded-lg border border-zinc-700 overflow-hidden",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-zinc-700",children:[e.jsx("th",{className:"text-left text-xs text-zinc-400 font-medium px-4 py-3",children:"Source"}),e.jsx("th",{className:"text-left text-xs text-zinc-400 font-medium px-4 py-3",children:"Destination"}),e.jsx("th",{className:"text-left text-xs text-zinc-400 font-medium px-4 py-3",children:"Protocol"}),e.jsx("th",{className:"text-right text-xs text-zinc-400 font-medium px-4 py-3",children:"Req/s"}),e.jsx("th",{className:"text-right text-xs text-zinc-400 font-medium px-4 py-3",children:"Success%"}),e.jsx("th",{className:"text-right text-xs text-zinc-400 font-medium px-4 py-3",children:"p50"}),e.jsx("th",{className:"text-right text-xs text-zinc-400 font-medium px-4 py-3",children:"p99"}),e.jsx("th",{className:"text-right text-xs text-zinc-400 font-medium px-4 py-3",children:"Bytes/s"})]})}),e.jsx("tbody",{children:r.map((t,x)=>e.jsxs("tr",{className:d("border-b border-zinc-800 last:border-0",x%2===0?"bg-zinc-900":"bg-zinc-800/40"),children:[e.jsxs("td",{className:"px-4 py-2.5",children:[e.jsx("div",{className:"text-white",children:t.source}),e.jsx("div",{className:"text-xs text-zinc-500",children:t.sourceNs})]}),e.jsxs("td",{className:"px-4 py-2.5",children:[e.jsx("div",{className:"text-white",children:t.destination}),e.jsx("div",{className:"text-xs text-zinc-500",children:t.destNs})]}),e.jsx("td",{className:"px-4 py-2.5",children:e.jsx(p,{label:t.protocol,className:c[t.protocol]})}),e.jsx("td",{className:"px-4 py-2.5 text-right text-white tabular-nums",children:t.requestsPerSec.toLocaleString()}),e.jsx("td",{className:d("px-4 py-2.5 text-right tabular-nums",t.successRate>=99.5?"text-emerald-400":t.successRate>=99?"text-amber-400":t.successRate>0?"text-rose-400":"text-zinc-500"),children:t.successRate>0?`${t.successRate.toFixed(1)}%`:"â€”"}),e.jsx("td",{className:"px-4 py-2.5 text-right text-zinc-300 tabular-nums",children:t.p50Latency>0?`${t.p50Latency}ms`:"â€”"}),e.jsx("td",{className:d("px-4 py-2.5 text-right tabular-nums",t.p99Latency>100?"text-rose-400":t.p99Latency>50?"text-amber-400":"text-white"),children:t.p99Latency>0?`${t.p99Latency}ms`:"â€”"}),e.jsx("td",{className:"px-4 py-2.5 text-right text-zinc-400 tabular-nums",children:t.bytesPerSec>0?`${(t.bytesPerSec/1e3).toFixed(0)}KB`:"â€”"})]},t.id))})]})})]})}function P(){return e.jsx("div",{className:"space-y-4",children:R.map(s=>e.jsxs("div",{className:"bg-zinc-900 rounded-lg border border-zinc-700 p-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("h3",{className:"text-base font-semibold text-white capitalize",children:s.namespace}),e.jsx(p,{label:"namespace",className:g[s.namespace]})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-zinc-800 rounded-lg p-3 space-y-2",children:[e.jsx("div",{className:"text-xs font-semibold text-zinc-400 uppercase tracking-wide",children:"mTLS Mode"}),e.jsx(p,{label:s.mtls,className:S[s.mtls]}),e.jsxs("div",{className:"text-xs text-zinc-500",children:[s.mtls==="enabled"&&"Strict mutual TLS enforced",s.mtls==="permissive"&&"Mixed plaintext + mTLS",s.mtls==="disabled"&&"No TLS enforcement"]})]}),e.jsxs("div",{className:"bg-zinc-800 rounded-lg p-3 space-y-2",children:[e.jsx("div",{className:"text-xs font-semibold text-zinc-400 uppercase tracking-wide",children:"Circuit Breaker"}),e.jsxs("div",{className:d("text-sm font-medium flex items-center gap-1.5",k[s.circuitBreaker.status]),children:[e.jsx("span",{className:d("w-2 h-2 rounded-full",{"bg-emerald-400":s.circuitBreaker.status==="closed","bg-amber-400":s.circuitBreaker.status==="half-open","bg-rose-400":s.circuitBreaker.status==="open"})}),s.circuitBreaker.status]}),e.jsxs("div",{className:"text-xs text-zinc-400 space-y-0.5",children:[e.jsxs("div",{children:["Threshold: ",e.jsxs("span",{className:"text-white",children:[s.circuitBreaker.threshold,"%"]})]}),e.jsxs("div",{children:["Window: ",e.jsxs("span",{className:"text-white",children:[s.circuitBreaker.windowSeconds,"s"]})]})]})]}),e.jsxs("div",{className:"bg-zinc-800 rounded-lg p-3 space-y-2",children:[e.jsx("div",{className:"text-xs font-semibold text-zinc-400 uppercase tracking-wide",children:"Retry Policy"}),e.jsxs("div",{className:"text-sm text-white",children:[s.retryPolicy.attempts," attempts"]}),e.jsxs("div",{className:"text-xs text-zinc-400 space-y-0.5",children:[e.jsx("div",{children:"Per-try timeout:"}),e.jsxs("div",{className:"text-white",children:[s.retryPolicy.perTryTimeoutMs,"ms"]})]})]}),e.jsxs("div",{className:"bg-zinc-800 rounded-lg p-3 space-y-2",children:[e.jsx("div",{className:"text-xs font-semibold text-zinc-400 uppercase tracking-wide",children:"Request Timeout"}),e.jsx("div",{className:"text-xl font-semibold text-white",children:s.timeoutMs>=1e3?`${s.timeoutMs/1e3}s`:`${s.timeoutMs}ms`}),e.jsx("div",{className:"text-xs text-zinc-500",children:"global default"})]})]})]},s.namespace))})}function T(){const s=u.filter(a=>a.status==="expiring"),n=u.filter(a=>a.status==="expired");return e.jsxs("div",{className:"space-y-4",children:[(s.length>0||n.length>0)&&e.jsxs("div",{className:"flex gap-3",children:[n.length>0&&e.jsxs("div",{className:"bg-rose-400/10 border border-rose-500/40 rounded-lg px-4 py-3 flex items-center gap-3",children:[e.jsx("span",{className:"text-rose-400 text-lg",children:"âš "}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-sm font-semibold text-rose-400",children:[n.length," Expired Certificate",n.length>1?"s":""]}),e.jsx("div",{className:"text-xs text-rose-400/70",children:"Immediate rotation required"})]})]}),s.length>0&&e.jsxs("div",{className:"bg-amber-400/10 border border-amber-500/40 rounded-lg px-4 py-3 flex items-center gap-3",children:[e.jsx("span",{className:"text-amber-400 text-lg",children:"âš¡"}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-sm font-semibold text-amber-400",children:[s.length," Certificate",s.length>1?"s":""," Expiring Soon"]}),e.jsx("div",{className:"text-xs text-amber-400/70",children:"Rotation recommended within 7 days"})]})]}),e.jsxs("div",{className:"bg-emerald-400/10 border border-emerald-500/40 rounded-lg px-4 py-3 flex items-center gap-3",children:[e.jsx("span",{className:"text-emerald-400 text-lg",children:"âœ“"}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-sm font-semibold text-emerald-400",children:[u.filter(a=>a.status==="valid").length," Valid Certificates"]}),e.jsx("div",{className:"text-xs text-emerald-400/70",children:"No action required"})]})]})]}),e.jsx("div",{className:"bg-zinc-900 rounded-lg border border-zinc-700 overflow-hidden",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-zinc-700",children:[e.jsx("th",{className:"text-left text-xs text-zinc-400 font-medium px-4 py-3",children:"Workload"}),e.jsx("th",{className:"text-left text-xs text-zinc-400 font-medium px-4 py-3",children:"Namespace"}),e.jsx("th",{className:"text-left text-xs text-zinc-400 font-medium px-4 py-3",children:"Issuer"}),e.jsx("th",{className:"text-left text-xs text-zinc-400 font-medium px-4 py-3",children:"Status"}),e.jsx("th",{className:"text-left text-xs text-zinc-400 font-medium px-4 py-3",children:"Expires"}),e.jsx("th",{className:"text-left text-xs text-zinc-400 font-medium px-4 py-3",children:"Last Rotated"})]})}),e.jsx("tbody",{children:u.map((a,l)=>e.jsxs("tr",{className:d("border-b border-zinc-800 last:border-0",l%2===0?"bg-zinc-900":"bg-zinc-800/40"),children:[e.jsx("td",{className:"px-4 py-2.5",children:e.jsx("span",{className:"text-white font-medium",children:a.workload})}),e.jsx("td",{className:"px-4 py-2.5",children:e.jsx(p,{label:a.namespace,className:g[a.namespace]})}),e.jsx("td",{className:"px-4 py-2.5 text-zinc-300",children:a.issuer}),e.jsx("td",{className:"px-4 py-2.5",children:e.jsx(p,{label:a.status,className:z[a.status]})}),e.jsx("td",{className:d("px-4 py-2.5 tabular-nums",a.status==="expired"?"text-rose-400":a.status==="expiring"?"text-amber-400":"text-zinc-300"),children:a.expiry}),e.jsx("td",{className:"px-4 py-2.5 text-zinc-400 tabular-nums",children:a.lastRotated})]},a.id))})]})})]})}const C=[{id:"topology",label:"Topology",icon:"â¬¡"},{id:"traffic",label:"Traffic",icon:"â‡„"},{id:"policies",label:"Policies",icon:"ðŸ”’"},{id:"certificates",label:"Certificates",icon:"ðŸ“œ"}];function I(){const[s,n]=y.useState("topology"),a=b.filter(i=>i.errorRate>1).length,l=b.length;return e.jsxs("div",{className:"min-h-screen bg-zinc-950 p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Service Mesh"}),e.jsxs("p",{className:"text-sm text-zinc-400 mt-1",children:["Istio/Envoy observability â€” ",l," services across 4 namespaces"]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[a>0?e.jsxs("span",{className:"flex items-center gap-1.5 text-sm text-rose-400 bg-rose-400/10 border border-rose-500/30 rounded-md px-3 py-1.5",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-rose-400 animate-pulse"}),a," degraded"]}):e.jsxs("span",{className:"flex items-center gap-1.5 text-sm text-emerald-400 bg-emerald-400/10 border border-emerald-500/30 rounded-md px-3 py-1.5",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-emerald-400"}),"All healthy"]}),e.jsx("span",{className:"text-xs text-zinc-500 bg-zinc-800 border border-zinc-700 rounded-md px-2 py-1.5",children:"Live Â· 30s refresh"})]})]}),e.jsx("div",{className:"flex gap-1 border-b border-zinc-800 pb-0",children:C.map(i=>e.jsxs("button",{onClick:()=>n(i.id),className:d("flex items-center gap-2 px-4 py-2.5 text-sm font-medium rounded-t-md border-b-2 -mb-px transition-colors",s===i.id?"text-white border-indigo-500 bg-zinc-900":"text-zinc-400 border-transparent hover:text-zinc-200 hover:bg-zinc-900/50"),children:[e.jsx("span",{children:i.icon}),i.label]},i.id))}),e.jsxs("div",{children:[s==="topology"&&e.jsx(L,{}),s==="traffic"&&e.jsx(w,{}),s==="policies"&&e.jsx(P,{}),s==="certificates"&&e.jsx(T,{})]})]})}export{I as default};
