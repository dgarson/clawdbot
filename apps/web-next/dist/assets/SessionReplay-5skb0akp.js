import{r as o,j as e,c as u}from"./index-CszENDvb.js";const P=[{label:"All",value:"all"},{label:"Messages",value:"messages"},{label:"Tools",value:"tools"},{label:"System",value:"system"},{label:"Errors",value:"errors"}],A=[.5,1,2,5],k=[{id:"sess-001",agentName:"Luis",label:"Morning Heartbeat",totalMs:14320,startedAt:"2026-02-22T07:00:00Z",totalTokens:4870,totalTools:8,events:[{id:"e-001-01",offsetMs:0,kind:"system",content:"Session started â€” agent Luis, model gpt-4o"},{id:"e-001-02",offsetMs:120,kind:"message",role:"system",content:"You are Luis, Principal UX Engineer. Run the morning heartbeat: check PR queue, summarize blockers, post standup."},{id:"e-001-03",offsetMs:340,kind:"message",role:"assistant",content:"Starting morning heartbeat. First I'll check the open PR queue for dgarson/clawdbot.",tokens:82},{id:"e-001-04",offsetMs:980,kind:"tool-call",toolName:"exec",content:"gh pr list --repo dgarson/clawdbot --state open --limit 20",duration:1240},{id:"e-001-05",offsetMs:2220,kind:"tool-result",toolName:"exec",content:"5 open PRs: #412 wes/badge-variants, #410 reed/aria-listbox, #408 sam/motion-tokens, #405 quinn/loading-states, #401 piper/hover-focus"},{id:"e-001-06",offsetMs:2580,kind:"message",role:"assistant",content:"5 open PRs found. Let me check for any failing CI checks.",tokens:64},{id:"e-001-07",offsetMs:3100,kind:"tool-call",toolName:"exec",content:"gh pr checks 412 --repo dgarson/clawdbot",duration:890},{id:"e-001-08",offsetMs:3990,kind:"tool-result",toolName:"exec",content:"All checks passing âœ“"},{id:"e-001-09",offsetMs:4200,kind:"tool-call",toolName:"read",content:"Reading memory/2026-02-21.md for yesterday's context",duration:210},{id:"e-001-10",offsetMs:4410,kind:"tool-result",toolName:"read",content:"Yesterday: shipped badge component, Reed flagged a11y gap in Dropdown, Sam blocked on motion token naming."},{id:"e-001-11",offsetMs:4800,kind:"message",role:"assistant",content:"Two blockers from yesterday: Reed's a11y gap in Dropdown and Sam's motion token naming. Let me spawn subagents to check status on each.",tokens:120,important:!0},{id:"e-001-12",offsetMs:5400,kind:"subagent-spawn",content:"Spawned subagent reed-a11y-check: 'Check if Dropdown a11y gap from yesterday is resolved'"},{id:"e-001-13",offsetMs:5600,kind:"subagent-spawn",content:"Spawned subagent sam-motion-check: 'Check motion token naming blocker status'"},{id:"e-001-14",offsetMs:7200,kind:"subagent-done",content:"reed-a11y-check complete: Reed pushed fix in #410, ARIA listbox role now applied. Gap resolved."},{id:"e-001-15",offsetMs:8100,kind:"subagent-done",content:"sam-motion-check complete: Sam still blocked â€” waiting on Luis decision for duration.fast vs timing.fast naming."},{id:"e-001-16",offsetMs:8500,kind:"message",role:"assistant",content:"Reed's Dropdown fix is merged. Sam is still blocked on token naming â€” I need to make a decision on that. Using 'duration.*' prefix.",tokens:95,important:!0},{id:"e-001-17",offsetMs:9200,kind:"tool-call",toolName:"write",content:"Writing decision to memory/2026-02-22.md: motion tokens use 'duration.*' prefix",duration:180},{id:"e-001-18",offsetMs:9380,kind:"tool-result",toolName:"write",content:"File written successfully."},{id:"e-001-19",offsetMs:10400,kind:"tool-call",toolName:"exec",content:"Posting standup summary to #ui-squad channel",duration:620},{id:"e-001-20",offsetMs:11020,kind:"tool-result",toolName:"exec",content:"Message sent to #ui-squad"},{id:"e-001-21",offsetMs:12800,kind:"message",role:"assistant",content:"Morning heartbeat complete. 5 PRs open, 1 blocker resolved (Reed a11y), 1 decision made (duration.* tokens for Sam). Standup posted.",tokens:110},{id:"e-001-22",offsetMs:14320,kind:"system",content:"Session completed â€” 4870 tokens, 8 tool calls, 2 subagents"}]},{id:"sess-002",agentName:"Stephan",label:"Daily Digest",totalMs:8710,startedAt:"2026-02-22T08:15:00Z",totalTokens:1240,totalTools:3,events:[{id:"e-002-01",offsetMs:0,kind:"system",content:"Session started â€” agent Stephan, model gpt-4o"},{id:"e-002-02",offsetMs:200,kind:"message",role:"system",content:"You are Stephan, the daily digest curator. Summarize commits, PRs, and notable changes from the last 24h."},{id:"e-002-03",offsetMs:600,kind:"message",role:"assistant",content:"I'll pull the commit log and PR activity for the last 24 hours.",tokens:45},{id:"e-002-04",offsetMs:1200,kind:"tool-call",toolName:"exec",content:"gh api repos/dgarson/clawdbot/commits?since=2026-02-21T08:15:00Z",duration:1800},{id:"e-002-05",offsetMs:3e3,kind:"tool-result",toolName:"exec",content:"14 commits across 4 branches: badge variants, aria listbox, motion tokens, loading states"},{id:"e-002-06",offsetMs:3400,kind:"tool-call",toolName:"exec",content:"gh pr list --repo dgarson/clawdbot --state merged --search 'merged:>2026-02-21'",duration:1500},{id:"e-002-07",offsetMs:4900,kind:"tool-result",toolName:"exec",content:"2 PRs merged: #398 piper/tooltip-positioning, #396 quinn/form-validation-states"},{id:"e-002-08",offsetMs:5800,kind:"error",content:"LLM call timed out after 2500ms â€” model overloaded. Retrying is not configured for this session.",important:!0},{id:"e-002-09",offsetMs:8710,kind:"system",content:"Session terminated â€” incomplete due to LLM timeout. 1240 tokens consumed, 3 tool calls."}]},{id:"sess-003",agentName:"Reed",label:"Workspace Settings",totalMs:46353,startedAt:"2026-02-22T09:30:00Z",totalTokens:8920,totalTools:5,events:[{id:"e-003-01",offsetMs:0,kind:"system",content:"Session started â€” agent Reed, model gpt-4o"},{id:"e-003-02",offsetMs:300,kind:"message",role:"system",content:"You are Reed, accessibility specialist. Update workspace settings for the a11y audit tooling configuration."},{id:"e-003-03",offsetMs:1200,kind:"message",role:"assistant",content:"I'll start by reading the current workspace settings to understand what's configured.",tokens:52},{id:"e-003-04",offsetMs:2800,kind:"tool-call",toolName:"read",content:"Reading .openclaw/workspace/reed/settings.json",duration:340},{id:"e-003-05",offsetMs:3140,kind:"tool-result",toolName:"read",content:'{"auditLevel": "AA", "contrastChecker": true, "ariaLinter": false, "keyboardTrap": true, "focusVisible": true}'},{id:"e-003-06",offsetMs:8400,kind:"message",role:"assistant",content:"Current settings have ariaLinter disabled. I need to enable it and add the new screenReaderTesting flag. Let me also bump auditLevel to AAA for the new compliance target.",tokens:340,important:!0},{id:"e-003-07",offsetMs:18200,kind:"tool-call",toolName:"write",content:'Writing updated settings.json with ariaLinter: true, auditLevel: "AAA", screenReaderTesting: true',duration:280},{id:"e-003-08",offsetMs:18480,kind:"tool-result",toolName:"write",content:"File written successfully."},{id:"e-003-09",offsetMs:24600,kind:"message",role:"assistant",content:"Settings updated. Now let me verify the configuration is valid by running the audit dry-run.",tokens:78},{id:"e-003-10",offsetMs:32e3,kind:"tool-call",toolName:"exec",content:"npx a11y-audit --dry-run --config .openclaw/workspace/reed/settings.json",duration:8200},{id:"e-003-11",offsetMs:40200,kind:"tool-result",toolName:"exec",content:"Dry run passed. 0 errors, 2 warnings (color-contrast edge cases in Badge component). Configuration valid."},{id:"e-003-12",offsetMs:46353,kind:"system",content:"Session completed â€” 8920 tokens, 5 tool calls. Workspace settings updated successfully."}]}];function x(t){if(t<1e3)return`${t}ms`;if(t<6e4)return`${(t/1e3).toFixed(1)}s`;const i=Math.floor(t/6e4),n=Math.round(t%6e4/1e3);return`${i}m ${n}s`}function D(t){return t===0?"+0s":t<1e3?`+${t}ms`:`+${(t/1e3).toFixed(1)}s`}function F(t){switch(t){case"message":return"ðŸ’¬";case"tool-call":return"ðŸ”§";case"tool-result":return"ðŸ“‹";case"subagent-spawn":return"ðŸš€";case"subagent-done":return"âœ…";case"system":return"âš™ï¸";case"error":return"âŒ"}}function $(t){switch(t){case"message":return"text-indigo-400";case"tool-call":return"text-amber-400";case"tool-result":return"text-emerald-400";case"subagent-spawn":return"text-indigo-400";case"subagent-done":return"text-emerald-400";case"system":return"text-zinc-400";case"error":return"text-rose-400"}}function R(t,i){return i==="all"?!0:i==="messages"?t.kind==="message":i==="tools"?t.kind==="tool-call"||t.kind==="tool-result":i==="system"?t.kind==="system"||t.kind==="subagent-spawn"||t.kind==="subagent-done":i==="errors"?t.kind==="error":!0}function q({session:t,isSelected:i,onSelect:n}){return e.jsxs("button",{type:"button",onClick:n,className:u("w-full text-left px-4 py-3 border-b border-zinc-800 transition-colors","hover:bg-zinc-800/60 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-inset",i?"bg-zinc-800 border-l-2 border-l-indigo-500":"border-l-2 border-l-transparent"),children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"text-sm font-semibold text-white truncate",children:t.agentName}),e.jsx("span",{className:"text-xs text-zinc-400 tabular-nums ml-2 shrink-0",children:x(t.totalMs)})]}),e.jsx("p",{className:"text-xs text-zinc-400 truncate mb-1.5",children:t.label}),e.jsxs("div",{className:"flex items-center gap-3 text-xs text-zinc-500",children:[e.jsxs("span",{children:[t.events.length," events"]}),e.jsxs("span",{children:[t.totalTokens.toLocaleString()," tok"]}),e.jsxs("span",{children:[t.totalTools," tools"]})]})]})}function B({event:t,isCurrent:i,isExpanded:n,onToggle:f}){return e.jsx("button",{type:"button",onClick:f,className:u("w-full text-left px-3 py-2.5 border-b border-zinc-800/50 transition-colors","hover:bg-zinc-800/40 focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:ring-inset",i&&"bg-indigo-500/15 border-l-2 border-l-indigo-500",!i&&"border-l-2 border-l-transparent"),children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"shrink-0 mt-0.5 px-1.5 py-0.5 rounded text-[10px] font-mono tabular-nums bg-zinc-800 text-zinc-400",children:D(t.offsetMs)}),e.jsx("span",{className:"shrink-0 mt-0.5 text-sm","aria-hidden":"true",children:F(t.kind)}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-0.5",children:[e.jsx("span",{className:u("text-[10px] font-semibold uppercase tracking-wider",$(t.kind)),children:t.kind}),t.role&&e.jsxs("span",{className:"text-[10px] text-zinc-500",children:["(",t.role,")"]}),t.toolName&&e.jsx("span",{className:"text-[10px] font-mono text-amber-400/70",children:t.toolName}),t.tokens!=null&&e.jsxs("span",{className:"text-[10px] text-zinc-500 tabular-nums",children:[t.tokens," tok"]}),t.duration!=null&&e.jsx("span",{className:"text-[10px] text-zinc-500 tabular-nums",children:x(t.duration)}),t.important&&e.jsx("span",{className:"text-[10px] text-amber-400",children:"â˜…"})]}),e.jsx("p",{className:u("text-xs text-zinc-300",!n&&"truncate"),children:t.content})]}),e.jsx("span",{className:"shrink-0 mt-1 text-zinc-600 text-xs select-none",children:n?"â–¾":"â–¸"})]})})}function Y(){const[t,i]=o.useState(k[0].id),n=k.find(s=>s.id===t)??k[0],[f,m]=o.useState(!1),[r,g]=o.useState(0),[y,E]=o.useState(1),[M,v]=o.useState("all"),[T,j]=o.useState(null),c=o.useRef(null),N=o.useRef(null),S=o.useRef(null),a=n.events.filter(s=>R(s,M)),p=r<a.length?a[r]:null,z=p&&n.totalMs>0?p.offsetMs/n.totalMs*100:a.length>0&&r>=a.length?100:0;o.useEffect(()=>{m(!1),g(0),j(null),v("all")},[t]),o.useEffect(()=>{g(0),m(!1)},[M]),o.useEffect(()=>{if(c.current&&(clearTimeout(c.current),c.current=null),!f)return;if(r>=a.length-1){m(!1);return}const s=a[r],l=a[r+1];if(!s||!l){m(!1);return}const d=l.offsetMs-s.offsetMs,w=Math.max(50,d/y);return c.current=setTimeout(()=>{g(h=>h+1)},w),()=>{c.current&&(clearTimeout(c.current),c.current=null)}},[f,r,y,a]),o.useEffect(()=>{N.current&&S.current&&N.current.scrollIntoView({behavior:"smooth",block:"nearest"})},[r]);const L=o.useCallback(s=>{const l=s.currentTarget.getBoundingClientRect(),w=Math.max(0,Math.min(1,(s.clientX-l.left)/l.width))*n.totalMs;let h=0;for(let b=0;b<a.length&&a[b].offsetMs<=w;b++)h=b;g(h)},[n.totalMs,a]),C=o.useCallback(()=>{r>=a.length-1?(g(0),m(!0)):m(s=>!s)},[r,a.length]),I=o.useCallback(s=>{j(l=>l===s?null:s)},[]);return e.jsxs("div",{className:"flex h-screen bg-zinc-950 text-white",children:[e.jsxs("aside",{className:"w-72 shrink-0 border-r border-zinc-800 flex flex-col bg-zinc-950",children:[e.jsx("div",{className:"px-4 py-3 border-b border-zinc-800",children:e.jsx("h2",{className:"text-sm font-semibold text-zinc-300 uppercase tracking-wider",children:"Sessions"})}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:k.map(s=>e.jsx(q,{session:s,isSelected:s.id===t,onSelect:()=>i(s.id)},s.id))})]}),e.jsxs("main",{className:"flex-1 flex flex-col min-w-0",children:[e.jsx("header",{className:"px-5 py-3 border-b border-zinc-800 flex items-center gap-4 shrink-0",children:e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsxs("h1",{className:"text-base font-semibold truncate",children:[n.agentName," ",e.jsxs("span",{className:"text-zinc-400 font-normal",children:["â€” ",n.label]})]}),e.jsxs("p",{className:"text-xs text-zinc-500 mt-0.5",children:[n.startedAt," Â· ",x(n.totalMs)," Â·"," ",n.events.length," events Â·"," ",n.totalTokens.toLocaleString()," tokens"]})]})}),e.jsx("div",{className:"h-2 bg-zinc-800 cursor-pointer shrink-0 group",onClick:L,role:"slider","aria-label":"Playback progress","aria-valuenow":Math.round(z),"aria-valuemin":0,"aria-valuemax":100,tabIndex:0,children:e.jsx("div",{className:"h-full bg-indigo-500 transition-all duration-150 group-hover:bg-indigo-400",style:{width:`${z}%`}})}),e.jsxs("div",{className:"px-5 py-2.5 border-b border-zinc-800 flex items-center gap-4 shrink-0",children:[e.jsx("button",{type:"button",onClick:C,className:u("flex items-center justify-center w-8 h-8 rounded-md transition-colors","bg-indigo-500 hover:bg-indigo-400 text-white","focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 focus:ring-offset-zinc-950"),"aria-label":f?"Pause":"Play",children:f?e.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"currentColor",children:[e.jsx("rect",{x:"2",y:"1",width:"3.5",height:"12",rx:"1"}),e.jsx("rect",{x:"8.5",y:"1",width:"3.5",height:"12",rx:"1"})]}):e.jsx("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"currentColor",children:e.jsx("path",{d:"M3 1.5v11l9-5.5z"})})}),e.jsxs("span",{className:"text-xs text-zinc-400 font-mono tabular-nums min-w-[4.5rem]",children:[p?x(p.offsetMs):"â€”"," /"," ",x(n.totalMs)]}),e.jsxs("div",{className:"flex items-center gap-1 ml-auto",children:[e.jsx("span",{className:"text-[10px] text-zinc-500 uppercase tracking-wider mr-1",children:"Speed"}),A.map(s=>e.jsxs("button",{type:"button",onClick:()=>E(s),className:u("px-2 py-1 rounded text-xs font-mono transition-colors","focus:outline-none focus:ring-1 focus:ring-indigo-500",s===y?"bg-indigo-500/20 text-indigo-400 font-semibold":"text-zinc-500 hover:text-zinc-300 hover:bg-zinc-800"),children:[s,"x"]},s))]})]}),e.jsx("div",{className:"px-5 py-2 border-b border-zinc-800 flex items-center gap-2 shrink-0 flex-wrap",children:P.map(s=>{const l=s.value==="all"?n.events.length:n.events.filter(d=>R(d,s.value)).length;return e.jsxs("button",{type:"button",onClick:()=>v(s.value),className:u("px-2.5 py-1 rounded-full text-xs transition-colors","focus:outline-none focus:ring-1 focus:ring-indigo-500",s.value===M?"bg-indigo-500/20 text-indigo-400 font-semibold":"bg-zinc-800/60 text-zinc-400 hover:text-zinc-200 hover:bg-zinc-800"),children:[s.label,e.jsx("span",{className:"ml-1.5 text-zinc-500",children:l})]},s.value)})}),e.jsxs("div",{ref:S,className:"flex-1 overflow-y-auto",children:[a.length===0&&e.jsx("div",{className:"flex items-center justify-center h-32 text-zinc-600 text-sm",children:"No events match this filter."}),a.map((s,l)=>{const d=l===r;return e.jsx("div",{ref:d?N:void 0,children:e.jsx(B,{event:s,isCurrent:d,isExpanded:T===s.id,onToggle:()=>I(s.id)})},s.id)})]})]})]})}export{Y as default};
