import{r as o,j as e,c as d}from"./index-D0lUTUSu.js";const l=[{id:"b1",name:"prod-assets-cdn",region:"us-east-1",provider:"aws",storageClass:"standard",access:"public-read",sizeBytes:428e8,objectCount:182440,versioning:!1,encryption:!0,lifecycle:!0,createdAt:"2023-06-01",lastModified:"2026-02-22",monthlyCost:98.24},{id:"b2",name:"prod-user-uploads",region:"us-east-1",provider:"aws",storageClass:"standard",access:"private",sizeBytes:1284e8,objectCount:2041200,versioning:!0,encryption:!0,lifecycle:!0,createdAt:"2023-06-01",lastModified:"2026-02-22",monthlyCost:294.72},{id:"b3",name:"prod-backups",region:"us-west-2",provider:"aws",storageClass:"infrequent",access:"private",sizeBytes:84e10,objectCount:14280,versioning:!1,encryption:!0,lifecycle:!0,createdAt:"2023-08-15",lastModified:"2026-02-21",monthlyCost:96.6},{id:"b4",name:"ml-training-data",region:"us-central1",provider:"gcs",storageClass:"standard",access:"authenticated",sizeBytes:32e11,objectCount:48200,versioning:!0,encryption:!0,lifecycle:!1,createdAt:"2024-01-10",lastModified:"2026-02-20",monthlyCost:640},{id:"b5",name:"prod-logs-archive",region:"us-east-1",provider:"aws",storageClass:"archive",access:"private",sizeBytes:124e11,objectCount:882e4,versioning:!1,encryption:!0,lifecycle:!0,createdAt:"2023-06-01",lastModified:"2026-02-22",monthlyCost:124},{id:"b6",name:"staging-workspace",region:"eastus",provider:"azure",storageClass:"standard",access:"authenticated",sizeBytes:142e8,objectCount:28400,versioning:!1,encryption:!0,lifecycle:!1,createdAt:"2024-03-01",lastModified:"2026-02-19",monthlyCost:28.4},{id:"b7",name:"prod-media-orig",region:"us-east-1",provider:"aws",storageClass:"intelligent",access:"private",sizeBytes:68e9,objectCount:421800,versioning:!0,encryption:!0,lifecycle:!0,createdAt:"2023-09-01",lastModified:"2026-02-22",monthlyCost:156.4}],g=[{key:"uploads/2026/02/img_20260222_001.jpg",size:248e4,lastModified:"2026-02-22T06:01:00Z",storageClass:"standard",etag:"a1b2c3d4",contentType:"image/jpeg"},{key:"uploads/2026/02/img_20260222_002.png",size:412e4,lastModified:"2026-02-22T06:03:00Z",storageClass:"standard",etag:"e5f6a7b8",contentType:"image/png"},{key:"uploads/2026/02/doc_report_q4.pdf",size:84e4,lastModified:"2026-02-22T05:44:00Z",storageClass:"standard",etag:"c9d0e1f2",contentType:"application/pdf"},{key:"uploads/2026/02/export_users_0222.csv",size:128e3,lastModified:"2026-02-22T04:00:00Z",storageClass:"standard",etag:"a3b4c5d6",contentType:"text/csv"},{key:"uploads/2026/01/archive_jan.zip",size:524e5,lastModified:"2026-02-01T00:00:00Z",storageClass:"infrequent",etag:"e7f8a9b0",contentType:"application/zip"},{key:"uploads/2025/12/year_end_assets.tar.gz",size:142e6,lastModified:"2026-01-01T00:00:00Z",storageClass:"archive",etag:"c1d2e3f4",contentType:"application/gzip"},{key:"public/avatars/user_001.jpg",size:48e3,lastModified:"2025-11-15T12:00:00Z",storageClass:"standard",etag:"a5b6c7d8",contentType:"image/jpeg"},{key:"public/avatars/user_002.jpg",size:62e3,lastModified:"2025-11-20T14:30:00Z",storageClass:"standard",etag:"e9f0a1b2",contentType:"image/jpeg"},{key:"private/keys/service_account_prod.json",size:2100,lastModified:"2025-06-01T08:00:00Z",storageClass:"standard",etag:"c3d4e5f6",contentType:"application/json"},{key:"tmp/processing/batch_20260222_001.parquet",size:124e5,lastModified:"2026-02-22T03:00:00Z",storageClass:"intelligent",etag:"a7b8c9d0",contentType:"application/octet-stream"}],j=[{id:"r1",name:"Transition to IA after 30 days",prefix:"uploads/",transition:30,transitionClass:"infrequent",expiration:null,enabled:!0},{id:"r2",name:"Archive after 90 days",prefix:"uploads/",transition:90,transitionClass:"archive",expiration:null,enabled:!0},{id:"r3",name:"Delete old exports",prefix:"tmp/",transition:7,transitionClass:"infrequent",expiration:30,enabled:!0},{id:"r4",name:"Purge logs after 365 days",prefix:"logs/",transition:180,transitionClass:"archive",expiration:365,enabled:!0},{id:"r5",name:"Expire temp files",prefix:"tmp/processing/",transition:1,transitionClass:"infrequent",expiration:7,enabled:!1}];function x(t){return t>=1e12?(t/1e12).toFixed(1)+" TB":t>=1e9?(t/1e9).toFixed(1)+" GB":t>=1e6?(t/1e6).toFixed(1)+" MB":t>=1e3?(t/1e3).toFixed(1)+" KB":t+" B"}function h(t){return t>=1e6?(t/1e6).toFixed(1)+"M":t>=1e3?(t/1e3).toFixed(0)+"K":String(t)}function u(t){return{aws:"bg-amber-500/20 text-amber-400 border-amber-500/30",gcs:"bg-blue-500/20 text-blue-400 border-blue-500/30",azure:"bg-indigo-500/20 text-indigo-400 border-indigo-500/30"}[t]}function p(t){return{standard:"text-white",infrequent:"text-amber-400",archive:"text-zinc-400",intelligent:"text-indigo-400"}[t]}function y(t){return{private:"text-zinc-400","public-read":"text-rose-400",authenticated:"text-emerald-400"}[t]}function v(){const[t,a]=o.useState(null),r=l.reduce((s,c)=>s+c.sizeBytes,0),i=l.reduce((s,c)=>s+c.monthlyCost,0);return e.jsxs("div",{children:[e.jsx("div",{className:"grid grid-cols-4 gap-4 mb-5",children:[{label:"Buckets",value:l.length.toString()},{label:"Total Storage",value:x(r)},{label:"Total Objects",value:h(l.reduce((s,c)=>s+c.objectCount,0))},{label:"Monthly Cost",value:"$"+i.toFixed(2)}].map(s=>e.jsxs("div",{className:"rounded-xl border border-zinc-800 bg-zinc-900 p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:s.value}),e.jsx("div",{className:"text-sm text-zinc-400 mt-1",children:s.label})]},s.label))}),e.jsx("div",{className:"space-y-2",children:l.map(s=>e.jsxs("div",{className:d("rounded-xl border p-4 cursor-pointer transition-all",(t==null?void 0:t.id)===s.id?"border-indigo-500 bg-indigo-500/5":"border-zinc-800 bg-zinc-900 hover:border-zinc-600"),onClick:()=>a((t==null?void 0:t.id)===s.id?null:s),children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-xl",children:"ðŸª£"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium text-white",children:s.name}),e.jsx("span",{className:d("text-xs px-1.5 py-0.5 rounded border",u(s.provider)),children:s.provider.toUpperCase()}),e.jsx("span",{className:d("text-xs",y(s.access)),children:s.access})]}),e.jsx("div",{className:"text-xs text-zinc-500 mt-0.5",children:s.region})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm font-semibold text-white",children:x(s.sizeBytes)}),e.jsxs("div",{className:"text-xs text-zinc-500",children:[h(s.objectCount)," objects"]})]}),e.jsxs("div",{className:"text-right w-20",children:[e.jsxs("div",{className:"text-sm text-emerald-400",children:["$",s.monthlyCost.toFixed(2)]}),e.jsx("div",{className:"text-xs text-zinc-500",children:"/month"})]})]}),(t==null?void 0:t.id)===s.id&&e.jsxs("div",{className:"mt-4 border-t border-zinc-800 pt-4 grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2 text-xs",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-zinc-500",children:"Storage class"}),e.jsx("span",{className:p(s.storageClass),children:s.storageClass})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-zinc-500",children:"Versioning"}),e.jsx("span",{className:s.versioning?"text-emerald-400":"text-zinc-500",children:s.versioning?"enabled":"disabled"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-zinc-500",children:"Encryption"}),e.jsx("span",{className:s.encryption?"text-emerald-400":"text-rose-400",children:s.encryption?"AES-256":"none"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-zinc-500",children:"Lifecycle rules"}),e.jsx("span",{className:s.lifecycle?"text-indigo-400":"text-zinc-500",children:s.lifecycle?"configured":"none"})]})]}),e.jsxs("div",{className:"space-y-2 text-xs",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-zinc-500",children:"Created"}),e.jsx("span",{className:"text-zinc-300",children:s.createdAt})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-zinc-500",children:"Last modified"}),e.jsx("span",{className:"text-zinc-300",children:s.lastModified})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-zinc-500",children:"Total size"}),e.jsx("span",{className:"text-zinc-300",children:x(s.sizeBytes)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-zinc-500",children:"Monthly cost"}),e.jsxs("span",{className:"text-emerald-400",children:["$",s.monthlyCost.toFixed(2)]})]})]})]})]},s.id))})]})}function b(){const[t,a]=o.useState(l[1].id),[r,i]=o.useState(""),[s,c]=o.useState("modified"),f=g.filter(n=>!r||n.key.toLowerCase().includes(r.toLowerCase())).sort((n,m)=>s==="size"?m.size-n.size:s==="modified"?m.lastModified.localeCompare(n.lastModified):n.key.localeCompare(m.key));return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsx("select",{value:t,onChange:n=>a(n.target.value),className:"bg-zinc-900 border border-zinc-700 rounded-lg px-3 py-2 text-sm text-white focus:outline-none focus:border-indigo-500",children:l.map(n=>e.jsx("option",{value:n.id,children:n.name},n.id))}),e.jsx("input",{value:r,onChange:n=>i(n.target.value),placeholder:"Filter by prefix...",className:"flex-1 bg-zinc-900 border border-zinc-700 rounded-lg px-3 py-2 text-sm text-white placeholder-zinc-600 focus:outline-none focus:border-indigo-500"}),e.jsxs("select",{value:s,onChange:n=>c(n.target.value),className:"bg-zinc-900 border border-zinc-700 rounded-lg px-3 py-2 text-sm text-white focus:outline-none focus:border-indigo-500",children:[e.jsx("option",{value:"modified",children:"Sort: Recent"}),e.jsx("option",{value:"size",children:"Sort: Size"}),e.jsx("option",{value:"key",children:"Sort: Name"})]})]}),e.jsx("div",{className:"rounded-xl border border-zinc-800 overflow-hidden",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-zinc-800 bg-zinc-900",children:[e.jsx("th",{className:"text-left px-4 py-3 text-zinc-400 font-medium",children:"Key"}),e.jsx("th",{className:"text-left px-4 py-3 text-zinc-400 font-medium",children:"Size"}),e.jsx("th",{className:"text-left px-4 py-3 text-zinc-400 font-medium",children:"Class"}),e.jsx("th",{className:"text-left px-4 py-3 text-zinc-400 font-medium",children:"Modified"}),e.jsx("th",{className:"text-left px-4 py-3 text-zinc-400 font-medium",children:"Type"})]})}),e.jsx("tbody",{className:"divide-y divide-zinc-800",children:f.map(n=>e.jsxs("tr",{className:"bg-zinc-950 hover:bg-zinc-900 transition-colors",children:[e.jsx("td",{className:"px-4 py-3 font-mono text-xs text-zinc-300 max-w-xs truncate",children:n.key}),e.jsx("td",{className:"px-4 py-3 text-xs text-zinc-300",children:x(n.size)}),e.jsx("td",{className:"px-4 py-3 text-xs",children:e.jsx("span",{className:p(n.storageClass),children:n.storageClass})}),e.jsx("td",{className:"px-4 py-3 text-xs text-zinc-400",children:n.lastModified.slice(0,10)}),e.jsx("td",{className:"px-4 py-3 text-xs text-zinc-500 truncate max-w-xs",children:n.contentType})]},n.key))})]})})]})}function N(){const[t]=o.useState(j);return e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-zinc-400",children:"Lifecycle rules automatically transition or expire objects based on age and prefix."}),t.map(a=>e.jsxs("div",{className:"rounded-xl border border-zinc-800 bg-zinc-900 p-5",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:d("w-2 h-2 rounded-full",a.enabled?"bg-emerald-400":"bg-zinc-600")}),e.jsx("span",{className:"font-medium text-white",children:a.name}),!a.enabled&&e.jsx("span",{className:"text-xs text-zinc-500",children:"(disabled)"})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-4 text-xs",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-zinc-500 mb-0.5",children:"Prefix"}),e.jsx("div",{className:"font-mono text-indigo-300",children:a.prefix})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-zinc-500 mb-0.5",children:"Transition after"}),e.jsxs("div",{className:"text-zinc-300",children:[a.transition," days"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-zinc-500 mb-0.5",children:"Transition to"}),e.jsx("div",{className:p(a.transitionClass),children:a.transitionClass})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-zinc-500 mb-0.5",children:"Expiration"}),e.jsx("div",{className:a.expiration?"text-rose-400":"text-zinc-500",children:a.expiration?a.expiration+" days":"never"})]})]})]},a.id))]})}function z(){const t=[...l].sort((i,s)=>s.monthlyCost-i.monthlyCost),a=l.reduce((i,s)=>i+s.monthlyCost,0),r={};return l.forEach(i=>{r[i.provider]=(r[i.provider]??0)+i.monthlyCost}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"grid grid-cols-3 gap-4",children:[{label:"Total Monthly",value:"$"+a.toFixed(2),color:"text-white"},{label:"Projected Annual",value:"$"+(a*12).toFixed(0),color:"text-amber-400"},{label:"Avg per Bucket",value:"$"+(a/l.length).toFixed(2),color:"text-zinc-300"}].map(i=>e.jsxs("div",{className:"rounded-xl border border-zinc-800 bg-zinc-900 p-4",children:[e.jsx("div",{className:d("text-2xl font-bold",i.color),children:i.value}),e.jsx("div",{className:"text-sm text-zinc-400 mt-1",children:i.label})]},i.label))}),e.jsxs("div",{className:"rounded-xl border border-zinc-800 bg-zinc-900 p-5",children:[e.jsx("h3",{className:"text-sm font-semibold text-white mb-4",children:"Cost by Bucket"}),e.jsx("div",{className:"space-y-3",children:t.map(i=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-xs text-zinc-300 w-40 truncate",children:i.name}),e.jsx("div",{className:"flex-1 bg-zinc-800 rounded-full h-2",children:e.jsx("div",{className:"h-2 rounded-full bg-indigo-500",style:{width:i.monthlyCost/t[0].monthlyCost*100+"%"}})}),e.jsxs("span",{className:"text-xs text-emerald-400 w-16 text-right",children:["$",i.monthlyCost.toFixed(2)]})]},i.id))})]}),e.jsxs("div",{className:"rounded-xl border border-zinc-800 bg-zinc-900 p-5",children:[e.jsx("h3",{className:"text-sm font-semibold text-white mb-4",children:"Cost by Provider"}),e.jsx("div",{className:"space-y-3",children:Object.entries(r).map(([i,s])=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:d("text-xs px-2 py-0.5 rounded border w-16 text-center capitalize",u(i)),children:i}),e.jsx("div",{className:"flex-1 bg-zinc-800 rounded-full h-2",children:e.jsx("div",{className:"h-2 rounded-full bg-amber-500",style:{width:s/a*100+"%"}})}),e.jsxs("span",{className:"text-xs text-amber-400 w-16 text-right",children:["$",s.toFixed(2)]})]},i))})]})]})}const C=["Buckets","Objects","Lifecycle","Cost"];function T(){const[t,a]=o.useState("Buckets");return e.jsxs("div",{className:"min-h-screen bg-zinc-950 text-white p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-1",children:"Storage Bucket Manager"}),e.jsxs("p",{className:"text-zinc-400 text-sm",children:["Manage S3, GCS, and Azure Blob storage buckets â€” ",l.length," buckets, ",x(l.reduce((r,i)=>r+i.sizeBytes,0))," total"]})]}),e.jsx("div",{className:"flex gap-1 mb-6 border-b border-zinc-800",children:C.map(r=>e.jsx("button",{onClick:()=>a(r),className:d("px-4 py-2 text-sm font-medium border-b-2 transition-colors -mb-px",t===r?"border-indigo-500 text-indigo-400":"border-transparent text-zinc-400 hover:text-white"),children:r},r))}),t==="Buckets"&&e.jsx(v,{}),t==="Objects"&&e.jsx(b,{}),t==="Lifecycle"&&e.jsx(N,{}),t==="Cost"&&e.jsx(z,{})]})}export{T as default};
