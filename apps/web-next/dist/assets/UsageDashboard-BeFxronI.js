import{a as b,r as j,j as e,c as u}from"./index-y4bWhgb1.js";import{i as f,a as v,M as k}from"./mock-data-C7w_fCbh.js";import{C as w}from"./calendar-DjUW0fBH.js";import{A as M}from"./activity-0z9ZWXjn.js";import{T as C}from"./trending-up-5PfrMn-A.js";import{C as S}from"./clock-BMQkrrtX.js";/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=b("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=b("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);function o(a){return a>=1e6?`${(a/1e6).toFixed(1)}M`:a>=1e3?`${Math.floor(a/1e3)}K`:a.toString()}function y(a){return new Date(a).toLocaleDateString("en-US",{month:"short",day:"numeric"})}function E(){const[a,d]=j.useState("30days"),[n,x]=j.useState(null),l=f,N=(l.totalCost/l.totalRequests).toFixed(3),h=Math.max(...l.dailyUsage.map(s=>s.tokens)),g=j.useMemo(()=>[...v].filter(s=>s.cost!==void 0).sort((s,t)=>(t.cost||0)-(s.cost||0)).slice(0,5),[]);return e.jsxs("div",{className:"bg-gray-950 min-h-screen p-6 text-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Usage & Costs"}),e.jsx("div",{className:"flex bg-gray-900 rounded-lg p-1",children:["today","7days","30days","custom"].map(s=>e.jsxs("button",{onClick:()=>d(s),className:u("flex items-center gap-1.5 px-3 py-1.5 text-sm rounded-md transition-colors",a===s?"bg-gray-800 text-white":"text-gray-400 hover:text-white"),children:[s==="custom"&&e.jsx(w,{className:"w-3.5 h-3.5"}),e.jsx("span",{className:"capitalize",children:s==="7days"?"7 Days":s==="30days"?"30 Days":s})]},s))})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[e.jsx(m,{icon:e.jsx(M,{className:"w-5 h-5"}),label:"Total Tokens",value:o(l.totalTokens),color:"violet"}),e.jsx(m,{icon:e.jsx(T,{className:"w-5 h-5"}),label:"Total Cost",value:`$${l.totalCost.toFixed(2)}`,color:"green"}),e.jsx(m,{icon:e.jsx($,{className:"w-5 h-5"}),label:"Total Requests",value:l.totalRequests.toLocaleString(),color:"blue"}),e.jsx(m,{icon:e.jsx(C,{className:"w-5 h-5"}),label:"Avg Cost/Request",value:`$${N}`,color:"yellow"})]}),e.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-xl p-6 mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Daily Usage"}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"absolute left-0 top-0 bottom-8 w-12 flex flex-col justify-between text-xs text-gray-500",children:[e.jsx("span",{children:o(h)}),e.jsx("span",{children:o(h/2)}),e.jsx("span",{children:"0"})]}),e.jsx("div",{className:"ml-14 flex items-end gap-1 h-40",children:l.dailyUsage.map((s,t)=>{const r=s.tokens/h*100,c=n===t;return e.jsxs("div",{className:"flex-1 flex flex-col items-center relative group",onMouseEnter:()=>x(t),onMouseLeave:()=>x(null),children:[(c||n===t)&&e.jsxs("div",{className:"absolute -top-16 left-1/2 -translate-x-1/2 bg-gray-800 border border-gray-700 rounded-lg px-2 py-1 z-10 whitespace-nowrap text-xs",children:[e.jsx("div",{className:"font-medium",children:y(s.date)}),e.jsxs("div",{className:"text-gray-400",children:[o(s.tokens)," tokens"]}),e.jsxs("div",{className:"text-green-400",children:["$",s.cost.toFixed(2)]})]}),e.jsx("div",{className:u("w-full rounded-t-sm transition-all cursor-pointer",c?"bg-violet-400":"bg-violet-600"),style:{height:`${r}%`}})]},s.date)})}),e.jsx("div",{className:"ml-14 flex gap-1 mt-2",children:l.dailyUsage.map((s,t)=>e.jsx("div",{className:"flex-1 text-center",children:t%5===0&&e.jsx("span",{className:"text-xs text-gray-500",children:y(s.date)})},s.date))})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-xl p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"By Model"}),e.jsx("div",{className:"space-y-4",children:Object.entries(l.byModel).map(([s,t])=>{const r=Math.max(...Object.values(l.byModel).map(i=>i.tokens)),c=t.tokens/r*100;return e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{className:"text-gray-300 font-mono text-xs",children:s}),e.jsxs("span",{className:"text-gray-400",children:[o(t.tokens)," · $",t.cost.toFixed(2)]})]}),e.jsx("div",{className:"h-3 bg-gray-800 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-violet-600 to-violet-400 rounded-full transition-all",style:{width:`${c}%`}})})]},s)})})]}),e.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-xl p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"By Agent"}),e.jsx("div",{className:"space-y-4",children:Object.entries(l.byAgent).map(([s,t])=>{const r=Math.max(...Object.values(l.byAgent).map(p=>p.tokens)),c=t.tokens/r*100,i=k.find(p=>p.name===s);return e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsxs("span",{className:"text-gray-300 flex items-center gap-2",children:[i==null?void 0:i.emoji," ",s]}),e.jsxs("span",{className:"text-gray-400",children:[o(t.tokens)," · $",t.cost.toFixed(2)]})]}),e.jsx("div",{className:"h-3 bg-gray-800 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-blue-600 to-blue-400 rounded-full transition-all",style:{width:`${c}%`}})})]},s)})})]})]}),e.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-xl overflow-hidden",children:[e.jsx("div",{className:"p-4 border-b border-gray-800",children:e.jsx("h2",{className:"text-lg font-semibold",children:"Top Sessions by Cost"})}),e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-800 text-left text-sm text-gray-400",children:[e.jsx("th",{className:"px-4 py-3 font-medium",children:"Session"}),e.jsx("th",{className:"px-4 py-3 font-medium",children:"Agent"}),e.jsx("th",{className:"px-4 py-3 font-medium text-right",children:"Tokens"}),e.jsx("th",{className:"px-4 py-3 font-medium text-right",children:"Cost"}),e.jsx("th",{className:"px-4 py-3 font-medium text-right",children:"Duration"})]})}),e.jsxs("tbody",{children:[g.map(s=>{var r;const t=s.lastActivity&&s.createdAt?Date.parse(s.lastActivity)-Date.parse(s.createdAt):0;return e.jsxs("tr",{className:"border-b border-gray-800/50",children:[e.jsxs("td",{className:"px-4 py-3",children:[e.jsx("span",{className:"font-mono text-xs text-violet-400",children:s.key.length>24?`${s.key.slice(0,18)}...`:s.key}),s.label&&e.jsx("div",{className:"text-xs text-gray-500 mt-0.5",children:s.label})]}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("span",{className:"flex items-center gap-2 text-sm",children:[e.jsx("span",{children:s.agentEmoji}),e.jsx("span",{children:s.agentName})]})}),e.jsx("td",{className:"px-4 py-3 text-right text-sm",children:s.tokenUsage?o(s.tokenUsage.total):"—"}),e.jsxs("td",{className:"px-4 py-3 text-right text-sm text-green-400",children:["$",((r=s.cost)==null?void 0:r.toFixed(2))||"0.00"]}),e.jsx("td",{className:"px-4 py-3 text-right text-sm text-gray-400",children:e.jsxs("span",{className:"flex items-center justify-end gap-1",children:[e.jsx(S,{className:"w-3 h-3"}),A(t)]})})]},s.key)}),e.jsxs("tr",{className:"bg-gray-800/30 font-medium",children:[e.jsx("td",{className:"px-4 py-3 text-gray-300",children:"Total (Top 5)"}),e.jsx("td",{className:"px-4 py-3",children:"—"}),e.jsx("td",{className:"px-4 py-3 text-right",children:o(g.reduce((s,t)=>{var r;return s+(((r=t.tokenUsage)==null?void 0:r.total)||0)},0))}),e.jsxs("td",{className:"px-4 py-3 text-right text-green-400",children:["$",g.reduce((s,t)=>s+(t.cost||0),0).toFixed(2)]}),e.jsx("td",{className:"px-4 py-3 text-right text-gray-400",children:"—"})]})]})]})]})]})}function m({icon:a,label:d,value:n,color:x}){const l={violet:"bg-violet-600/10 text-violet-400 border-violet-600/30",green:"bg-green-600/10 text-green-400 border-green-600/30",blue:"bg-blue-600/10 text-blue-400 border-blue-600/30",yellow:"bg-yellow-600/10 text-yellow-400 border-yellow-600/30"};return e.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:u("p-2 rounded-lg border",l[x]),children:a}),e.jsx("span",{className:"text-sm text-gray-400",children:d})]}),e.jsx("div",{className:"text-2xl font-bold",children:n})]})}function A(a){if(a<=0)return"—";const d=Math.floor(a/36e5),n=Math.floor(a%36e5/6e4);return d>0?`${d}h ${n}m`:`${n}m`}export{E as default};
