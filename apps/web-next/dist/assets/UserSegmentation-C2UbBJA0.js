import{r as x,j as e,c as i}from"./index-B-mNlyPE.js";const r=[{id:"s1",name:"Power Users",description:"High-frequency users with >100 API calls/day",color:"bg-indigo-500",tags:["engagement","retention"],conditions:[{field:"api_calls_daily",operator:"greater_than",value:"100"},{field:"account_age_days",operator:"greater_than",value:"30"},{field:"plan",operator:"in",value:"pro,enterprise"}],userCount:2841,percentage:5.9,trend:12.4,lastUpdated:"2026-02-22"},{id:"s2",name:"At-Risk Churners",description:"Active users showing declining engagement",color:"bg-rose-500",tags:["churn","intervention"],conditions:[{field:"days_since_login",operator:"greater_than",value:"14"},{field:"api_calls_30d",operator:"less_than",value:"50"},{field:"subscription_days",operator:"greater_than",value:"60"}],userCount:1243,percentage:2.6,trend:-8.1,lastUpdated:"2026-02-21"},{id:"s3",name:"Enterprise Prospects",description:"Pro users nearing plan limits",color:"bg-amber-500",tags:["upsell","sales"],conditions:[{field:"plan",operator:"equals",value:"pro"},{field:"api_usage_pct",operator:"greater_than",value:"80"},{field:"team_size",operator:"greater_than",value:"5"}],userCount:891,percentage:1.8,trend:23.7,lastUpdated:"2026-02-22"},{id:"s4",name:"New Signups (7d)",description:"Users who signed up in the last 7 days",color:"bg-emerald-500",tags:["onboarding","activation"],conditions:[{field:"account_age_days",operator:"less_than",value:"7"}],userCount:3201,percentage:6.6,trend:4.2,lastUpdated:"2026-02-22"},{id:"s5",name:"Dormant (90d)",description:"Users inactive for 90+ days",color:"bg-zinc-500",tags:["re-engagement","cleanup"],conditions:[{field:"days_since_login",operator:"greater_than",value:"90"}],userCount:8920,percentage:18.4,trend:-2.1,lastUpdated:"2026-02-20"},{id:"s6",name:"GDPR Region (EU)",description:"Users in European Union countries",color:"bg-blue-500",tags:["compliance","gdpr"],conditions:[{field:"country",operator:"in",value:"DE,FR,IT,ES,NL,PL,SE,BE"}],userCount:11240,percentage:23.2,trend:1.8,lastUpdated:"2026-02-22"}],C=[{id:"u1",name:"Alice Chen",email:"alice@corp.io",plan:"enterprise",country:"US",joinDate:"2024-01-15",segments:["s1","s3"]},{id:"u2",name:"Bob MÃ¼ller",email:"bob@firma.de",plan:"pro",country:"DE",joinDate:"2024-03-02",segments:["s1","s6"]},{id:"u3",name:"Carol Smith",email:"carol@co.uk",plan:"starter",country:"GB",joinDate:"2025-11-10",segments:["s2"]},{id:"u4",name:"David Park",email:"david@corp.io",plan:"pro",country:"KR",joinDate:"2024-06-22",segments:["s3"]},{id:"u5",name:"Eve Dubois",email:"eve@sociÃ©tÃ©.fr",plan:"enterprise",country:"FR",joinDate:"2023-09-14",segments:["s1","s6"]},{id:"u6",name:"Frank Russo",email:"frank@it.co",plan:"starter",country:"IT",joinDate:"2026-02-18",segments:["s4","s6"]},{id:"u7",name:"Grace Wilson",email:"grace@labs.io",plan:"pro",country:"AU",joinDate:"2025-06-01",segments:["s2","s5"]},{id:"u8",name:"Henry Lopes",email:"henry@br.com",plan:"pro",country:"BR",joinDate:"2024-08-30",segments:["s3"]}],S=["plan","country","api_calls_daily","api_calls_30d","days_since_login","account_age_days","team_size","api_usage_pct","subscription_days"],U=["equals","not_equals","greater_than","less_than","in","not_in","contains"],E=[{field:"plan",operator:"in",value:"pro,enterprise"},{field:"days_since_login",operator:"greater_than",value:"30"},{field:"api_usage_pct",operator:"greater_than",value:"80"}];function M(){const[c,g]=x.useState("segments"),[a,b]=x.useState(null),[j,p]=x.useState([...E]),[v,N]=x.useState("New Segment"),[u,f]=x.useState("count"),z=[{id:"segments",label:"Segments",emoji:"ðŸŽ¯"},{id:"builder",label:"Builder",emoji:"ðŸ”§"},{id:"users",label:"User Lookup",emoji:"ðŸ‘¤"},{id:"overlap",label:"Overlap Matrix",emoji:"âš¡"}],y=[...r].sort((s,t)=>u==="count"?t.userCount-s.userCount:u==="pct"?t.percentage-s.percentage:Math.abs(t.trend)-Math.abs(s.trend)),m=48410,_=()=>{p(s=>[...s,{field:"plan",operator:"equals",value:""}])},w=s=>{p(t=>t.filter((n,l)=>l!==s))},h=(s,t,n)=>{p(l=>l.map((d,o)=>o===s?{...d,[t]:n}:d))};return e.jsxs("div",{className:"min-h-screen bg-zinc-950 text-white p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"User Segmentation"}),e.jsxs("p",{className:"text-zinc-400 text-sm mt-0.5",children:[r.length," segments Â· ",m.toLocaleString()," total users"]})]}),e.jsx("button",{onClick:()=>g("builder"),className:"text-sm px-4 py-2 bg-indigo-500 text-white rounded hover:bg-indigo-600 transition-colors",children:"+ New Segment"})]}),e.jsx("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[{label:"Total Segments",value:r.length,color:"text-indigo-400"},{label:"Largest Segment",value:`${r.reduce((s,t)=>t.userCount>s.userCount?t:s).name}`,color:"text-white"},{label:"Users Segmented",value:`${Math.round(r.reduce((s,t)=>s+t.userCount,0)/m*100)}%`,color:"text-emerald-400"},{label:"Avg Segment Size",value:Math.round(r.reduce((s,t)=>s+t.userCount,0)/r.length).toLocaleString(),color:"text-amber-400"}].map(s=>e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-lg p-4",children:[e.jsx("div",{className:"text-xs text-zinc-400 mb-1",children:s.label}),e.jsx("div",{className:i("text-lg font-bold truncate",s.color),children:s.value})]},s.label))}),e.jsx("div",{className:"flex gap-1 mb-6 bg-zinc-900 p-1 rounded-lg border border-zinc-800 w-fit",children:z.map(s=>e.jsxs("button",{onClick:()=>g(s.id),className:i("px-4 py-2 text-sm rounded-md transition-colors",c===s.id?"bg-indigo-500 text-white":"text-zinc-400 hover:text-white hover:bg-zinc-800"),children:[s.emoji," ",s.label]},s.id))}),c==="segments"&&e.jsxs("div",{className:"grid grid-cols-5 gap-4",children:[e.jsxs("div",{className:"col-span-2 space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"text-xs text-zinc-400",children:"Sort by:"}),["count","pct","trend"].map(s=>e.jsx("button",{onClick:()=>f(s),className:i("text-xs px-2.5 py-1 rounded border capitalize transition-colors",u===s?"bg-indigo-500/20 border-indigo-500/50 text-indigo-300":"border-zinc-700 text-zinc-400 hover:border-zinc-600"),children:s},s))]}),y.map(s=>e.jsxs("button",{onClick:()=>b(s),className:i("w-full bg-zinc-900 border rounded-lg p-4 text-left hover:border-zinc-600 transition-colors",(a==null?void 0:a.id)===s.id?"border-indigo-500/50":"border-zinc-800"),children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:i("w-2.5 h-2.5 rounded-full",s.color)}),e.jsx("span",{className:"text-sm font-medium text-white",children:s.name})]}),e.jsx("div",{className:"text-xs text-zinc-400 mb-3",children:s.description}),e.jsxs("div",{className:"mb-2",children:[e.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[e.jsxs("span",{className:"text-zinc-400",children:[s.userCount.toLocaleString()," users"]}),e.jsxs("span",{className:"text-zinc-400",children:[s.percentage,"%"]})]}),e.jsx("div",{className:"w-full bg-zinc-800 rounded-full h-1.5",children:e.jsx("div",{className:i("h-full rounded-full",s.color),style:{width:`${s.percentage*3}%`}})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex flex-wrap gap-1",children:s.tags.map(t=>e.jsx("span",{className:"text-xs bg-zinc-800 text-zinc-400 px-1.5 py-0.5 rounded",children:t},t))}),e.jsxs("span",{className:i("text-xs font-medium",s.trend>0?"text-emerald-400":"text-rose-400"),children:[s.trend>0?"â†‘":"â†“",Math.abs(s.trend),"%"]})]})]},s.id))]}),e.jsx("div",{className:"col-span-3",children:a?e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-lg p-5 space-y-5",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:i("w-4 h-4 rounded-full",a.color)}),e.jsx("h3",{className:"text-base font-semibold text-white",children:a.name}),e.jsxs("span",{className:i("text-xs ml-auto",a.trend>0?"text-emerald-400":"text-rose-400"),children:[a.trend>0?"â†‘":"â†“",Math.abs(a.trend),"% vs last week"]})]}),e.jsx("p",{className:"text-sm text-zinc-400",children:a.description}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"bg-zinc-800 rounded-lg p-3",children:[e.jsx("div",{className:"text-xs text-zinc-400",children:"Users"}),e.jsx("div",{className:"text-2xl font-bold text-white mt-1",children:a.userCount.toLocaleString()})]}),e.jsxs("div",{className:"bg-zinc-800 rounded-lg p-3",children:[e.jsx("div",{className:"text-xs text-zinc-400",children:"% of Total"}),e.jsxs("div",{className:"text-2xl font-bold text-indigo-400 mt-1",children:[a.percentage,"%"]})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-xs font-medium text-zinc-400 mb-2",children:["Conditions (",a.conditions.length,")"]}),e.jsx("div",{className:"space-y-2",children:a.conditions.map((s,t)=>e.jsxs("div",{className:"flex items-center gap-2 bg-zinc-800 rounded p-2.5 text-xs",children:[e.jsx("span",{className:"text-zinc-300 font-mono",children:s.field}),e.jsx("span",{className:"text-zinc-500",children:s.operator.replace(/_/g," ")}),e.jsx("span",{className:"text-indigo-300 font-mono",children:s.value})]},t))})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-medium text-zinc-400 mb-2",children:"User count â€” last 7 days"}),e.jsx("div",{className:"flex items-end gap-1 h-16 bg-zinc-800 rounded p-2",children:Array.from({length:7},(s,t)=>{const n=a.userCount,d=n*(.92+t/7*.16)/(n*1.1)*100;return e.jsx("div",{className:"flex-1 flex flex-col items-center gap-0.5",children:e.jsx("div",{className:i("w-full rounded-t",a.color),style:{height:`${d}%`}})},t)})})]}),e.jsxs("div",{className:"flex gap-2 pt-2 border-t border-zinc-800",children:[e.jsx("button",{className:"flex-1 text-xs py-2 bg-indigo-500/20 border border-indigo-500/30 text-indigo-300 rounded hover:bg-indigo-500/30 transition-colors",children:"Export CSV"}),e.jsx("button",{className:"flex-1 text-xs py-2 bg-zinc-800 border border-zinc-700 text-zinc-400 rounded hover:bg-zinc-700 transition-colors",children:"Create Campaign"}),e.jsx("button",{className:"text-xs py-2 px-3 bg-zinc-800 border border-zinc-700 text-zinc-400 rounded hover:bg-zinc-700 transition-colors",children:"Edit"})]})]}):e.jsx("div",{className:"bg-zinc-900 border border-zinc-800 rounded-lg p-10 text-center text-zinc-500 text-sm",children:"Select a segment to view details"})})]}),c==="builder"&&e.jsxs("div",{className:"max-w-xl space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-zinc-400 mb-1.5",children:"Segment Name"}),e.jsx("input",{type:"text",value:v,onChange:s=>N(s.target.value),className:"w-full bg-zinc-800 border border-zinc-700 text-white text-sm rounded px-3 py-2 focus:outline-none focus:border-indigo-500"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"text-sm font-medium text-white",children:"Conditions"}),e.jsxs("div",{className:"text-xs text-zinc-400",children:["Match ",e.jsx("span",{className:"text-indigo-300 font-semibold",children:"ALL"})," conditions"]})]}),e.jsx("div",{className:"space-y-3",children:j.map((s,t)=>e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-lg p-3 flex items-center gap-2",children:[e.jsx("select",{value:s.field,onChange:n=>h(t,"field",n.target.value),className:"bg-zinc-800 border border-zinc-700 text-white text-xs rounded px-2 py-1.5 focus:outline-none",children:S.map(n=>e.jsx("option",{value:n,children:n},n))}),e.jsx("select",{value:s.operator,onChange:n=>h(t,"operator",n.target.value),className:"bg-zinc-800 border border-zinc-700 text-white text-xs rounded px-2 py-1.5 focus:outline-none",children:U.map(n=>e.jsx("option",{value:n,children:n.replace(/_/g," ")},n))}),e.jsx("input",{type:"text",value:s.value,onChange:n=>h(t,"value",n.target.value),placeholder:"value",className:"flex-1 bg-zinc-800 border border-zinc-700 text-white text-xs rounded px-2 py-1.5 focus:outline-none focus:border-indigo-500"}),e.jsx("button",{onClick:()=>w(t),className:"text-zinc-500 hover:text-rose-400 transition-colors text-lg leading-none",children:"Ã—"})]},t))}),e.jsx("button",{onClick:_,className:"mt-3 w-full text-xs py-2 border border-dashed border-zinc-700 text-zinc-400 rounded hover:border-indigo-500/50 hover:text-indigo-300 transition-colors",children:"+ Add Condition"})]}),e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-lg p-4",children:[e.jsx("div",{className:"text-xs font-medium text-zinc-400 mb-2",children:"Estimated Audience"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"text-2xl font-bold text-indigo-400",children:"~3,200"}),e.jsx("div",{className:"text-xs text-zinc-400",children:"users (6.6% of total)"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{className:"px-4 py-2 bg-indigo-500 text-white text-sm rounded hover:bg-indigo-600 transition-colors",children:"Save Segment"}),e.jsx("button",{className:"px-4 py-2 border border-zinc-700 text-zinc-400 text-sm rounded hover:bg-zinc-800 transition-colors",children:"Preview Users"})]})]}),c==="users"&&e.jsx("div",{className:"bg-zinc-900 border border-zinc-800 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-zinc-800 text-xs text-zinc-400",children:[e.jsx("th",{className:"px-4 py-3 text-left font-medium",children:"User"}),e.jsx("th",{className:"px-4 py-3 text-left font-medium",children:"Plan"}),e.jsx("th",{className:"px-4 py-3 text-left font-medium",children:"Country"}),e.jsx("th",{className:"px-4 py-3 text-left font-medium",children:"Joined"}),e.jsx("th",{className:"px-4 py-3 text-left font-medium",children:"Segments"})]})}),e.jsx("tbody",{className:"divide-y divide-zinc-800",children:C.map(s=>e.jsxs("tr",{className:"hover:bg-zinc-800/30 transition-colors",children:[e.jsxs("td",{className:"px-4 py-3",children:[e.jsx("div",{className:"text-sm text-white",children:s.name}),e.jsx("div",{className:"text-xs text-zinc-500",children:s.email})]}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{className:i("text-xs px-2 py-0.5 rounded border",s.plan==="enterprise"?"bg-indigo-500/10 border-indigo-500/30 text-indigo-300":s.plan==="pro"?"bg-amber-500/10 border-amber-500/30 text-amber-300":"bg-zinc-700 border-zinc-600 text-zinc-400"),children:s.plan})}),e.jsx("td",{className:"px-4 py-3 text-zinc-300 text-xs",children:s.country}),e.jsx("td",{className:"px-4 py-3 text-zinc-400 text-xs",children:s.joinDate}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("div",{className:"flex flex-wrap gap-1",children:s.segments.map(t=>{const n=r.find(l=>l.id===t);return n?e.jsx("span",{className:i("text-xs text-white px-2 py-0.5 rounded",n.color),children:n.name},t):null})})})]},s.id))})]})}),c==="overlap"&&e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-lg p-5",children:[e.jsx("h3",{className:"text-sm font-semibold text-white mb-4",children:"Segment Overlap Matrix"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"text-xs",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"w-32 pb-2"}),r.map(s=>e.jsx("th",{className:"px-2 pb-2 text-center",children:e.jsxs("div",{className:"flex items-center justify-center gap-1",children:[e.jsx("span",{className:i("w-2 h-2 rounded-full",s.color)}),e.jsx("span",{className:"text-zinc-400 truncate max-w-[60px]",children:s.name})]})},s.id))]})}),e.jsx("tbody",{className:"divide-y divide-zinc-800",children:r.map((s,t)=>e.jsxs("tr",{children:[e.jsx("td",{className:"py-2 pr-3 text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-1",children:[e.jsx("span",{className:i("w-2 h-2 rounded-full",s.color)}),e.jsx("span",{className:"text-zinc-400 truncate max-w-[80px]",children:s.name})]})}),r.map((n,l)=>{if(t===l)return e.jsx("td",{className:"px-2 py-2 text-center",children:e.jsx("div",{className:"bg-zinc-700 rounded text-zinc-300 py-1 px-2",children:"â€”"})},n.id);const d=(t<l,Math.round(s.userCount*n.userCount/(m*3))),o=Math.round(d/Math.min(s.userCount,n.userCount)*100);return e.jsx("td",{className:"px-2 py-2 text-center",children:e.jsxs("div",{className:i("rounded py-1 px-2 text-xs",o>30?"bg-rose-500/20 text-rose-300":o>10?"bg-amber-500/20 text-amber-300":"bg-zinc-800 text-zinc-400"),children:[o,"%"]})},n.id)})]},s.id))})]})}),e.jsxs("div",{className:"mt-4 flex items-center gap-4 text-xs text-zinc-400",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("span",{className:"w-3 h-3 bg-rose-500/20 rounded"})," >30% overlap"]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("span",{className:"w-3 h-3 bg-amber-500/20 rounded"})," 10â€“30% overlap"]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("span",{className:"w-3 h-3 bg-zinc-800 rounded"})," <10% overlap"]})]})]})})]})}export{M as default};
