import{r,j as e,c as o}from"./index-CS0yAMc-.js";const k=[{id:"luis",name:"Luis",emoji:"ðŸŽ¨",voice:"shimmer",description:"Principal UX Engineer â€” design, frontend, product"},{id:"xavier",name:"Xavier",emoji:"ðŸ—ï¸",voice:"onyx",description:"CTO â€” strategy, architecture, team"},{id:"stephan",name:"Stephan",emoji:"ðŸ“£",voice:"echo",description:"CMO â€” brand, marketing, content"},{id:"tim",name:"Tim",emoji:"âš™ï¸",voice:"fable",description:"VP Architecture â€” engineering patterns, PRs"}],A=new Date,h=i=>new Date(A.getTime()-i),g=i=>i*6e4,I=[{id:"t1",role:"system",text:"Voice session started. Connected to Luis.",timestamp:h(g(3))},{id:"t2",role:"user",text:"Hey Luis, how's the Horizon UI sprint going?",timestamp:h(g(2)+45e3),duration:2800,confidence:.97},{id:"t3",role:"agent",text:"Really well! We just crossed 27 views â€” way past the 10-12 goal. I've been building AuditLog, SystemHealth, IntegrationHub, GlobalSearch, and PromptLibrary in the last couple hours. Piper did TeamManagement, Quinn got BillingSubscription done, and Wes just shipped DataExportManager. Build is clean across all of them.",timestamp:h(g(2)+1e4),duration:11200},{id:"t4",role:"user",text:"That's incredible. What are you working on next?",timestamp:h(g(1)+3e4),duration:3100,confidence:.95},{id:"t5",role:"agent",text:"VoiceInterface â€” which is this view, actually. Then DeveloperConsole, which Reed is building right now. Still have a few hours before 7:30 AM. The goal is to ship something genuinely useful every session.",timestamp:h(g(1)),duration:9600},{id:"t6",role:"user",text:"Love it. Keep going.",timestamp:h(g(0)+15e3),duration:1800,confidence:.99}];function B({active:i,color:n}){return e.jsx("div",{className:"flex items-center gap-px h-8","aria-hidden":"true",children:Array.from({length:12},(a,l)=>{const c=(l*.07).toFixed(2),d=2,x=32;return e.jsx("div",{className:o("w-1 rounded-full transition-all",n),style:{height:i?`${d+Math.sin(l*1.3)*(x-d)*.5+(x-d)*.5}px`:`${d+2}px`,animationName:i?"audioBar":"none",animationDuration:`${.6+l%3*.15}s`,animationDelay:`${c}s`,animationTimingFunction:"ease-in-out",animationIterationCount:"infinite",animationDirection:"alternate"}},l)})})}function R({state:i}){const n=i==="listening"||i==="speaking"||i==="thinking",t=i==="listening"?"bg-indigo-500":i==="speaking"?"bg-emerald-500":i==="thinking"?"bg-amber-500":"bg-zinc-600";return e.jsxs("div",{className:"relative flex items-center justify-center",children:[n&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:o("absolute rounded-full opacity-20 animate-ping",t,i==="listening"?"h-36 w-36":"h-32 w-32")}),e.jsx("div",{className:o("absolute rounded-full opacity-10 animate-ping",t,"h-44 w-44"),style:{animationDelay:"0.3s"}})]}),e.jsxs("button",{"aria-label":i==="listening"?"Stop listening":i==="idle"?"Start voice call":i,"aria-pressed":i!=="idle",className:o("relative z-10 flex items-center justify-center h-28 w-28 rounded-full border-4 transition-all duration-300 focus-visible:outline-none focus-visible:ring-4 focus-visible:ring-offset-2 focus-visible:ring-offset-zinc-950",i==="idle"&&"bg-zinc-800 border-zinc-600 hover:bg-zinc-700 focus-visible:ring-zinc-500",i==="connecting"&&"bg-zinc-800 border-zinc-600 animate-pulse",i==="listening"&&"bg-indigo-600 border-indigo-400 hover:bg-indigo-700 focus-visible:ring-indigo-500",i==="thinking"&&"bg-amber-600 border-amber-400 focus-visible:ring-amber-500",i==="speaking"&&"bg-emerald-600 border-emerald-400 focus-visible:ring-emerald-500",i==="error"&&"bg-rose-700 border-rose-500 focus-visible:ring-rose-500"),children:[i==="idle"&&e.jsxs("svg",{className:"h-12 w-12 text-zinc-300",viewBox:"0 0 48 48",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("rect",{x:"16",y:"8",width:"16",height:"24",rx:"8"}),e.jsx("path",{d:"M8 28c0 8.837 7.163 16 16 16s16-7.163 16-16"}),e.jsx("line",{x1:"24",y1:"44",x2:"24",y2:"48"}),e.jsx("line",{x1:"16",y1:"48",x2:"32",y2:"48"})]}),i==="connecting"&&e.jsx("svg",{className:"h-10 w-10 text-zinc-300 animate-spin",viewBox:"0 0 48 48",fill:"none",stroke:"currentColor",strokeWidth:2.5,strokeLinecap:"round",children:e.jsx("path",{d:"M42 24A18 18 0 1 1 24 6"})}),i==="listening"&&e.jsxs("svg",{className:"h-12 w-12 text-white",viewBox:"0 0 48 48",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("rect",{x:"16",y:"8",width:"16",height:"24",rx:"8"}),e.jsx("path",{d:"M8 28c0 8.837 7.163 16 16 16s16-7.163 16-16"}),e.jsx("line",{x1:"24",y1:"44",x2:"24",y2:"48"}),e.jsx("line",{x1:"16",y1:"48",x2:"32",y2:"48"})]}),i==="thinking"&&e.jsx("div",{className:"flex gap-1.5",children:[0,1,2].map(a=>e.jsx("div",{className:"h-3 w-3 rounded-full bg-amber-200 animate-bounce",style:{animationDelay:`${a*.15}s`}},a))}),i==="speaking"&&e.jsxs("svg",{className:"h-12 w-12 text-white",viewBox:"0 0 48 48",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("polygon",{points:"8,12 8,36 24,36 40,22 24,8"}),e.jsx("path",{d:"M36 18c3 1.5 5 4.5 5 8s-2 6.5-5 8"}),e.jsx("path",{d:"M40 12c5 3 8 8 8 14s-3 11-8 14"})]}),i==="error"&&e.jsxs("svg",{className:"h-12 w-12 text-rose-200",viewBox:"0 0 48 48",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",children:[e.jsx("circle",{cx:"24",cy:"24",r:"18"}),e.jsx("path",{d:"M24 16v12M24 34h.01"})]})]})]})}const E={idle:{label:"Tap to start voice call",color:"text-zinc-500"},connecting:{label:"Connectingâ€¦",color:"text-zinc-400"},listening:{label:"Listeningâ€¦",color:"text-indigo-300"},thinking:{label:"Thinkingâ€¦",color:"text-amber-300"},speaking:{label:"Luis is speaking",color:"text-emerald-300"},error:{label:"Connection lost. Tap to retry.",color:"text-rose-400"}};function V({entry:i}){const n=i.role==="user",t=i.role==="system",a=i.timestamp.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1});return t?e.jsx("div",{className:"flex items-center justify-center py-2",children:e.jsx("span",{className:"text-xs text-zinc-600 px-3 py-1 rounded-full bg-zinc-900 border border-zinc-800",children:i.text})}):e.jsxs("div",{className:o("flex gap-3",n&&"flex-row-reverse"),children:[e.jsx("div",{className:o("flex-none h-8 w-8 rounded-full flex items-center justify-center text-xs font-semibold flex-shrink-0",n?"bg-indigo-600 text-white":"bg-zinc-700 text-zinc-200"),children:n?"D":"ðŸŽ¨"}),e.jsxs("div",{className:o("max-w-xs md:max-w-md",n&&"items-end flex flex-col"),children:[e.jsxs("div",{className:o("px-4 py-2.5 rounded-2xl text-sm leading-relaxed",n?"bg-indigo-600 text-white rounded-tr-sm":"bg-zinc-800 text-zinc-100 rounded-tl-sm",i.isPartial&&"opacity-60"),children:[i.text,i.isPartial&&e.jsxs("span",{className:"ml-1 inline-flex gap-0.5",children:[e.jsx("span",{className:"animate-bounce w-1 h-1 bg-current rounded-full"}),e.jsx("span",{className:"animate-bounce w-1 h-1 bg-current rounded-full",style:{animationDelay:"0.15s"}}),e.jsx("span",{className:"animate-bounce w-1 h-1 bg-current rounded-full",style:{animationDelay:"0.3s"}})]})]}),e.jsxs("div",{className:o("flex items-center gap-2 mt-1",n&&"flex-row-reverse"),children:[e.jsx("span",{className:"text-xs text-zinc-600",children:a}),i.duration&&e.jsxs("span",{className:"text-xs text-zinc-700",children:[(i.duration/1e3).toFixed(1),"s"]}),i.confidence!==void 0&&i.confidence<.9&&e.jsxs("span",{className:"text-xs text-amber-600",title:"Low confidence transcription",children:["~",Math.round(i.confidence*100),"%"]})]})]})]})}function W(){const[i,n]=r.useState("idle"),[t,a]=r.useState(k[0]),[l,c]=r.useState(I),[d,x]=r.useState(0),[b,y]=r.useState(!1),[j,z]=r.useState(80),[p,C]=r.useState(!0),v=r.useRef(null),f=r.useRef(null),m=r.useRef("idle");m.current=i,r.useEffect(()=>{var s;(s=v.current)==null||s.scrollIntoView({behavior:"smooth"})},[l]),r.useEffect(()=>(i!=="idle"&&i!=="error"?f.current=setInterval(()=>x(s=>s+1),1e3):f.current&&clearInterval(f.current),()=>{f.current&&clearInterval(f.current)}),[i]);const w=r.useCallback(()=>{n("connecting"),x(0),setTimeout(()=>{n("listening"),c(s=>[...s,{id:`sys-${Date.now()}`,role:"system",text:`New session started with ${t.name}.`,timestamp:new Date}]),setTimeout(()=>{m.current==="listening"&&(c(s=>[...s,{id:`user-${Date.now()}`,role:"user",text:"Hey, what's the status on Horizon UI?",timestamp:new Date,duration:2900,confidence:.96}]),n("thinking"),setTimeout(()=>{m.current==="thinking"&&(n("speaking"),c(s=>[...s,{id:`agent-${Date.now()}`,role:"agent",text:"All good! 27 views shipped and counting. Build is clean. I'm working on VoiceInterface right now â€” this view, actually.",timestamp:new Date,duration:7400}]),setTimeout(()=>{m.current==="speaking"&&n("listening")},7500))},1800))},4e3)},1200)},[t]),S=r.useCallback(()=>{n("idle"),x(0),c(s=>[...s,{id:`sys-end-${Date.now()}`,role:"system",text:"Voice session ended.",timestamp:new Date}])},[]),T=r.useCallback(()=>{i==="idle"||i==="error"?w():i==="listening"&&(n("thinking"),setTimeout(()=>{m.current==="thinking"&&(n("speaking"),setTimeout(()=>{m.current==="speaking"&&n("listening")},5e3))},1500))},[i,w]),M=s=>{const L=Math.floor(s/60).toString().padStart(2,"0"),D=(s%60).toString().padStart(2,"0");return`${L}:${D}`},u=i!=="idle"&&i!=="error",N=E[i];return e.jsxs("div",{className:"flex flex-col h-full bg-zinc-950",children:[e.jsxs("div",{className:"flex-none px-6 py-4 border-b border-zinc-800 flex items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-semibold text-white",children:"Voice Interface"}),e.jsx("p",{className:"text-sm text-zinc-500 mt-0.5",children:"Speak directly to your agents"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>C(s=>!s),"aria-pressed":p,"aria-label":"Toggle transcript",className:o("px-3 py-1.5 text-xs font-medium rounded-lg border transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-500",p?"bg-indigo-600/20 text-indigo-300 border-indigo-500/30":"bg-zinc-800 text-zinc-400 border-zinc-700"),children:p?"Hide Transcript":"Show Transcript"}),u&&e.jsx("button",{onClick:S,"aria-label":"End voice session",className:"px-3 py-1.5 text-xs font-medium rounded-lg bg-rose-600/20 text-rose-300 border border-rose-500/30 hover:bg-rose-600/30 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-rose-500 transition-colors",children:"End Call"})]})]}),e.jsxs("div",{className:"flex flex-1 min-h-0",children:[e.jsxs("div",{className:o("flex flex-col items-center",p?"w-80 flex-none border-r border-zinc-800":"flex-1"),children:[e.jsxs("div",{className:"w-full px-6 py-4 border-b border-zinc-800",children:[e.jsx("p",{className:"text-xs font-semibold text-zinc-500 uppercase tracking-wider mb-2",children:"Agent"}),e.jsx("div",{className:"space-y-1",children:k.map(s=>e.jsxs("button",{onClick:()=>{u||a(s)},disabled:u,"aria-pressed":t.id===s.id,"aria-label":`Select ${s.name} â€” ${s.description}`,className:o("w-full flex items-center gap-3 px-3 py-2 rounded-lg text-left transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-500",t.id===s.id?"bg-indigo-600/20 border border-indigo-500/30":"hover:bg-zinc-900 border border-transparent",u&&t.id!==s.id&&"opacity-40 cursor-not-allowed"),children:[e.jsx("span",{className:"text-lg flex-none",children:s.emoji}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-white",children:s.name}),e.jsx("p",{className:"text-xs text-zinc-500 truncate",children:s.voice})]}),t.id===s.id&&e.jsx("svg",{className:"h-4 w-4 text-indigo-400 flex-none ml-auto",viewBox:"0 0 16 16",fill:"none",stroke:"currentColor",strokeWidth:2,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 8l4 4 6-6"})})]},s.id))})]}),e.jsxs("div",{className:"flex flex-col items-center justify-center flex-1 gap-6 px-6 py-8",children:[u&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"h-2 w-2 rounded-full bg-rose-500 animate-pulse"}),e.jsx("span",{className:"text-sm font-mono text-zinc-300",children:M(d)})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-5xl mb-2",children:t.emoji}),e.jsx("p",{className:"text-base font-semibold text-white",children:t.name}),e.jsx("p",{className:"text-xs text-zinc-500",children:t.description})]}),e.jsx("div",{onClick:T,children:e.jsx(R,{state:i})}),e.jsx(B,{active:i==="listening"||i==="speaking",color:i==="speaking"?"bg-emerald-500":"bg-indigo-500"}),e.jsx("p",{className:o("text-sm font-medium transition-colors",N.color),children:N.label}),u&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>y(s=>!s),"aria-pressed":b,"aria-label":b?"Unmute microphone":"Mute microphone",className:o("flex items-center justify-center h-10 w-10 rounded-full border transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-500",b?"bg-rose-600/20 border-rose-500/30 text-rose-300":"bg-zinc-800 border-zinc-700 text-zinc-400 hover:text-zinc-200"),children:b?e.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 16 16",fill:"none",stroke:"currentColor",strokeWidth:1.5,children:[e.jsx("path",{strokeLinecap:"round",d:"M2 2l12 12M9 9.86A4 4 0 018 10V6a4 4 0 011 .14M5 10.73A4 4 0 014 8V6m4 8v2M7.5 16h1"}),e.jsx("path",{strokeLinecap:"round",d:"M12 8a4 4 0 01-.08.8"})]}):e.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 16 16",fill:"none",stroke:"currentColor",strokeWidth:1.5,children:[e.jsx("rect",{x:"5",y:"1",width:"6",height:"9",rx:"3"}),e.jsx("path",{strokeLinecap:"round",d:"M3 8a5 5 0 0010 0M8 13v2M6.5 15h3"})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("svg",{className:"h-3.5 w-3.5 text-zinc-500",viewBox:"0 0 16 16",fill:"none",stroke:"currentColor",strokeWidth:1.5,children:[e.jsx("polygon",{points:"1,5 1,11 4,11 8,14 8,2 4,5"}),e.jsx("path",{strokeLinecap:"round",d:"M11 6a3 3 0 010 4"})]}),e.jsx("input",{type:"range",min:0,max:100,value:j,onChange:s=>z(Number(s.target.value)),"aria-label":"Volume",className:"w-20 h-1 accent-indigo-500"}),e.jsx("span",{className:"text-xs font-mono text-zinc-500 w-6",children:j})]})]})]})]}),p&&e.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[e.jsxs("div",{className:"flex-none px-5 py-3 border-b border-zinc-800 flex items-center justify-between",children:[e.jsx("p",{className:"text-xs font-semibold text-zinc-500 uppercase tracking-wider",children:"Transcript"}),e.jsx("button",{onClick:()=>c([]),"aria-label":"Clear transcript",className:"text-xs text-zinc-600 hover:text-zinc-400 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-indigo-500 rounded transition-colors",children:"Clear"})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto px-5 py-4 space-y-4",children:[l.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center gap-3 py-16 text-center",children:[e.jsx("span",{className:"text-3xl",children:"ðŸŽ™ï¸"}),e.jsx("p",{className:"text-sm text-zinc-500",children:"Transcript will appear here"})]}):l.map(s=>e.jsx(V,{entry:s},s.id)),e.jsx("div",{ref:v})]}),i==="listening"&&e.jsx("div",{className:"flex-none px-5 py-3 border-t border-zinc-800",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-indigo-500 animate-pulse"}),e.jsx("span",{className:"text-xs text-zinc-600",children:"Listening for speechâ€¦"})]})})]})]}),e.jsx("style",{children:`
        @keyframes audioBar {
          from { transform: scaleY(0.3); }
          to { transform: scaleY(1); }
        }
      `})]})}export{W as default};
