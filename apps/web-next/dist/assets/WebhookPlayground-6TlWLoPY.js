import{r as d,j as e,c as o,R as L}from"./index-BJKg5L1j.js";let q=0;function t(){return q+=1,`uid-${Date.now()}-${q}`}function M(a){return a>=200&&a<300?"bg-emerald-400/15 text-emerald-400 border-emerald-400/30":a>=300&&a<400?"bg-amber-400/15 text-amber-400 border-amber-400/30":a>=400&&a<500?"bg-rose-400/15 text-rose-400 border-rose-400/30":a>=500?"bg-rose-500/15 text-rose-500 border-rose-500/30":"bg-zinc-700 text-zinc-300 border-zinc-600"}function A(a){try{return JSON.stringify(JSON.parse(a),null,2)}catch{return a}}const W=[{id:t(),timestamp:"2026-02-22T03:12:04Z",endpoint:"https://api.acme.dev/hooks/agent-events",method:"POST",statusCode:200,responseTimeMs:142,event:"agent.task.completed",requestHeaders:[{id:t(),key:"Content-Type",value:"application/json"},{id:t(),key:"X-Webhook-Signature",value:"sha256=9a1f3câ€¦e7b2"}],requestBody:JSON.stringify({event:"agent.task.completed",payload:{agentId:"agent_9xkLm3",taskId:"task_Qr82nZ",status:"success",durationMs:4821,output:{summary:"Generated quarterly report",tokens:3280}},timestamp:"2026-02-22T03:12:04Z"},null,2),responseHeaders:{"Content-Type":"application/json","X-Request-Id":"req_abc123"},responseBody:JSON.stringify({received:!0,id:"dlv_001"},null,2)},{id:t(),timestamp:"2026-02-22T03:10:47Z",endpoint:"https://api.acme.dev/hooks/inference",method:"POST",statusCode:200,responseTimeMs:89,event:"model.inference.done",requestHeaders:[{id:t(),key:"Content-Type",value:"application/json"},{id:t(),key:"Authorization",value:"Bearer wh_live_k8â€¦x2"}],requestBody:JSON.stringify({event:"model.inference.done",payload:{modelId:"minimax-m2.5",requestId:"inf_7hG4pL",inputTokens:1240,outputTokens:860,latencyMs:1823,finishReason:"stop"},timestamp:"2026-02-22T03:10:47Z"},null,2),responseHeaders:{"Content-Type":"application/json","X-Request-Id":"req_def456"},responseBody:JSON.stringify({received:!0,id:"dlv_002"},null,2)},{id:t(),timestamp:"2026-02-22T03:08:15Z",endpoint:"https://api.acme.dev/hooks/sessions",method:"POST",statusCode:201,responseTimeMs:210,event:"session.created",requestHeaders:[{id:t(),key:"Content-Type",value:"application/json"},{id:t(),key:"X-Webhook-Signature",value:"sha256=4b2d8eâ€¦f1a9"}],requestBody:JSON.stringify({event:"session.created",payload:{sessionId:"sess_Mn4kP9",agentId:"agent_9xkLm3",channel:"slack",createdAt:"2026-02-22T03:08:15Z"},timestamp:"2026-02-22T03:08:15Z"},null,2),responseHeaders:{"Content-Type":"application/json","X-Request-Id":"req_ghi789",Location:"/deliveries/dlv_003"},responseBody:JSON.stringify({received:!0,id:"dlv_003",queued:!0},null,2)},{id:t(),timestamp:"2026-02-22T02:59:33Z",endpoint:"https://api.acme.dev/hooks/billing",method:"POST",statusCode:500,responseTimeMs:3042,event:"billing.usage.threshold",requestHeaders:[{id:t(),key:"Content-Type",value:"application/json"},{id:t(),key:"X-Webhook-Signature",value:"sha256=e8c4a1â€¦d3f7"}],requestBody:JSON.stringify({event:"billing.usage.threshold",payload:{orgId:"org_Xt9wK2",threshold:.9,currentUsage:892.4,limit:1e3,currency:"USD"},timestamp:"2026-02-22T02:59:33Z"},null,2),responseHeaders:{"Content-Type":"text/plain"},responseBody:"Internal Server Error: database connection timeout"},{id:t(),timestamp:"2026-02-22T02:52:11Z",endpoint:"https://api.acme.dev/hooks/deployments",method:"PUT",statusCode:200,responseTimeMs:174,event:"deployment.status.changed",requestHeaders:[{id:t(),key:"Content-Type",value:"application/json"},{id:t(),key:"X-Api-Key",value:"whk_prod_a8â€¦q1"}],requestBody:JSON.stringify({event:"deployment.status.changed",payload:{deploymentId:"deploy_B3mZ7x",previousStatus:"building",newStatus:"live",region:"us-west-2",sha:"a1b2c3d"},timestamp:"2026-02-22T02:52:11Z"},null,2),responseHeaders:{"Content-Type":"application/json","X-Request-Id":"req_jkl012"},responseBody:JSON.stringify({received:!0,id:"dlv_005"},null,2)},{id:t(),timestamp:"2026-02-22T02:44:58Z",endpoint:"https://api.acme.dev/hooks/agent-events",method:"PATCH",statusCode:422,responseTimeMs:67,event:"agent.error.raised",requestHeaders:[{id:t(),key:"Content-Type",value:"application/json"},{id:t(),key:"X-Webhook-Signature",value:"sha256=1f9a3bâ€¦c4e8"}],requestBody:JSON.stringify({event:"agent.error.raised",payload:{agentId:"agent_9xkLm3",taskId:"task_Hk29bF",error:{code:"CONTEXT_LIMIT_EXCEEDED",message:"Input exceeded maximum context window of 200k tokens"},severity:"warning"},timestamp:"2026-02-22T02:44:58Z"},null,2),responseHeaders:{"Content-Type":"application/json"},responseBody:JSON.stringify({error:"Unprocessable Entity",message:"Missing required field: retry_policy"},null,2)},{id:t(),timestamp:"2026-02-22T02:38:02Z",endpoint:"https://api.acme.dev/hooks/tools",method:"POST",statusCode:204,responseTimeMs:53,event:"tool.execution.completed",requestHeaders:[{id:t(),key:"Content-Type",value:"application/json"},{id:t(),key:"X-Webhook-Signature",value:"sha256=7d3e9fâ€¦b2a1"}],requestBody:JSON.stringify({event:"tool.execution.completed",payload:{toolName:"web_search",sessionId:"sess_Mn4kP9",durationMs:1120,resultCount:8,cached:!1},timestamp:"2026-02-22T02:38:02Z"},null,2),responseHeaders:{},responseBody:""}];function H({text:a}){const f=A(a).split(`
`);return e.jsx("pre",{className:"text-sm font-mono leading-relaxed whitespace-pre-wrap break-all",children:f.map((h,b)=>{const n=[];let c=h,r=0;const m=c.match(/^(\s*)"([^"]+)"(:)/);m&&(n.push(e.jsx("span",{className:"text-zinc-500",children:m[1]},r++)),n.push(e.jsxs("span",{className:"text-indigo-400",children:['"',m[2],'"']},r++)),n.push(e.jsx("span",{className:"text-zinc-500",children:m[3]},r++)),c=c.slice(m[0].length));const x=c.match(/^(\s*)"([^"]*)"(.*)$/);if(x)n.push(e.jsx("span",{className:"text-zinc-400",children:x[1]},r++)),n.push(e.jsxs("span",{className:"text-emerald-400",children:['"',x[2],'"']},r++)),n.push(e.jsx("span",{className:"text-zinc-500",children:x[3]},r++));else{const p=c.match(/^(\s*)(true|false|null|-?\d+\.?\d*)(.*)/);if(p){n.push(e.jsx("span",{className:"text-zinc-400",children:p[1]},r++));const N=p[2]==="true"||p[2]==="false"?"text-amber-400":p[2]==="null"?"text-rose-400":"text-sky-400";n.push(e.jsx("span",{className:N,children:p[2]},r++)),n.push(e.jsx("span",{className:"text-zinc-500",children:p[3]},r++))}else c.length>0&&n.push(e.jsx("span",{className:"text-zinc-400",children:c},r++))}return e.jsxs(L.Fragment,{children:[n.length>0?n:e.jsx("span",{className:"text-zinc-500",children:h}),b<f.length-1?`
`:null]},b)})})}function F(){const[a,j]=d.useState("https://api.acme.dev/hooks/agent-events"),[f,h]=d.useState("POST"),[b,n]=d.useState([{id:t(),key:"Content-Type",value:"application/json"},{id:t(),key:"X-Webhook-Signature",value:""}]),[c,r]=d.useState(JSON.stringify({event:"agent.task.completed",payload:{agentId:"agent_test",taskId:"task_test",status:"success"},timestamp:new Date().toISOString()},null,2)),[m,x]=d.useState(!1),[p,N]=d.useState(""),[l,z]=d.useState({statusCode:null,headers:{},body:"",timeMs:null}),[v,T]=d.useState(!1),[I,k]=d.useState(!1),[C]=d.useState(W),[O,B]=d.useState(null),[E,R]=d.useState("history");function J(){n(s=>[...s,{id:t(),key:"",value:""}])}function Z(s){n(i=>i.filter(u=>u.id!==s))}function w(s,i,u){n(g=>g.map(S=>S.id===s?{...S,[i]:u}:S))}function _(){T(!0),k(!1);const s=120+Math.floor(Math.random()*400);setTimeout(()=>{const i=[200,200,200,201,204,400,500],u=i[Math.floor(Math.random()*i.length)],g=u>=200&&u<300;z({statusCode:u,headers:{"Content-Type":"application/json","X-Request-Id":`req_${Math.random().toString(36).slice(2,10)}`,...g?{"X-RateLimit-Remaining":"147"}:{}},body:JSON.stringify(g?{received:!0,id:`dlv_${Math.random().toString(36).slice(2,8)}`}:u===400?{error:"Bad Request",message:"Invalid payload structure"}:{error:"Internal Server Error",message:"Upstream timeout"},null,2),timeMs:s}),T(!1),k(!g)},s)}function X(s){B(s.id),j(s.endpoint),h(s.method),n(s.requestHeaders.map(i=>({...i,id:t()}))),r(s.requestBody),z({statusCode:s.statusCode,headers:s.responseHeaders,body:s.responseBody,timeMs:s.responseTimeMs}),k(s.statusCode>=400)}function P(s){return new Date(s).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})}const D=["POST","PUT","PATCH"],y="bg-zinc-800 border border-zinc-700 rounded-md px-3 py-2 text-sm text-white placeholder-zinc-500 focus:outline-none focus:ring-2 focus:ring-indigo-500/50 focus:border-indigo-500 transition-colors";return e.jsxs("div",{className:"min-h-screen bg-zinc-950 text-white p-4 md:p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold tracking-tight flex items-center gap-2",children:"ðŸ“¨ Webhook Playground"}),e.jsx("p",{className:"text-zinc-400 text-sm mt-1",children:"Test, inspect, and replay webhook deliveries"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl p-5 flex flex-col gap-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-sm font-semibold text-zinc-300 uppercase tracking-wider",children:"ðŸ“¤ Request"}),e.jsxs("div",{className:"flex items-center gap-2",children:[I&&e.jsx("button",{onClick:_,disabled:v,className:"px-3 py-1.5 text-xs font-medium rounded-md bg-amber-400/15 text-amber-400 border border-amber-400/30 hover:bg-amber-400/25 transition-colors disabled:opacity-50",children:"ðŸ”„ Retry"}),e.jsx("button",{onClick:_,disabled:v||!a.trim(),className:o("px-4 py-1.5 text-sm font-medium rounded-md transition-all",v?"bg-indigo-500/30 text-indigo-300 cursor-wait":"bg-indigo-500 text-white hover:bg-indigo-400 active:bg-indigo-600","disabled:opacity-40 disabled:cursor-not-allowed"),children:v?"â³ Sendingâ€¦":"â–¶ Send"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("select",{value:f,onChange:s=>h(s.target.value),className:"bg-zinc-800 border border-zinc-700 rounded-md px-3 py-2 text-sm text-indigo-400 font-mono font-semibold focus:outline-none focus:ring-2 focus:ring-indigo-500/50 cursor-pointer",children:D.map(s=>e.jsx("option",{value:s,children:s},s))}),e.jsx("input",{type:"text",value:a,onChange:s=>j(s.target.value),placeholder:"https://example.com/webhook",className:o(y,"flex-1 font-mono")})]}),e.jsxs("div",{className:"flex items-center gap-3 bg-zinc-800/50 rounded-lg px-3 py-2.5 border border-zinc-800",children:[e.jsx("button",{onClick:()=>x(!m),className:o("w-9 h-5 rounded-full transition-colors relative flex-shrink-0",m?"bg-indigo-500":"bg-zinc-700"),children:e.jsx("span",{className:o("absolute top-0.5 w-4 h-4 rounded-full bg-white transition-transform",m?"left-[18px]":"left-0.5")})}),e.jsx("span",{className:"text-xs text-zinc-400",children:"HMAC-SHA256 Signature"}),m&&e.jsx("input",{type:"text",value:p,onChange:s=>N(s.target.value),placeholder:"whsec_â€¦",className:o(y,"flex-1 text-xs font-mono")})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-xs text-zinc-400 font-medium uppercase tracking-wider",children:"Headers"}),e.jsx("button",{onClick:J,className:"text-xs text-indigo-400 hover:text-indigo-300 transition-colors",children:"âž• Add"})]}),e.jsx("div",{className:"flex flex-col gap-1.5",children:b.map(s=>e.jsxs("div",{className:"flex gap-1.5 items-center",children:[e.jsx("input",{type:"text",value:s.key,onChange:i=>w(s.id,"key",i.target.value),placeholder:"Key",className:o(y,"w-1/3 text-xs font-mono")}),e.jsx("input",{type:"text",value:s.value,onChange:i=>w(s.id,"value",i.target.value),placeholder:"Value",className:o(y,"flex-1 text-xs font-mono")}),e.jsx("button",{onClick:()=>Z(s.id),className:"text-zinc-600 hover:text-rose-400 transition-colors text-sm px-1 flex-shrink-0",title:"Remove header",children:"âœ•"})]},s.id))})]}),e.jsxs("div",{className:"flex-1 flex flex-col",children:[e.jsx("span",{className:"text-xs text-zinc-400 font-medium uppercase tracking-wider mb-2",children:"Body"}),e.jsxs("div",{className:"relative flex-1 min-h-[200px]",children:[e.jsx("textarea",{value:c,onChange:s=>r(s.target.value),spellCheck:!1,className:o("absolute inset-0 w-full h-full bg-transparent text-transparent caret-white","font-mono text-sm leading-relaxed p-3 resize-none","border border-zinc-700 rounded-md","focus:outline-none focus:ring-2 focus:ring-indigo-500/50 focus:border-indigo-500","z-10")}),e.jsx("div",{className:o("absolute inset-0 w-full h-full overflow-auto","font-mono text-sm leading-relaxed p-3","border border-transparent rounded-md","bg-zinc-800 pointer-events-none"),children:e.jsx(H,{text:c})})]})]})]}),e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl p-5 flex flex-col gap-4",children:[e.jsx("h2",{className:"text-sm font-semibold text-zinc-300 uppercase tracking-wider",children:"ðŸ“¥ Response"}),l.statusCode===null?e.jsx("div",{className:"flex-1 flex items-center justify-center text-zinc-600",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-4xl mb-3",children:"ðŸ“­"}),e.jsx("p",{className:"text-sm",children:"No response yet"}),e.jsx("p",{className:"text-xs text-zinc-700 mt-1",children:"Send a request or select a delivery"})]})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:o("inline-flex items-center px-3 py-1 rounded-full text-xs font-bold border",M(l.statusCode)),children:[l.statusCode>=200&&l.statusCode<300?"âœ…":l.statusCode>=400?"âŒ":"âš ï¸"," ",l.statusCode]}),l.timeMs!==null&&e.jsxs("span",{className:"text-xs text-zinc-500 font-mono",children:["â± ",l.timeMs,"ms"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs text-zinc-400 font-medium uppercase tracking-wider",children:"Response Headers"}),e.jsx("div",{className:"mt-2 bg-zinc-800 rounded-md p-3 text-xs font-mono space-y-1 max-h-[120px] overflow-auto",children:Object.entries(l.headers).length===0?e.jsx("span",{className:"text-zinc-600",children:"No headers"}):Object.entries(l.headers).map(([s,i])=>e.jsxs("div",{children:[e.jsx("span",{className:"text-indigo-400",children:s}),e.jsx("span",{className:"text-zinc-600",children:": "}),e.jsx("span",{className:"text-zinc-300",children:i})]},s))})]}),e.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[e.jsx("span",{className:"text-xs text-zinc-400 font-medium uppercase tracking-wider mb-2",children:"Response Body"}),e.jsx("div",{className:"flex-1 bg-zinc-800 rounded-md p-3 overflow-auto min-h-[200px]",children:l.body?e.jsx(H,{text:l.body}):e.jsx("span",{className:"text-xs text-zinc-600 font-mono",children:"Empty response body"})})]})]})]})]}),e.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl p-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-sm font-semibold text-zinc-300 uppercase tracking-wider",children:"ðŸ• Delivery History"}),e.jsx("div",{className:"flex gap-1 lg:hidden",children:["history","config","response"].map(s=>e.jsx("button",{onClick:()=>R(s),className:o("px-2.5 py-1 text-xs rounded-md transition-colors",E===s?"bg-zinc-700 text-white":"text-zinc-500 hover:text-zinc-300"),children:s==="history"?"ðŸ“‹":s==="config"?"ðŸ“¤":"ðŸ“¥"},s))})]}),e.jsxs("div",{className:"grid grid-cols-[1fr_2fr_auto_auto_auto] gap-3 px-3 py-2 text-xs text-zinc-500 font-medium uppercase tracking-wider border-b border-zinc-800",children:[e.jsx("span",{children:"Time"}),e.jsx("span",{children:"Endpoint"}),e.jsx("span",{className:"text-center",children:"Event"}),e.jsx("span",{className:"text-center",children:"Status"}),e.jsx("span",{className:"text-right",children:"Latency"})]}),e.jsx("div",{className:"divide-y divide-zinc-800/50 max-h-[320px] overflow-auto",children:C.map(s=>e.jsxs("button",{onClick:()=>X(s),className:o("w-full grid grid-cols-[1fr_2fr_auto_auto_auto] gap-3 px-3 py-3 text-left transition-colors","hover:bg-zinc-800/60",O===s.id?"bg-indigo-500/10 border-l-2 border-l-indigo-500":"border-l-2 border-l-transparent"),children:[e.jsx("span",{className:"text-xs text-zinc-400 font-mono tabular-nums",children:P(s.timestamp)}),e.jsxs("span",{className:"text-xs text-zinc-300 font-mono truncate",children:[e.jsx("span",{className:"text-indigo-400 font-semibold mr-1.5",children:s.method}),s.endpoint.replace("https://","")]}),e.jsx("span",{className:"text-xs text-zinc-500 font-mono",children:s.event}),e.jsx("span",{className:"text-center",children:e.jsx("span",{className:o("inline-flex items-center px-2 py-0.5 rounded-full text-xs font-bold border",M(s.statusCode)),children:s.statusCode})}),e.jsxs("span",{className:o("text-xs font-mono tabular-nums text-right",s.responseTimeMs>1e3?"text-amber-400":s.responseTimeMs>500?"text-zinc-400":"text-emerald-400"),children:[s.responseTimeMs,"ms"]})]},s.id))}),e.jsxs("div",{className:"flex items-center justify-between mt-3 pt-3 border-t border-zinc-800",children:[e.jsxs("span",{className:"text-xs text-zinc-600",children:[C.length," deliveries Â· Click to replay"]}),e.jsxs("div",{className:"flex items-center gap-3 text-xs text-zinc-600",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-emerald-400 inline-block"})," Success"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-amber-400 inline-block"})," Warning"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-rose-400 inline-block"})," Error"]})]})]})]})]})}export{F as default};
