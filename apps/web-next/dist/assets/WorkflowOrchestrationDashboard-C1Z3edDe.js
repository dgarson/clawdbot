import{r as d,j as e,c as i}from"./index-BvekFnzL.js";const c=[{id:"wf1",name:"User Onboarding Pipeline",description:"Provisions tenant, sends welcome email, seeds demo data",triggerType:"event",schedule:null,stepCount:7,lastRunStatus:"completed",lastRunAt:"2026-02-22T14:38:00",totalRuns:1248,successRate:98.7,avgDuration:12,enabled:!0,tags:["onboarding","user","email"]},{id:"wf2",name:"Nightly Data Export",description:"Exports tenant analytics to S3 and sends summary report",triggerType:"schedule",schedule:"0 2 * * *",stepCount:5,lastRunStatus:"completed",lastRunAt:"2026-02-22T02:00:00",totalRuns:187,successRate:99.5,avgDuration:340,enabled:!0,tags:["export","analytics","s3"]},{id:"wf3",name:"Quota Alert Escalation",description:"Notifies ops and optionally suspends service when quota exceeded",triggerType:"event",schedule:null,stepCount:4,lastRunStatus:"running",lastRunAt:"2026-02-22T14:52:00",totalRuns:43,successRate:93,avgDuration:8,enabled:!0,tags:["quota","alert","ops"]},{id:"wf4",name:"Stripe Invoice Sync",description:"Syncs invoice data from Stripe to internal billing DB",triggerType:"webhook",schedule:null,stepCount:6,lastRunStatus:"failed",lastRunAt:"2026-02-22T13:21:00",totalRuns:2841,successRate:96.2,avgDuration:4,enabled:!0,tags:["billing","stripe","sync"]},{id:"wf5",name:"SLA Violation Reporter",description:"Generates SLA reports and credits accounts for violations",triggerType:"schedule",schedule:"0 8 * * MON",stepCount:8,lastRunStatus:"completed",lastRunAt:"2026-02-17T08:00:00",totalRuns:12,successRate:100,avgDuration:65,enabled:!0,tags:["sla","compliance","billing"]},{id:"wf6",name:"Model Warmup Scheduler",description:"Pre-warms inference endpoints before peak traffic windows",triggerType:"schedule",schedule:"30 7 * * 1-5",stepCount:3,lastRunStatus:"scheduled",lastRunAt:null,totalRuns:0,successRate:0,avgDuration:0,enabled:!1,tags:["inference","performance"]}],j=[{id:"s1",name:"Validate Event Payload",type:"action",status:"completed",duration:120,retries:0,output:"Payload valid. tenant_id=t-001"},{id:"s2",name:"Check Existing User",type:"condition",status:"completed",duration:85,retries:0,output:"New user confirmed"},{id:"s3",name:"Provision Tenant",type:"action",status:"completed",duration:3200,retries:1,output:"Tenant created: t-001"},{id:"s4",name:"Send Welcome Email",type:"notify",status:"completed",duration:230,retries:0,output:"Email queued: msg_x9k2p"},{id:"s5",name:"Wait for Email Confirm",type:"wait",status:"completed",duration:14e3,retries:0,output:"Confirmed at T+14s"},{id:"s6",name:"Seed Demo Data",type:"action",status:"running",duration:null,retries:0,output:""},{id:"s7",name:"Notify Ops Slack",type:"notify",status:"pending",duration:null,retries:0,output:""}],v=[{id:"r1",workflowId:"wf1",workflowName:"User Onboarding Pipeline",status:"running",trigger:"event",startedAt:"2026-02-22T14:52:08",completedAt:null,duration:null,steps:j,triggeredBy:"webhook:user.created",errorMessage:null},{id:"r2",workflowId:"wf4",workflowName:"Stripe Invoice Sync",status:"failed",trigger:"webhook",startedAt:"2026-02-22T13:21:00",completedAt:"2026-02-22T13:21:04",duration:4,steps:[],triggeredBy:"webhook:invoice.created",errorMessage:"Stripe API rate limit exceeded (429). Retry exhausted."},{id:"r3",workflowId:"wf2",workflowName:"Nightly Data Export",status:"completed",trigger:"schedule",startedAt:"2026-02-22T02:00:00",completedAt:"2026-02-22T02:05:42",duration:342,steps:[],triggeredBy:"cron:0 2 * * *",errorMessage:null}],A=[{time:"08:00",completed:14,failed:1},{time:"09:00",completed:22,failed:0},{time:"10:00",completed:31,failed:2},{time:"11:00",completed:28,failed:1},{time:"12:00",completed:19,failed:0},{time:"13:00",completed:25,failed:3},{time:"14:00",completed:33,failed:1}];function p(s){return s==="completed"?"bg-emerald-400/10 text-emerald-400":s==="running"?"bg-indigo-400/10 text-indigo-400 animate-pulse":s==="paused"?"bg-amber-400/10 text-amber-400":s==="scheduled"?"bg-cyan-400/10 text-cyan-400":s==="failed"?"bg-rose-400/10 text-rose-400":"bg-zinc-700 text-zinc-400"}function y(s){return s==="completed"?"bg-emerald-500":s==="running"?"bg-indigo-500 animate-pulse":s==="failed"?"bg-rose-500":s==="skipped"?"bg-zinc-600":"bg-zinc-700"}function E(s){return{action:"‚öôÔ∏è",condition:"üîÄ",transform:"üîÑ",wait:"‚è≥",loop:"üîÅ",parallel:"‚áí",notify:"üì£"}[s]}function b(s){return s==="schedule"?"bg-purple-500/10 text-purple-400":s==="webhook"?"bg-cyan-500/10 text-cyan-400":s==="event"?"bg-indigo-500/10 text-indigo-400":s==="condition"?"bg-amber-500/10 text-amber-400":"bg-zinc-700 text-zinc-400"}function o(s){return s===null?"‚Äî":s<60?`${s}s`:`${Math.floor(s/60)}m ${s%60}s`}function D({data:s}){const x=Math.max(...s.map(r=>r.completed+r.failed));return e.jsx("div",{className:"flex items-end gap-1 h-20",children:s.map((r,h)=>{const m=r.completed/x*100,g=r.failed/x*100;return e.jsxs("div",{className:"flex-1 flex flex-col items-center gap-1",children:[e.jsxs("div",{className:"w-full flex flex-col-reverse rounded-sm overflow-hidden",style:{height:"60px"},children:[e.jsx("div",{className:"bg-emerald-500",style:{height:`${m}%`}}),e.jsx("div",{className:"bg-rose-500",style:{height:`${g}%`}})]}),e.jsx("span",{className:"text-xs text-zinc-600",children:r.time})]},h)})})}function W(){const[s,x]=d.useState("workflows"),[r,h]=d.useState("all"),[m,g]=d.useState("all"),[f,z]=d.useState(""),[l,w]=d.useState(null),[a,R]=d.useState(null),S=c.filter(t=>!(r!=="all"&&t.triggerType!==r||m!=="all"&&t.lastRunStatus!==m||f&&!t.name.toLowerCase().includes(f.toLowerCase()))),u=c.filter(t=>t.lastRunStatus==="running").length,N=c.filter(t=>t.lastRunStatus==="failed").length,k=c.reduce((t,n)=>t+n.totalRuns,0),T=c.filter(t=>t.totalRuns>0).reduce((t,n,P,C)=>t+n.successRate/C.length,0);return e.jsxs("div",{className:"h-full flex flex-col bg-zinc-950 text-white",children:[e.jsxs("div",{className:"border-b border-zinc-800 px-6 py-4 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-semibold",children:"Workflow Orchestration"}),e.jsx("p",{className:"text-sm text-zinc-400 mt-0.5",children:"Monitor, trigger, and manage automated workflows across the platform"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[u>0&&e.jsxs("span",{className:"bg-indigo-500/10 text-indigo-400 text-xs px-2 py-1 rounded-full border border-indigo-500/30 animate-pulse",children:[u," running"]}),N>0&&e.jsxs("span",{className:"bg-rose-500/10 text-rose-400 text-xs px-2 py-1 rounded-full border border-rose-500/30",children:[N," failed"]}),e.jsx("button",{className:"bg-indigo-600 hover:bg-indigo-500 text-white text-sm px-3 py-1.5 rounded-lg transition-colors",children:"+ New Workflow"})]})]}),e.jsx("div",{className:"border-b border-zinc-800 px-6",children:e.jsx("div",{className:"flex gap-6",children:["workflows","runs","analytics","history"].map(t=>e.jsx("button",{onClick:()=>x(t),className:i("py-3 text-sm font-medium border-b-2 capitalize transition-colors",s===t?"border-indigo-500 text-white":"border-transparent text-zinc-400 hover:text-zinc-200"),children:t},t))})}),e.jsxs("div",{className:"flex-1 overflow-auto",children:[s==="workflows"&&e.jsxs("div",{className:"flex h-full",children:[e.jsxs("div",{className:"w-96 border-r border-zinc-800 flex flex-col",children:[e.jsxs("div",{className:"p-4 border-b border-zinc-800 space-y-3",children:[e.jsx("input",{type:"text",placeholder:"Search workflows...",value:f,onChange:t=>z(t.target.value),className:"w-full bg-zinc-800 text-sm rounded-lg px-3 py-2 text-zinc-200 placeholder-zinc-500 outline-none focus:ring-1 focus:ring-indigo-500"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("select",{value:r,onChange:t=>h(t.target.value),className:"flex-1 bg-zinc-800 text-sm rounded-lg px-2 py-1.5 text-zinc-300 outline-none",children:[e.jsx("option",{value:"all",children:"All Triggers"}),e.jsx("option",{value:"manual",children:"Manual"}),e.jsx("option",{value:"schedule",children:"Schedule"}),e.jsx("option",{value:"webhook",children:"Webhook"}),e.jsx("option",{value:"event",children:"Event"}),e.jsx("option",{value:"condition",children:"Condition"})]}),e.jsxs("select",{value:m,onChange:t=>g(t.target.value),className:"flex-1 bg-zinc-800 text-sm rounded-lg px-2 py-1.5 text-zinc-300 outline-none",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"running",children:"Running"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"failed",children:"Failed"}),e.jsx("option",{value:"scheduled",children:"Scheduled"}),e.jsx("option",{value:"paused",children:"Paused"})]})]})]}),e.jsx("div",{className:"overflow-y-auto flex-1",children:S.map(t=>e.jsxs("button",{onClick:()=>w(t),className:i("w-full text-left px-4 py-3 border-b border-zinc-800 hover:bg-zinc-900 transition-colors",(l==null?void 0:l.id)===t.id&&"bg-zinc-900 border-l-2 border-l-indigo-500"),children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"text-sm font-medium text-zinc-100 truncate flex-1",children:t.name}),t.lastRunStatus&&e.jsx("span",{className:i("text-xs px-1.5 py-0.5 rounded-full ml-2 shrink-0",p(t.lastRunStatus)),children:t.lastRunStatus})]}),e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:i("text-xs px-1.5 py-0.5 rounded",b(t.triggerType)),children:t.triggerType}),e.jsxs("span",{className:"text-xs text-zinc-500",children:[t.stepCount," steps"]}),!t.enabled&&e.jsx("span",{className:"text-xs bg-zinc-800 text-zinc-500 px-1.5 py-0.5 rounded",children:"disabled"})]}),e.jsxs("div",{className:"flex items-center gap-3 text-xs text-zinc-500",children:[e.jsxs("span",{children:[t.totalRuns," runs"]}),t.totalRuns>0&&e.jsxs("span",{className:"text-emerald-500",children:[t.successRate.toFixed(1),"% success"]})]})]},t.id))})]}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:l?e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-zinc-100",children:l.name}),e.jsx("p",{className:"text-sm text-zinc-400 mt-1",children:l.description}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx("span",{className:i("text-xs px-2 py-0.5 rounded",b(l.triggerType)),children:l.triggerType}),l.schedule&&e.jsx("span",{className:"text-xs bg-zinc-800 text-zinc-400 px-2 py-0.5 rounded font-mono",children:l.schedule}),e.jsx("span",{className:i("text-xs px-2 py-0.5 rounded-full",l.enabled?"bg-emerald-400/10 text-emerald-400":"bg-zinc-700 text-zinc-400"),children:l.enabled?"enabled":"disabled"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"bg-indigo-600 hover:bg-indigo-500 text-sm px-3 py-1.5 rounded-lg text-white transition-colors",children:"‚ñ∂ Run Now"}),e.jsx("button",{className:"bg-zinc-800 hover:bg-zinc-700 text-sm px-3 py-1.5 rounded-lg text-zinc-300 transition-colors",children:"Edit"})]})]}),e.jsx("div",{className:"grid grid-cols-4 gap-3 mb-5",children:[{label:"Total Runs",value:l.totalRuns.toLocaleString()},{label:"Success Rate",value:`${l.successRate}%`,color:"text-emerald-400"},{label:"Avg Duration",value:o(l.avgDuration)},{label:"Steps",value:l.stepCount}].map((t,n)=>e.jsxs("div",{className:"bg-zinc-900 rounded-xl p-4",children:[e.jsx("div",{className:i("text-xl font-bold",t.color||"text-zinc-100"),children:t.value}),e.jsx("div",{className:"text-xs text-zinc-500 mt-0.5",children:t.label})]},n))}),l.tags.length>0&&e.jsxs("div",{className:"mb-5",children:[e.jsx("div",{className:"text-xs text-zinc-500 mb-2",children:"Tags"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:l.tags.map(t=>e.jsx("span",{className:"bg-zinc-800 text-zinc-300 text-xs px-2 py-0.5 rounded",children:t},t))})]}),l.id==="wf1"&&e.jsxs("div",{className:"bg-zinc-900 rounded-xl p-5",children:[e.jsx("h3",{className:"text-sm font-medium text-zinc-300 mb-4",children:"Live Run ‚Äî Current Steps"}),e.jsx("div",{className:"space-y-2",children:j.map((t,n)=>e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:i("w-3 h-3 rounded-full mt-1 shrink-0",y(t.status))}),n<j.length-1&&e.jsx("div",{className:"w-px flex-1 bg-zinc-800 my-1 min-h-4"})]}),e.jsxs("div",{className:"flex-1 pb-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs",children:E(t.type)}),e.jsx("span",{className:"text-sm text-zinc-200",children:t.name}),e.jsx("span",{className:"text-xs text-zinc-500 capitalize",children:t.type})]}),e.jsx("span",{className:"text-xs text-zinc-500",children:o(t.duration)})]}),t.output&&e.jsx("p",{className:"text-xs text-zinc-500 mt-0.5 font-mono",children:t.output}),t.retries>0&&e.jsxs("p",{className:"text-xs text-amber-500 mt-0.5",children:["‚Ü∫ ",t.retries," retr",t.retries>1?"ies":"y"]})]})]},t.id))})]})]}):e.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-zinc-500",children:[e.jsx("span",{className:"text-4xl mb-3",children:"‚öôÔ∏è"}),e.jsx("span",{className:"text-sm",children:"Select a workflow to view details"})]})})]}),s==="runs"&&e.jsxs("div",{className:"flex h-full",children:[e.jsx("div",{className:"w-96 border-r border-zinc-800 overflow-y-auto",children:v.map(t=>e.jsxs("button",{onClick:()=>R(t),className:i("w-full text-left px-4 py-3 border-b border-zinc-800 hover:bg-zinc-900 transition-colors",(a==null?void 0:a.id)===t.id&&"bg-zinc-900 border-l-2 border-l-indigo-500"),children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"text-sm font-medium text-zinc-100 truncate flex-1",children:t.workflowName}),e.jsx("span",{className:i("text-xs px-1.5 py-0.5 rounded-full ml-2 shrink-0",p(t.status)),children:t.status})]}),e.jsxs("div",{className:"text-xs text-zinc-500",children:[e.jsx("span",{children:t.startedAt}),t.duration&&e.jsxs("span",{className:"ml-2",children:["¬∑ ",o(t.duration)]})]}),e.jsx("div",{className:"text-xs text-zinc-600 mt-0.5 truncate",children:t.triggeredBy})]},t.id))}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:a?e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-5",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-zinc-100",children:a.workflowName}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx("span",{className:i("text-xs px-2 py-0.5 rounded-full",p(a.status)),children:a.status}),e.jsx("span",{className:"text-xs text-zinc-500",children:a.triggeredBy})]})]})}),a.errorMessage&&e.jsxs("div",{className:"bg-rose-900/20 border border-rose-800 rounded-xl p-4 mb-4",children:[e.jsx("div",{className:"text-sm font-medium text-rose-400 mb-1",children:"Error"}),e.jsx("div",{className:"text-sm text-rose-300 font-mono",children:a.errorMessage}),e.jsx("button",{className:"mt-2 text-xs bg-rose-900/40 text-rose-300 px-2 py-1 rounded hover:bg-rose-900/60 transition-colors",children:"Retry Run"})]}),e.jsx("div",{className:"grid grid-cols-3 gap-3 mb-5",children:[{label:"Started",value:a.startedAt},{label:"Completed",value:a.completedAt||"In progress"},{label:"Duration",value:o(a.duration)}].map((t,n)=>e.jsxs("div",{className:"bg-zinc-900 rounded-xl p-4",children:[e.jsx("div",{className:"text-sm text-zinc-100",children:t.value}),e.jsx("div",{className:"text-xs text-zinc-500 mt-0.5",children:t.label})]},n))}),a.steps.length>0&&e.jsxs("div",{className:"bg-zinc-900 rounded-xl p-5",children:[e.jsx("h3",{className:"text-sm font-medium text-zinc-300 mb-4",children:"Step Execution"}),e.jsx("div",{className:"space-y-2",children:a.steps.map((t,n)=>e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:i("w-3 h-3 rounded-full mt-1 shrink-0",y(t.status))}),n<a.steps.length-1&&e.jsx("div",{className:"w-px bg-zinc-800 my-1 min-h-4"})]}),e.jsxs("div",{className:"flex-1 pb-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-zinc-200",children:t.name}),e.jsx("span",{className:"text-xs text-zinc-500",children:o(t.duration)})]}),t.output&&e.jsx("p",{className:"text-xs text-zinc-500 mt-0.5 font-mono",children:t.output})]})]},t.id))})]})]}):e.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-zinc-500",children:[e.jsx("span",{className:"text-4xl mb-3",children:"‚ñ∂"}),e.jsx("span",{className:"text-sm",children:"Select a run to view details"})]})})]}),s==="analytics"&&e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[{label:"Total Workflows",value:c.length,color:"text-zinc-100"},{label:"Total Runs",value:k.toLocaleString(),color:"text-indigo-400"},{label:"Avg Success Rate",value:`${T.toFixed(1)}%`,color:"text-emerald-400"},{label:"Currently Running",value:u,color:u>0?"text-indigo-400":"text-zinc-400"}].map((t,n)=>e.jsxs("div",{className:"bg-zinc-900 rounded-xl p-5",children:[e.jsx("div",{className:i("text-2xl font-bold",t.color),children:t.value}),e.jsx("div",{className:"text-xs text-zinc-500 mt-1",children:t.label})]},n))}),e.jsxs("div",{className:"bg-zinc-900 rounded-xl p-5 mb-4",children:[e.jsx("h3",{className:"text-sm font-medium text-zinc-300 mb-1",children:"Hourly Throughput"}),e.jsxs("p",{className:"text-xs text-zinc-500 mb-4",children:[e.jsx("span",{className:"inline-block w-2 h-2 bg-emerald-500 rounded-sm mr-1"}),"completed",e.jsx("span",{className:"inline-block w-2 h-2 bg-rose-500 rounded-sm mr-1 ml-3"}),"failed"]}),e.jsx(D,{data:A})]}),e.jsxs("div",{className:"bg-zinc-900 rounded-xl p-5",children:[e.jsx("h3",{className:"text-sm font-medium text-zinc-300 mb-4",children:"Workflow Performance"}),e.jsx("div",{className:"space-y-3",children:c.filter(t=>t.totalRuns>0).sort((t,n)=>n.totalRuns-t.totalRuns).map(t=>e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-40 text-sm text-zinc-300 truncate",children:t.name}),e.jsx("div",{className:"flex-1 h-2 bg-zinc-800 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-emerald-500 rounded-full",style:{width:`${t.successRate}%`}})}),e.jsxs("div",{className:"text-xs text-zinc-400 w-16 text-right",children:[t.successRate.toFixed(1),"%"]}),e.jsx("div",{className:"text-xs text-zinc-500 w-12 text-right",children:t.totalRuns})]},t.id))})]})]}),s==="history"&&e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"bg-zinc-900 rounded-xl overflow-hidden",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-zinc-800",children:[e.jsx("th",{className:"text-left px-4 py-3 text-zinc-400 font-medium",children:"Workflow"}),e.jsx("th",{className:"text-left px-4 py-3 text-zinc-400 font-medium",children:"Status"}),e.jsx("th",{className:"text-left px-4 py-3 text-zinc-400 font-medium",children:"Trigger"}),e.jsx("th",{className:"text-left px-4 py-3 text-zinc-400 font-medium",children:"Started"}),e.jsx("th",{className:"text-right px-4 py-3 text-zinc-400 font-medium",children:"Duration"})]})}),e.jsx("tbody",{children:v.map(t=>e.jsxs("tr",{className:"border-b border-zinc-800 hover:bg-zinc-800/50 transition-colors",children:[e.jsx("td",{className:"px-4 py-3 text-zinc-200",children:t.workflowName}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{className:i("text-xs px-2 py-0.5 rounded-full",p(t.status)),children:t.status})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{className:i("text-xs px-2 py-0.5 rounded",b(t.trigger)),children:t.trigger})}),e.jsx("td",{className:"px-4 py-3 text-zinc-400",children:t.startedAt}),e.jsx("td",{className:"px-4 py-3 text-zinc-400 text-right",children:o(t.duration)})]},t.id))})]})})})]})]})}export{W as default};
