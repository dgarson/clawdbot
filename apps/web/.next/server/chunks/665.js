exports.id=665,exports.ids=[665],exports.modules={33851:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>al});var d=c(36927),e=c(15962),f=c(58438),g=c.n(f),h=c(38253),i=c(38440),j=c(61506),k=c(47743),l=c(68426),m=c(75645),n=c(23100),o=c(99338),p=c(36572),q=c(19674),r=c(26033),s=c(76372),t=c(89846),u=c(27324),v=c(25512),w=c(65562),x=c(27384),y=c(74602),z=c(468),A=c(48534);let B=[{label:"Dashboard",href:"/dashboard",icon:n.A},{label:"Agents",href:"/agents",icon:o.A},{label:"Templates",href:"/templates",icon:p.A},{label:"Chat",href:"/chat",icon:q.A},{label:"Automations",href:"/cron",icon:r.A,minLevel:"standard"},{label:"Skills",href:"/skills",icon:s.A,minLevel:"standard"},{label:"Marketplace",href:"/marketplace",icon:t.A,minLevel:"standard"},{label:"Channels",href:"/channels",icon:u.A,minLevel:"standard"},{label:"Nodes",href:"/nodes",icon:v.A,minLevel:"standard"},{label:"Sessions",href:"/sessions",icon:w.A,minLevel:"expert"},{label:"Analytics",href:"/analytics",icon:w.A,minLevel:"standard"},{label:"Logs",href:"/logs",icon:x.A,minLevel:"expert"},{label:"Settings",href:"/settings",icon:y.A}];function C(){let a=(0,h.usePathname)(),b=(0,j.n)(a=>a.sidebarCollapsed),c=(0,j.n)(a=>a.toggleSidebar),{level:e,isAtLeast:f}=(0,k.B)(),n=B.filter(a=>!a.minLevel||f(a.minLevel));return(0,d.jsxs)("aside",{className:(0,i.cn)("flex flex-col border-r border-border bg-sidebar text-sidebar-foreground transition-all duration-300 ease-in-out",b?"w-16":"w-64"),children:[(0,d.jsx)("div",{className:(0,i.cn)("flex items-center h-14 px-4 border-b border-border",b&&"justify-center"),children:(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-primary text-primary-foreground font-bold text-sm",children:"OC"}),!b&&(0,d.jsx)("span",{className:"font-semibold text-base tracking-tight",children:"OpenClaw"})]})}),(0,d.jsx)(l.F,{className:"flex-1 py-2",children:(0,d.jsx)("nav",{className:"flex flex-col gap-1 px-2",children:n.map(c=>{let e=a.startsWith(c.href);return(0,d.jsxs)(g(),{href:c.href,className:(0,i.cn)("flex items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium transition-colors",e?"bg-sidebar-accent text-accent-foreground":"text-muted-foreground hover:bg-accent hover:text-foreground",b&&"justify-center px-0"),title:b?c.label:void 0,children:[(0,d.jsx)(c.icon,{className:"h-5 w-5 shrink-0"}),!b&&(0,d.jsx)("span",{children:c.label})]},c.href)})})}),(0,d.jsx)("div",{className:"border-t border-border p-2",children:(0,d.jsx)(m.$,{variant:"ghost",size:"icon-sm",onClick:c,className:"w-full flex items-center justify-center","aria-label":b?"Expand sidebar":"Collapse sidebar",children:b?(0,d.jsx)(z.A,{className:"h-4 w-4"}):(0,d.jsx)(A.A,{className:"h-4 w-4"})})})]})}var D=c(94554),E=c(36948),F=c(8616),G=c(19744),H=c(92822),I=c(31401),J=c(65014),K=c(99097),L=c(3420),M=c(79743),N=c(71026),O=c(93866);let P={beginner:{label:"Simple",icon:F.A},standard:{label:"Standard",icon:G.A},expert:{label:"Expert",icon:H.A}};function Q(){let a=(0,D.z)(a=>a.connected),b=(0,D.z)(a=>a.connecting),c=(0,D.z)(a=>a.snapshot),e=(0,j.n)(a=>a.theme),f=(0,j.n)(a=>a.setTheme),g=(0,j.n)(a=>a.setCommandPaletteOpen),h=(0,j.n)(a=>a.setSidebarMobileOpen),i=(0,k.Y)(a=>a.level),l=(0,k.Y)(a=>a.setLevel),n="light"===e?I.A:"dark"===e?J.A:K.A,o=P[i];return(0,d.jsxs)("header",{className:"flex h-14 items-center justify-between border-b border-border bg-background px-4 gap-4",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(m.$,{variant:"ghost",size:"icon-sm",className:"lg:hidden",onClick:()=>h(!0),"aria-label":"Open menu",children:(0,d.jsx)(L.A,{className:"h-5 w-5"})}),(0,d.jsxs)(m.$,{variant:"outline",size:"sm",className:"hidden sm:flex items-center gap-2 text-muted-foreground w-64",onClick:()=>g(!0),children:[(0,d.jsx)(M.A,{className:"h-4 w-4"}),(0,d.jsx)("span",{className:"text-xs",children:"Search or run command..."}),(0,d.jsx)("kbd",{className:"ml-auto text-[10px] bg-muted px-1.5 py-0.5 rounded",children:"⌘K"})]})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("div",{className:"flex items-center gap-1.5",children:a?(0,d.jsxs)(E.E,{variant:"success",className:"gap-1 text-[10px]",children:[(0,d.jsx)(N.A,{className:"h-3 w-3"}),(0,d.jsx)("span",{className:"hidden sm:inline",children:"Connected"})]}):b?(0,d.jsxs)(E.E,{variant:"warning",className:"gap-1 text-[10px]",children:[(0,d.jsx)(N.A,{className:"h-3 w-3 animate-pulse"}),(0,d.jsx)("span",{className:"hidden sm:inline",children:"Connecting..."})]}):(0,d.jsxs)(E.E,{variant:"destructive",className:"gap-1 text-[10px]",children:[(0,d.jsx)(O.A,{className:"h-3 w-3"}),(0,d.jsx)("span",{className:"hidden sm:inline",children:"Disconnected"})]})}),c?.updateAvailable&&(0,d.jsxs)(E.E,{variant:"outline",className:"text-[10px]",children:["Update: ",c.updateAvailable.latestVersion]}),(0,d.jsxs)(m.$,{variant:"ghost",size:"sm",onClick:()=>{let a=["beginner","standard","expert"],b=a.indexOf(i);l(a[(b+1)%3])},className:"gap-1.5 text-xs text-muted-foreground",title:`Interface mode: ${o.label}. Click to cycle.`,children:[(0,d.jsx)(o.icon,{className:"h-3.5 w-3.5"}),(0,d.jsx)("span",{className:"hidden md:inline",children:o.label})]}),(0,d.jsx)(m.$,{variant:"ghost",size:"icon-sm",onClick:()=>{f("light"===e?"dark":"dark"===e?"system":"light")},"aria-label":`Theme: ${e}`,children:(0,d.jsx)(n,{className:"h-4 w-4"})})]})]})}var R=c(8444),S=c(68571),T=c(46517),U=c(21774);function V(){let a=(0,j.n)(a=>a.commandPaletteOpen),b=(0,j.n)(a=>a.setCommandPaletteOpen);(0,j.n)(a=>a.theme);let c=(0,j.n)(a=>a.setTheme);(0,D.z)(a=>a.connected);let{isAtLeast:f}=(0,k.B)(),g=(0,h.useRouter)(),[l,m]=e.useState(""),[p,t]=e.useState(0),x=e.useRef(null),z=e.useRef(null);e.useEffect(()=>{let c=c=>{(c.metaKey||c.ctrlKey)&&"k"===c.key&&(c.preventDefault(),b(!a))};return document.addEventListener("keydown",c),()=>document.removeEventListener("keydown",c)},[a,b]);let A=e.useMemo(()=>{let a=(a,c,d,e,f)=>({id:`nav-${c}`,label:a,description:e??`Go to ${a}`,icon:d,section:"Navigation",keywords:[c.replace("/","")],action:()=>{g.push(c),b(!1)},minLevel:f});return[a("Dashboard","/dashboard",n.A,"Overview and quick stats"),a("Agents","/agents",o.A,"View all agents"),a("Chat","/chat",q.A,"Chat with agents"),a("Automations","/cron",r.A,"Scheduled jobs & cron","standard"),a("Skills","/skills",s.A,"Browse skill marketplace","standard"),a("Channels","/channels",u.A,"Messaging channels","standard"),a("Nodes","/nodes",v.A,"Connected devices","standard"),a("Templates","/templates",o.A,"Browse agent templates"),a("Sessions","/sessions",w.A,"Session management","expert"),a("Analytics","/analytics",w.A,"Usage analytics","standard"),a("Onboarding","/onboarding",F.A,"Re-run setup wizard"),a("Settings","/settings",y.A,"App configuration"),{id:"action-new-agent",label:"Create New Agent",description:"Start the agent builder wizard",icon:S.A,section:"Actions",keywords:["new","create","add","agent","build"],action:()=>{g.push("/agents/new"),b(!1)}},{id:"theme-light",label:"Switch to Light Mode",icon:I.A,section:"Appearance",keywords:["theme","light","bright"],action:()=>{c("light"),b(!1)}},{id:"theme-dark",label:"Switch to Dark Mode",icon:J.A,section:"Appearance",keywords:["theme","dark","night"],action:()=>{c("dark"),b(!1)}},{id:"theme-system",label:"Use System Theme",icon:K.A,section:"Appearance",keywords:["theme","system","auto"],action:()=>{c("system"),b(!1)}},{id:"prof-beginner",label:"Simple Mode",description:"Minimal options, guided experience",icon:F.A,section:"Interface",keywords:["proficiency","simple","beginner","easy"],action:()=>{k.Y.getState().setLevel("beginner"),b(!1)}},{id:"prof-standard",label:"Standard Mode",description:"Balanced feature set",icon:G.A,section:"Interface",keywords:["proficiency","standard","normal"],action:()=>{k.Y.getState().setLevel("standard"),b(!1)}},{id:"prof-expert",label:"Expert Mode",description:"Full access, dense layouts",icon:H.A,section:"Interface",keywords:["proficiency","expert","advanced","power"],action:()=>{k.Y.getState().setLevel("expert"),b(!1)}}].filter(a=>!a.minLevel||f(a.minLevel))},[g,b,c,f]),B=e.useMemo(()=>{if(!l.trim())return A;let a=l.toLowerCase();return A.filter(b=>b.label.toLowerCase().includes(a)||b.description?.toLowerCase().includes(a)||b.keywords?.some(b=>b.includes(a)))},[A,l]),C=e.useMemo(()=>{let a=new Map;for(let b of B){let c=a.get(b.section)??[];c.push(b),a.set(b.section,c)}return a},[B]);e.useEffect(()=>{t(0)},[l]),e.useEffect(()=>{let a=z.current?.querySelector(`[data-index="${p}"]`);a&&a.scrollIntoView({block:"nearest"})},[p]),e.useEffect(()=>{a||(m(""),t(0))},[a]);let E=-1;return(0,d.jsx)(R.bL,{open:a,onOpenChange:b,children:(0,d.jsxs)(R.ZL,{children:[(0,d.jsx)(R.hJ,{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0"}),(0,d.jsxs)(R.UC,{className:"fixed left-1/2 top-[20%] z-50 w-full max-w-lg -translate-x-1/2 rounded-xl border border-border bg-card shadow-2xl data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=open]:slide-in-from-left-1/2",onKeyDown:a=>{switch(a.key){case"ArrowDown":a.preventDefault(),t(a=>Math.min(a+1,B.length-1));break;case"ArrowUp":a.preventDefault(),t(a=>Math.max(a-1,0));break;case"Enter":a.preventDefault(),B[p]&&B[p].action()}},children:[(0,d.jsxs)("div",{className:"flex items-center gap-3 border-b border-border px-4 py-3",children:[(0,d.jsx)(M.A,{className:"h-4 w-4 text-muted-foreground shrink-0"}),(0,d.jsx)(R.hE,{className:"sr-only",children:"Command palette"}),(0,d.jsx)("input",{ref:x,value:l,onChange:a=>m(a.target.value),placeholder:"Type a command or search...",className:"flex-1 bg-transparent text-sm outline-none placeholder:text-muted-foreground",autoFocus:!0}),(0,d.jsx)("kbd",{className:"hidden sm:inline-flex h-5 items-center gap-1 rounded border border-border bg-muted px-1.5 font-mono text-[10px] text-muted-foreground",children:"esc"})]}),(0,d.jsx)("div",{ref:z,className:"max-h-[320px] overflow-y-auto overscroll-contain py-2",children:0===B.length?(0,d.jsx)("div",{className:"px-4 py-8 text-center",children:(0,d.jsxs)("p",{className:"text-sm text-muted-foreground",children:["No results for “",l,"”"]})}):Array.from(C.entries()).map(([a,b])=>(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"px-4 py-1.5",children:(0,d.jsx)("p",{className:"text-[10px] font-medium uppercase tracking-wider text-muted-foreground",children:a})}),b.map(a=>{let b=++E,c=b===p;return(0,d.jsxs)("button",{"data-index":b,onClick:()=>a.action(),onMouseEnter:()=>t(b),className:(0,i.cn)("flex w-full items-center gap-3 px-4 py-2.5 text-left text-sm transition-colors",c?"bg-accent text-accent-foreground":"text-foreground hover:bg-accent/50"),children:[(0,d.jsx)(a.icon,{className:"h-4 w-4 shrink-0 text-muted-foreground"}),(0,d.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,d.jsx)("span",{className:"font-medium",children:a.label}),a.description&&(0,d.jsx)("span",{className:"ml-2 text-xs text-muted-foreground",children:a.description})]}),c&&(0,d.jsx)(T.A,{className:"h-3 w-3 text-muted-foreground shrink-0"})]},a.id)})]},a))}),(0,d.jsxs)("div",{className:"flex items-center justify-between border-t border-border px-4 py-2",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3 text-[10px] text-muted-foreground",children:[(0,d.jsxs)("span",{className:"flex items-center gap-1",children:[(0,d.jsx)("kbd",{className:"inline-flex h-4 items-center rounded border border-border bg-muted px-1 font-mono",children:"↑↓"}),"navigate"]}),(0,d.jsxs)("span",{className:"flex items-center gap-1",children:[(0,d.jsx)("kbd",{className:"inline-flex h-4 items-center rounded border border-border bg-muted px-1 font-mono",children:"↵"}),"select"]}),(0,d.jsxs)("span",{className:"flex items-center gap-1",children:[(0,d.jsx)("kbd",{className:"inline-flex h-4 items-center rounded border border-border bg-muted px-1 font-mono",children:"esc"}),"close"]})]}),(0,d.jsxs)("div",{className:"flex items-center gap-1 text-[10px] text-muted-foreground",children:[(0,d.jsx)(U.A,{className:"h-3 w-3"}),(0,d.jsx)("span",{children:"K"})]})]})]})]})})}let W=[{label:"Home",href:"/dashboard",icon:n.A},{label:"Agents",href:"/agents",icon:o.A},{label:"Chat",href:"/chat",icon:q.A},{label:"Skills",href:"/skills",icon:s.A},{label:"Settings",href:"/settings",icon:y.A}],X=[{label:"Home",href:"/dashboard",icon:n.A},{label:"Agents",href:"/agents",icon:o.A},{label:"Chat",href:"/chat",icon:q.A},{label:"Settings",href:"/settings",icon:y.A}];function Y(){let a=(0,h.usePathname)(),{level:b}=(0,k.B)();return(0,d.jsx)("nav",{className:"lg:hidden fixed bottom-0 left-0 right-0 z-40 border-t border-border bg-card/95 backdrop-blur-lg supports-[backdrop-filter]:bg-card/80 safe-bottom",children:(0,d.jsx)("div",{className:"flex items-center justify-around h-14 px-2",children:("beginner"===b?X:W).map(b=>{let c=a.startsWith(b.href);return(0,d.jsxs)(g(),{href:b.href,className:(0,i.cn)("flex flex-col items-center justify-center gap-0.5 flex-1 h-full rounded-lg transition-colors",c?"text-primary":"text-muted-foreground active:text-foreground"),children:[(0,d.jsx)(b.icon,{className:(0,i.cn)("h-5 w-5 transition-transform",c&&"scale-110")}),(0,d.jsx)("span",{className:(0,i.cn)("text-[10px] font-medium leading-none",c&&"font-semibold"),children:b.label}),c&&(0,d.jsx)("div",{className:"absolute bottom-1 h-0.5 w-5 rounded-full bg-primary"})]},b.href)})})})}var Z=c(6299);let $=[{label:"Dashboard",href:"/dashboard",icon:n.A},{label:"Agents",href:"/agents",icon:o.A},{label:"Chat",href:"/chat",icon:q.A},{label:"Automations",href:"/cron",icon:r.A,minLevel:"standard"},{label:"Skills",href:"/skills",icon:s.A,minLevel:"standard"},{label:"Channels",href:"/channels",icon:u.A,minLevel:"standard"},{label:"Nodes",href:"/nodes",icon:v.A,minLevel:"standard"},{label:"Sessions",href:"/sessions",icon:w.A,minLevel:"expert"},{label:"Analytics",href:"/analytics",icon:w.A,minLevel:"standard"},{label:"Settings",href:"/settings",icon:y.A}];function _(){let a=(0,h.usePathname)(),b=(0,j.n)(a=>a.sidebarMobileOpen),c=(0,j.n)(a=>a.setSidebarMobileOpen),{isAtLeast:e}=(0,k.B)(),f=$.filter(a=>!a.minLevel||e(a.minLevel));return(0,d.jsx)(R.bL,{open:b,onOpenChange:c,children:(0,d.jsxs)(R.ZL,{children:[(0,d.jsx)(R.hJ,{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0"}),(0,d.jsxs)(R.UC,{className:"fixed inset-y-0 left-0 z-50 w-72 bg-sidebar border-r border-border shadow-xl data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left duration-300",children:[(0,d.jsx)(R.hE,{className:"sr-only",children:"Navigation menu"}),(0,d.jsxs)("div",{className:"flex items-center justify-between h-14 px-4 border-b border-border",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-primary text-primary-foreground font-bold text-sm",children:"OC"}),(0,d.jsx)("span",{className:"font-semibold text-base tracking-tight text-sidebar-foreground",children:"OpenClaw"})]}),(0,d.jsx)(R.bm,{asChild:!0,children:(0,d.jsx)("button",{className:"rounded-lg p-1.5 text-muted-foreground hover:bg-accent hover:text-foreground transition-colors","aria-label":"Close menu",children:(0,d.jsx)(Z.A,{className:"h-5 w-5"})})})]}),(0,d.jsx)("nav",{className:"flex flex-col gap-1 p-3 overflow-y-auto max-h-[calc(100vh-3.5rem)]",children:f.map(b=>{let e=a.startsWith(b.href);return(0,d.jsxs)(g(),{href:b.href,onClick:()=>c(!1),className:(0,i.cn)("flex items-center gap-3 rounded-lg px-3 py-2.5 text-sm font-medium transition-colors",e?"bg-sidebar-accent text-accent-foreground":"text-muted-foreground hover:bg-accent hover:text-foreground"),children:[(0,d.jsx)(b.icon,{className:"h-5 w-5 shrink-0"}),(0,d.jsx)("span",{children:b.label})]},b.href)})})]})]})})}var aa=c(17386);let ab=[{keys:"⌘K",description:"Command palette"},{keys:"⌘B",description:"Toggle sidebar"},{keys:"⌘⇧N",description:"New agent"},{keys:"⌘1",description:"Dashboard"},{keys:"⌘2",description:"Agents"},{keys:"⌘3",description:"Chat"},{keys:"⌘4",description:"Automations"},{keys:"⌘5",description:"Skills"},{keys:"⌘6",description:"Settings"}];function ac({open:a,onOpenChange:b}){return e.useEffect(()=>{let a=a=>{let c=a.target;"INPUT"!==c.tagName&&"TEXTAREA"!==c.tagName&&!c.isContentEditable&&("?"!==a.key||a.metaKey||a.ctrlKey||(a.preventDefault(),b(!0)))};return document.addEventListener("keydown",a),()=>document.removeEventListener("keydown",a)},[b]),(0,d.jsx)(R.bL,{open:a,onOpenChange:b,children:(0,d.jsxs)(R.ZL,{children:[(0,d.jsx)(R.hJ,{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0"}),(0,d.jsxs)(R.UC,{className:"fixed left-1/2 top-1/2 z-50 w-full max-w-md -translate-x-1/2 -translate-y-1/2 rounded-xl border border-border bg-card shadow-2xl p-6 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(aa.A,{className:"h-5 w-5 text-muted-foreground"}),(0,d.jsx)(R.hE,{className:"text-lg font-semibold",children:"Keyboard Shortcuts"})]}),(0,d.jsx)(R.bm,{asChild:!0,children:(0,d.jsx)("button",{className:"rounded-lg p-1.5 text-muted-foreground hover:bg-accent hover:text-foreground transition-colors",children:(0,d.jsx)(Z.A,{className:"h-4 w-4"})})})]}),(0,d.jsx)(R.VY,{className:"sr-only",children:"List of keyboard shortcuts available in the application."}),(0,d.jsxs)("div",{className:"space-y-1",children:[ab.map(a=>(0,d.jsxs)("div",{className:"flex items-center justify-between py-2 px-2 rounded-md hover:bg-accent/50 transition-colors",children:[(0,d.jsx)("span",{className:"text-sm text-foreground",children:a.description}),(0,d.jsx)("kbd",{className:"inline-flex h-6 items-center rounded-md border border-border bg-muted px-2 font-mono text-xs text-muted-foreground",children:a.keys})]},a.keys)),(0,d.jsxs)("div",{className:"flex items-center justify-between py-2 px-2 rounded-md hover:bg-accent/50 transition-colors",children:[(0,d.jsx)("span",{className:"text-sm text-foreground",children:"Show this help"}),(0,d.jsx)("kbd",{className:"inline-flex h-6 items-center rounded-md border border-border bg-muted px-2 font-mono text-xs text-muted-foreground",children:"?"})]})]}),(0,d.jsxs)("p",{className:"text-[10px] text-muted-foreground mt-4 text-center",children:["Press ",(0,d.jsx)("kbd",{className:"font-mono",children:"?"})," anywhere to show shortcuts"]})]})]})})}var ad=c(91723),ae=c(81843),af=c(56092),ag=c(26108),ah=c(16861);let ai={low:{bg:"bg-emerald-500/10",text:"text-emerald-600",border:"border-emerald-500/20"},medium:{bg:"bg-amber-500/10",text:"text-amber-600",border:"border-amber-500/20"},high:{bg:"bg-red-500/10",text:"text-red-600",border:"border-red-500/20"}};function aj({approval:a,onApprove:b,onDeny:c}){let e=ai[a.risk];return(0,d.jsxs)("div",{className:`flex items-center gap-3 px-3 py-2 rounded-lg ${e.bg} border ${e.border}`,children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[(0,d.jsx)("span",{className:"text-lg shrink-0",children:a.agentEmoji||"\uD83E\uDD16"}),(0,d.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("span",{className:"text-xs font-medium truncate",children:a.agentName||a.agentId}),(0,d.jsx)(E.E,{variant:"outline",className:`text-[10px] ${e.text} ${e.border}`,children:a.risk}),(0,d.jsxs)("span",{className:"text-[10px] text-muted-foreground flex items-center gap-1",children:[(0,d.jsx)(r.A,{className:"h-2.5 w-2.5"}),function(a){let b=Date.now()-a;return b<6e4?"just now":b<36e5?`${Math.floor(b/6e4)}m ago`:`${Math.floor(b/36e5)}h ago`}(a.requestedAt)]})]}),(0,d.jsxs)("p",{className:"text-[11px] text-muted-foreground truncate",children:[(0,d.jsx)("span",{className:"font-mono",children:a.tool}),a.description&&` — ${a.description}`]}),a.command&&(0,d.jsxs)("div",{className:"flex items-center gap-1 mt-1",children:[(0,d.jsx)(ad.A,{className:"h-2.5 w-2.5 text-muted-foreground shrink-0"}),(0,d.jsx)("code",{className:"text-[10px] font-mono text-muted-foreground truncate",children:a.command})]})]})]}),(0,d.jsxs)("div",{className:"flex items-center gap-1.5 shrink-0",children:[(0,d.jsx)(m.$,{size:"sm",variant:"outline",className:"h-7 px-2 text-xs hover:bg-destructive/10 hover:text-destructive hover:border-destructive/30",onClick:()=>c(a.id),children:(0,d.jsx)(Z.A,{className:"h-3 w-3"})}),(0,d.jsxs)(m.$,{size:"sm",className:"h-7 px-3 text-xs",onClick:()=>b(a.id),children:[(0,d.jsx)(ae.A,{className:"h-3 w-3 mr-1"}),"Approve"]})]})]})}function ak(){let a=(0,D.z)(a=>a.connected),b=(0,D.z)(a=>a.request),c=(0,D.z)(a=>a.addEventListener),[f,g]=e.useState([]),[h,i]=e.useState(!1),[j,k]=e.useState(!1);e.useEffect(()=>{if(!a)return;let d=c("exec.pending",a=>{g(b=>b.some(b=>b.id===a.id)?b:[...b,a]),k(!1)}),e=c("exec.resolved",a=>{g(b=>b.filter(b=>b.id!==a.id))});return b("exec.pending.list",{}).then(a=>{a.pending?.length&&g(a.pending)}).catch(()=>{}),()=>{d(),e()}},[a,c,b]);let l=async a=>{try{await b("exec.approve",{id:a}),g(b=>b.filter(b=>b.id!==a))}catch(a){console.error("Failed to approve:",a)}},n=async a=>{try{await b("exec.deny",{id:a}),g(b=>b.filter(b=>b.id!==a))}catch(a){console.error("Failed to deny:",a)}},o=async()=>{for(let a of f)try{await b("exec.approve",{id:a.id})}catch{}g([])};if(0===f.length||j)return null;let p=f.filter(a=>"high"===a.risk).length,q=h?f:f.slice(0,2);return(0,d.jsx)("div",{className:"sticky top-0 z-50 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/80 border-b border-border",children:(0,d.jsxs)("div",{className:"max-w-5xl mx-auto px-4 py-2.5",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)(H.A,{className:"h-4 w-4 text-primary"}),(0,d.jsx)("span",{className:"absolute -top-1 -right-1 h-3 w-3 bg-primary rounded-full flex items-center justify-center text-[8px] text-primary-foreground font-bold",children:f.length})]}),(0,d.jsxs)("span",{className:"text-sm font-medium",children:[f.length," pending approval",1!==f.length?"s":""]}),p>0&&(0,d.jsxs)(E.E,{variant:"outline",className:"text-[10px] bg-red-500/10 text-red-600 border-red-500/20",children:[(0,d.jsx)(af.A,{className:"h-2.5 w-2.5 mr-1"}),p," high risk"]})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[f.length>1&&(0,d.jsxs)(m.$,{size:"sm",variant:"outline",className:"h-7 text-xs",onClick:o,children:[(0,d.jsx)(ae.A,{className:"h-3 w-3 mr-1"}),"Approve All"]}),f.length>2&&(0,d.jsx)("button",{onClick:()=>i(!h),className:"text-xs text-muted-foreground hover:text-foreground flex items-center gap-1",children:h?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(ag.A,{className:"h-3 w-3"}),"Collapse"]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(ah.A,{className:"h-3 w-3"}),"+",f.length-2," more"]})}),(0,d.jsx)("button",{onClick:()=>k(!0),className:"text-muted-foreground hover:text-foreground p-1 rounded",title:"Dismiss",children:(0,d.jsx)(Z.A,{className:"h-3.5 w-3.5"})})]})]}),(0,d.jsx)("div",{className:"space-y-1.5",children:q.map(a=>(0,d.jsx)(aj,{approval:a,onApprove:l,onDeny:n},a.id))})]})})}function al({children:a}){(0,h.useRouter)(),(0,j.n)(a=>a.setCommandPaletteOpen),(0,j.n)(a=>a.toggleSidebar);let[b,c]=e.useState(!1);return(0,d.jsxs)("div",{className:"flex h-screen overflow-hidden",children:[(0,d.jsx)("div",{className:"hidden lg:flex",children:(0,d.jsx)(C,{})}),(0,d.jsxs)("div",{className:"flex flex-1 flex-col overflow-hidden",children:[(0,d.jsx)(Q,{}),(0,d.jsx)(ak,{}),(0,d.jsx)("main",{className:"flex-1 overflow-auto pb-16 lg:pb-0",children:a})]}),(0,d.jsx)(Y,{}),(0,d.jsx)(_,{}),(0,d.jsx)(V,{}),(0,d.jsx)(ac,{open:b,onOpenChange:c})]})}},36948:(a,b,c)=>{"use strict";c.d(b,{E:()=>h});var d=c(36927);c(15962);var e=c(51242),f=c(38440);let g=(0,e.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground",success:"border-transparent bg-success text-white",warning:"border-transparent bg-warning text-white",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function h({className:a,variant:b,...c}){return(0,d.jsx)("div",{className:(0,f.cn)(g({variant:b}),a),...c})}},39119:(a,b,c)=>{Promise.resolve().then(c.bind(c,54114))},47743:(a,b,c)=>{"use strict";c.d(b,{B:()=>g,Y:()=>f});var d=c(76731),e=c(3749);let f=(0,d.v)()((0,e.Zr)(a=>({level:"standard",detected:!1,onboardingCompleted:!1,setLevel:b=>a({level:b}),completeOnboarding:b=>a({level:b,detected:!0,onboardingCompleted:!0}),resetOnboarding:()=>a({level:"standard",detected:!1,onboardingCompleted:!1})}),{name:"openclaw-proficiency"}));function g(){let a=f(a=>a.level);return{level:a,isAtLeast:b=>{let c=["beginner","standard","expert"];return c.indexOf(a)>=c.indexOf(b)}}}},54114:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>d});let d=(0,c(72665).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/openclaw/openclaw/apps/web/app/(main)/layout.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/openclaw/openclaw/apps/web/app/(main)/layout.tsx","default")},68426:(a,b,c)=>{"use strict";c.d(b,{F:()=>h});var d=c(36927),e=c(15962),f=c(10780),g=c(38440);let h=e.forwardRef(({className:a,children:b,...c},e)=>(0,d.jsxs)(f.bL,{ref:e,className:(0,g.cn)("relative overflow-hidden",a),...c,children:[(0,d.jsx)(f.LM,{className:"h-full w-full rounded-[inherit]",children:b}),(0,d.jsx)(i,{}),(0,d.jsx)(f.OK,{})]}));h.displayName="ScrollArea";let i=e.forwardRef(({className:a,orientation:b="vertical",...c},e)=>(0,d.jsx)(f.VM,{ref:e,orientation:b,className:(0,g.cn)("flex touch-none select-none transition-colors","vertical"===b&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===b&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",a),...c,children:(0,d.jsx)(f.lr,{className:"relative flex-1 rounded-full bg-border"})}));i.displayName="ScrollBar"},75645:(a,b,c)=>{"use strict";c.d(b,{$:()=>j});var d=c(36927),e=c(15962),f=c(80462),g=c(51242),h=c(38440);let i=(0,g.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-lg text-sm font-medium transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 cursor-pointer",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-sm hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-lg px-8",xl:"h-12 rounded-xl px-10 text-base",icon:"h-9 w-9","icon-sm":"h-8 w-8"}},defaultVariants:{variant:"default",size:"default"}}),j=e.forwardRef(({className:a,variant:b,size:c,asChild:e=!1,...g},j)=>{let k=e?f.DX:"button";return(0,d.jsx)(k,{className:(0,h.cn)(i({variant:b,size:c,className:a})),ref:j,...g})});j.displayName="Button"},98951:(a,b,c)=>{Promise.resolve().then(c.bind(c,33851))}};