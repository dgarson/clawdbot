"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[273],{19611:(e,t,n)=>{n.d(t,{B:()=>l,Y:()=>s});var r=n(81180),o=n(4825);let s=(0,r.v)()((0,o.Zr)(e=>({level:"standard",detected:!1,onboardingCompleted:!1,setLevel:t=>e({level:t}),completeOnboarding:t=>e({level:t,detected:!0,onboardingCompleted:!0}),resetOnboarding:()=>e({level:"standard",detected:!1,onboardingCompleted:!1})}),{name:"openclaw-proficiency"}));function l(){let e=s(e=>e.level);return{level:e,isAtLeast:t=>{let n=["beginner","standard","expert"];return n.indexOf(e)>=n.indexOf(t)}}}},29068:(e,t,n)=>{n.d(t,{z:()=>s});var r=n(81180);class o{start(){this.closed=!1,this.connect()}stop(){var e,t,n;this.closed=!0,this.reconnectTimer&&(clearTimeout(this.reconnectTimer),this.reconnectTimer=null),this.connectTimer&&(clearTimeout(this.connectTimer),this.connectTimer=null),null==(e=this.ws)||e.close(),this.ws=null,this.flushPending(Error("gateway client stopped")),null==(t=(n=this.opts).onConnectionChange)||t.call(n,!1)}get connected(){var e;return(null==(e=this.ws)?void 0:e.readyState)===WebSocket.OPEN}connect(){if(!this.closed){try{this.ws=new WebSocket(this.opts.url)}catch(e){this.scheduleReconnect();return}this.ws.addEventListener("open",()=>this.queueConnect()),this.ws.addEventListener("message",e=>{var t;return this.handleMessage(String(null!=(t=e.data)?t:""))}),this.ws.addEventListener("close",e=>{var t,n,r,o,s;let l=String(null!=(s=e.reason)?s:"");this.ws=null,this.flushPending(Error("gateway closed (".concat(e.code,"): ").concat(l))),null==(t=(n=this.opts).onClose)||t.call(n,{code:e.code,reason:l}),null==(r=(o=this.opts).onConnectionChange)||r.call(o,!1),this.scheduleReconnect()}),this.ws.addEventListener("error",()=>{})}}scheduleReconnect(){if(this.closed)return;let e=this.backoffMs;this.backoffMs=Math.min(1.7*this.backoffMs,15e3),this.reconnectTimer=setTimeout(()=>this.connect(),e)}flushPending(e){for(let[,t]of this.pending)t.timeoutId&&clearTimeout(t.timeoutId),t.reject(e);this.pending.clear()}sendConnect(){var e;if(this.connectSent)return;this.connectSent=!0,null!==this.connectTimer&&(clearTimeout(this.connectTimer),this.connectTimer=null);let t=this.opts.token||this.opts.password?{token:this.opts.token,password:this.opts.password}:void 0,n={minProtocol:3,maxProtocol:3,client:{id:"control-ui-horizon",version:"0.1.0",platform:"undefined"!=typeof navigator&&null!=(e=navigator.platform)?e:"web",mode:"webchat",instanceId:this.opts.instanceId},role:"operator",scopes:["operator.admin","operator.approvals","operator.pairing"],caps:["tool-events"],auth:t,locale:"undefined"!=typeof navigator?navigator.language:"en",userAgent:"undefined"!=typeof navigator?navigator.userAgent:""};this.request("connect",n).then(e=>{var t,n,r,o;this.backoffMs=800,null==(t=(n=this.opts).onConnectionChange)||t.call(n,!0),null==(r=(o=this.opts).onHello)||r.call(o,e)}).catch(()=>{var e;null==(e=this.ws)||e.close(4008,"connect failed")})}handleMessage(e){var t,n,r,o,s,l,i,a;let c;try{c=JSON.parse(e)}catch(e){return}let d=c;if("event"===d.type){let e=c;if("connect.challenge"===e.event){let t=e.payload,n=t&&"string"==typeof t.nonce?t.nonce:null;n&&(this.connectNonce=n,this.sendConnect());return}let s="number"==typeof e.seq?e.seq:null;null!==s&&(null!==this.lastSeq&&s>this.lastSeq+1&&(null==(t=(n=this.opts).onGap)||t.call(n,{expected:this.lastSeq+1,received:s})),this.lastSeq=s);try{null==(r=(o=this.opts).onEvent)||r.call(o,e)}catch(e){console.error("[gateway] event handler error:",e)}return}if("res"===d.type){let e=c,t=this.pending.get(e.id);if(!t)return;if(this.pending.delete(e.id),t.timeoutId&&clearTimeout(t.timeoutId),e.ok)t.resolve(e.payload);else{let n=Error(null!=(a=null==(s=e.error)?void 0:s.message)?a:"request failed");n.code=null==(l=e.error)?void 0:l.code,n.details=null==(i=e.error)?void 0:i.details,t.reject(n)}return}}request(e,t){var n,r,o;let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e4;if(!this.ws||this.ws.readyState!==WebSocket.OPEN)return Promise.reject(Error("gateway not connected"));let l=null!=(o=null==(n=(r=crypto).randomUUID)?void 0:n.call(r))?o:Math.random().toString(36).slice(2,10),i=new Promise((t,n)=>{let r=setTimeout(()=>{this.pending.delete(l),n(Error("request '".concat(e,"' timed out after ").concat(s,"ms")))},s);this.pending.set(l,{resolve:e=>t(e),reject:n,timeoutId:r})});return this.ws.send(JSON.stringify({type:"req",id:l,method:e,params:t})),i}queueConnect(){this.connectNonce=null,this.connectSent=!1,null!==this.connectTimer&&clearTimeout(this.connectTimer),this.connectTimer=setTimeout(()=>{this.sendConnect()},750)}constructor(e){this.opts=e,this.ws=null,this.pending=new Map,this.closed=!1,this.lastSeq=null,this.connectNonce=null,this.connectSent=!1,this.connectTimer=null,this.backoffMs=800,this.reconnectTimer=null}}let s=(0,r.v)((e,t)=>({connected:!1,connecting:!1,error:null,client:null,hello:null,snapshot:null,eventListeners:new Map,connect:(n,r)=>{let s=t().client;s&&s.stop(),e({connecting:!0,error:null});let l=new o({url:n,token:null==r?void 0:r.token,password:null==r?void 0:r.password,instanceId:null==r?void 0:r.instanceId,onHello:t=>{var n;e({connected:!0,connecting:!1,hello:t,snapshot:null!=(n=t.snapshot)?n:null,error:null})},onEvent:e=>{let n=t().eventListeners.get(e.event);if(n)for(let t of n)try{t(e.payload)}catch(t){console.error("[gateway] event handler error for ".concat(e.event,":"),t)}let r=t().eventListeners.get("*");if(r)for(let t of r)try{t(e)}catch(e){console.error("[gateway] wildcard handler error:",e)}},onClose:()=>{e({connected:!1})},onConnectionChange:t=>{e({connected:t,connecting:!1})}});e({client:l}),l.start()},disconnect:()=>{let n=t().client;n&&(n.stop(),e({client:null,connected:!1,connecting:!1,hello:null,snapshot:null}))},request:async(e,n)=>{let r=t().client;if(!r)throw Error("Gateway not connected");return r.request(e,n)},addEventListener:(n,r)=>{let o=t().eventListeners;return o.has(n)||o.set(n,new Set),o.get(n).add(r),e({eventListeners:new Map(o)}),()=>{var o;let s=t().eventListeners;null==(o=s.get(n))||o.delete(r),e({eventListeners:new Map(s)})}}}))},32824:(e,t,n)=>{n.d(t,{cn:()=>s});var r=n(66862),o=n(7589);function s(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,o.QP)((0,r.$)(t))}},71216:(e,t,n)=>{n.d(t,{v:()=>s});var r=n(80534),o=n(19611);function s(e){let{beginner:t,standard:n,expert:s,className:l}=e,i=(0,o.Y)(e=>e.level);return(0,r.jsx)("span",{className:l,children:{beginner:t,standard:n,expert:s}[i]})}},74765:(e,t,n)=>{n.d(t,{BT:()=>c,Wu:()=>d,ZB:()=>a,Zp:()=>l,aR:()=>i,wL:()=>u});var r=n(80534),o=n(74166),s=n(32824);let l=o.forwardRef((e,t)=>{let{className:n,...o}=e;return(0,r.jsx)("div",{ref:t,className:(0,s.cn)("rounded-xl border border-border bg-card text-card-foreground shadow-sm",n),...o})});l.displayName="Card";let i=o.forwardRef((e,t)=>{let{className:n,...o}=e;return(0,r.jsx)("div",{ref:t,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",n),...o})});i.displayName="CardHeader";let a=o.forwardRef((e,t)=>{let{className:n,...o}=e;return(0,r.jsx)("div",{ref:t,className:(0,s.cn)("font-semibold leading-none tracking-tight",n),...o})});a.displayName="CardTitle";let c=o.forwardRef((e,t)=>{let{className:n,...o}=e;return(0,r.jsx)("div",{ref:t,className:(0,s.cn)("text-sm text-muted-foreground",n),...o})});c.displayName="CardDescription";let d=o.forwardRef((e,t)=>{let{className:n,...o}=e;return(0,r.jsx)("div",{ref:t,className:(0,s.cn)("p-6 pt-0",n),...o})});d.displayName="CardContent";let u=o.forwardRef((e,t)=>{let{className:n,...o}=e;return(0,r.jsx)("div",{ref:t,className:(0,s.cn)("flex items-center p-6 pt-0",n),...o})});u.displayName="CardFooter"},75968:(e,t,n)=>{n.d(t,{E:()=>i});var r=n(80534);n(74166);var o=n(71712),s=n(32824);let l=(0,o.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground",success:"border-transparent bg-success text-white",warning:"border-transparent bg-warning text-white",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:t,variant:n,...o}=e;return(0,r.jsx)("div",{className:(0,s.cn)(l({variant:n}),t),...o})}},86719:(e,t,n)=>{n.d(t,{$:()=>c});var r=n(80534),o=n(74166),s=n(25588),l=n(71712),i=n(32824);let a=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-lg text-sm font-medium transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 cursor-pointer",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-sm hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-lg px-8",xl:"h-12 rounded-xl px-10 text-base",icon:"h-9 w-9","icon-sm":"h-8 w-8"}},defaultVariants:{variant:"default",size:"default"}}),c=o.forwardRef((e,t)=>{let{className:n,variant:o,size:l,asChild:c=!1,...d}=e,u=c?s.DX:"button";return(0,r.jsx)(u,{className:(0,i.cn)(a({variant:o,size:l,className:n})),ref:t,...d})});c.displayName="Button"},89764:(e,t,n)=>{n.d(t,{w:()=>i});var r=n(80534),o=n(74166),s=n(95859),l=n(32824);let i=o.forwardRef((e,t)=>{let{className:n,orientation:o="horizontal",decorative:i=!0,...a}=e;return(0,r.jsx)(s.b,{ref:t,decorative:i,orientation:o,className:(0,l.cn)("shrink-0 bg-border","horizontal"===o?"h-[1px] w-full":"h-full w-[1px]",n),...a})});i.displayName="Separator"}}]);