(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[595],{12583:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>T});var a=t(80534),l=t(74166),n=t(99197),i=t(28968),c=t.n(i),r=t(29068),d=t(19611),x=t(74765),m=t(86719),o=t(75968),h=t(45253),u=t(89764),j=t(94517),f=t(71216),g=t(12542),p=t(8815),v=t(8118),N=t(11033),w=t(11999),b=t(38468),y=t(88431),A=t(40180),k=t(45791),C=t(62907),S=t(34651),z=t(77876),$=t(60155),E=t(53254),Z=t(40267),M=t(44105),O=t(18842),W=t(20432);let F=[{id:"overview",label:"Overview",icon:g.A},{id:"files",label:"Files",icon:p.A},{id:"sessions",label:"Sessions",icon:v.A},{id:"config",label:"Configuration",icon:N.A}];function L(e){let{icon:s,label:t,value:l,sub:n}=e;return(0,a.jsx)(x.Zp,{children:(0,a.jsx)(x.Wu,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"h-9 w-9 rounded-lg bg-primary/10 flex items-center justify-center",children:(0,a.jsx)(s,{className:"h-4 w-4 text-primary"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:t}),(0,a.jsx)("p",{className:"text-lg font-bold tabular-nums",children:l}),n&&(0,a.jsx)("p",{className:"text-[10px] text-muted-foreground",children:n})]})]})})})}function B(e){if(!e)return"never";let s=Date.now()-e;return s<6e4?"just now":s<36e5?"".concat(Math.floor(s/6e4),"m ago"):s<864e5?"".concat(Math.floor(s/36e5),"h ago"):"".concat(Math.floor(s/864e5),"d ago")}function R(e){return e?e<1024?"".concat(e," B"):e<1048576?"".concat((e/1024).toFixed(1)," KB"):"".concat((e/1048576).toFixed(1)," MB"):"—"}function U(e){var s;let{session:t}=e;return(0,a.jsxs)("div",{className:"flex items-center gap-3 py-2.5 px-3 rounded-lg hover:bg-accent/50 transition-colors group",children:[(0,a.jsx)("div",{className:"h-8 w-8 rounded-full bg-accent flex items-center justify-center shrink-0",children:(0,a.jsx)(v.A,{className:"h-3.5 w-3.5 text-muted-foreground"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-sm font-medium truncate",children:t.derivedTitle||t.label||t.key}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-[10px] text-muted-foreground",children:[t.channel&&(0,a.jsx)("span",{children:t.channel}),(0,a.jsx)("span",{children:"•"}),(0,a.jsxs)("span",{children:[null!=(s=t.messageCount)?s:0," messages"]}),(0,a.jsx)("span",{children:"•"}),(0,a.jsx)("span",{children:B(t.lastActiveAtMs)})]})]}),(0,a.jsx)(m.$,{variant:"ghost",size:"sm",className:"h-7 px-2 opacity-0 group-hover:opacity-100 transition-opacity",asChild:!0,children:(0,a.jsx)(c(),{href:"/chat?session=".concat(t.key),children:(0,a.jsx)(w.A,{className:"h-3 w-3"})})})]})}function T(){var e,s,t,i,T,D,_,I,P;let q=(0,n.useParams)(),K=(0,n.useRouter)(),Q=q.agentId,V=(0,r.z)(e=>e.connected),Y=(0,r.z)(e=>e.request),{isAtLeast:G}=(0,d.B)(),[H,J]=l.useState("overview"),[X,ee]=l.useState(null),[es,et]=l.useState(null),[ea,el]=l.useState([]),[en,ei]=l.useState(!0),[ec,er]=l.useState(null),[ed,ex]=l.useState({}),[em,eo]=l.useState({}),[eh,eu]=l.useState(!1),[ej,ef]=l.useState(!1),[eg,ep]=l.useState(null),[ev,eN]=l.useState(!1),[ew,eb]=l.useState(!1);l.useEffect(()=>{V&&Q&&(async()=>{try{var e,s,t;let[a,l,n]=await Promise.all([Y("agent.identity.get",{agentId:Q}),Y("agents.files.list",{agentId:Q}),Y("sessions.list",{agentId:Q}).catch(()=>({sessions:[]}))]);ee(a),et(l),el(null!=(s=n.sessions)?s:[]);let i={};for(let e of l.files)if(!e.missing)try{let s=await Y("agents.files.get",{agentId:Q,name:e.name});void 0!==s.file.content&&(i[e.name]=s.file.content)}catch(e){}ex(i),eo({...i});let c=l.files.find(e=>"SOUL.md"===e.name&&!e.missing),r=l.files.find(e=>!e.missing);er(null!=(t=null==(e=null!=c?c:r)?void 0:e.name)?t:null)}catch(e){ep("Failed to load agent details")}finally{ei(!1)}})()},[V,Y,Q]);let ey=async e=>{if(V&&!eh){eu(!0),ep(null),ef(!1);try{var s;await Y("agents.files.set",{agentId:Q,name:e,content:null!=(s=em[e])?s:""}),ex(s=>{var t;return{...s,[e]:null!=(t=em[e])?t:""}}),ef(!0),setTimeout(()=>ef(!1),2e3)}catch(e){ep(e instanceof Error?e.message:"Failed to save file")}finally{eu(!1)}}},eA=async()=>{if(V&&!ew){eb(!0);try{await Y("agents.delete",{agentId:Q}),K.push("/agents")}catch(e){ep(e instanceof Error?e.message:"Failed to delete agent"),eb(!1)}}},ek=!!ec&&em[ec]!==ed[ec],eC=null!=(t=null==X?void 0:X.emoji)?t:"\uD83E\uDD16",eS=null!=(i=null==X?void 0:X.name)?i:Q,ez=null!=(T=null==es?void 0:es.files.length)?T:0,e$=null!=(D=null==es?void 0:es.files.filter(e=>!e.missing).length)?D:0,eE=null!=(_=null==es?void 0:es.files.reduce((e,s)=>{var t;return e+(null!=(t=s.size)?t:0)},0))?_:0,eZ=ea.sort((e,s)=>{var t,a;return(null!=(t=s.lastActiveAtMs)?t:0)-(null!=(a=e.lastActiveAtMs)?a:0)}).slice(0,10),eM=ea.reduce((e,s)=>{var t;return e+(null!=(t=s.messageCount)?t:0)},0);return en?(0,a.jsx)("div",{className:"p-6 max-w-6xl mx-auto",children:(0,a.jsxs)("div",{className:"animate-pulse space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"h-14 w-14 bg-muted rounded-xl"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("div",{className:"h-6 w-48 bg-muted rounded"}),(0,a.jsx)("div",{className:"h-4 w-32 bg-muted rounded"})]})]}),(0,a.jsx)("div",{className:"h-10 w-80 bg-muted rounded-lg"}),(0,a.jsx)("div",{className:"h-96 bg-muted rounded-xl"})]})}):(0,a.jsxs)("div",{className:"p-6 max-w-6xl mx-auto space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)(m.$,{variant:"ghost",size:"sm",onClick:()=>K.push("/agents"),children:[(0,a.jsx)(b.A,{className:"h-4 w-4 mr-1"}),"Agents"]}),(0,a.jsx)(u.w,{orientation:"vertical",className:"h-6"}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"flex h-14 w-14 items-center justify-center rounded-xl bg-accent text-3xl shadow-sm",children:eC}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-xl font-bold tracking-tight",children:eS}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mt-0.5",children:[(0,a.jsx)(o.E,{variant:"outline",className:"text-[10px] font-mono",children:Q}),(0,a.jsxs)(o.E,{variant:"secondary",className:"text-[10px]",children:[e$," files"]}),(0,a.jsx)(o.E,{variant:"secondary",className:"text-[10px]",children:R(eE)})]})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(m.$,{variant:"outline",size:"sm",asChild:!0,children:(0,a.jsxs)(c(),{href:"/chat?agent=".concat(Q),children:[(0,a.jsx)(v.A,{className:"h-4 w-4 mr-2"}),"Chat"]})}),(0,a.jsx)(j.g,{level:"standard",children:ev?(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsxs)(m.$,{variant:"destructive",size:"sm",onClick:()=>void eA(),disabled:ew,children:[ew?(0,a.jsx)(y.A,{className:"h-3 w-3 animate-spin mr-1"}):null,"Confirm Delete"]}),(0,a.jsx)(m.$,{variant:"ghost",size:"sm",onClick:()=>eN(!1),children:"Cancel"})]}):(0,a.jsx)(m.$,{variant:"ghost",size:"sm",onClick:()=>eN(!0),className:"text-destructive hover:text-destructive",children:(0,a.jsx)(A.A,{className:"h-4 w-4"})})})]})]}),(0,a.jsx)("div",{className:"flex items-center gap-1 border-b border-border",children:F.filter(e=>"config"!==e.id||G("expert")).map(e=>{let s=e.icon,t=H===e.id;return(0,a.jsxs)("button",{onClick:()=>J(e.id),className:"flex items-center gap-2 px-4 py-2.5 text-sm font-medium border-b-2 transition-colors -mb-px ".concat(t?"border-primary text-foreground":"border-transparent text-muted-foreground hover:text-foreground hover:border-border"),children:[(0,a.jsx)(s,{className:"h-4 w-4"}),e.label,"sessions"===e.id&&ea.length>0&&(0,a.jsx)(o.E,{variant:"secondary",className:"text-[10px] ml-1 h-5",children:ea.length}),"files"===e.id&&ek&&(0,a.jsx)("span",{className:"h-1.5 w-1.5 rounded-full bg-warning"})]},e.id)})}),"overview"===H&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,a.jsx)(L,{icon:v.A,label:"Total Sessions",value:ea.length,sub:ea.length>0?"Last: ".concat(B(null==(e=ea[0])?void 0:e.lastActiveAtMs)):void 0}),(0,a.jsx)(L,{icon:k.A,label:"Total Messages",value:eM}),(0,a.jsx)(L,{icon:p.A,label:"Workspace Files",value:"".concat(e$,"/").concat(ez),sub:R(eE)}),(0,a.jsx)(L,{icon:C.A,label:"Last Active",value:ea.length>0?B(null==(s=eZ[0])?void 0:s.lastActiveAtMs):"Never"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,a.jsxs)(x.Zp,{className:"lg:col-span-2",children:[(0,a.jsx)(x.aR,{className:"pb-3",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)(x.ZB,{className:"text-sm flex items-center gap-2",children:[(0,a.jsx)(p.A,{className:"h-4 w-4"}),"SOUL.md"]}),(0,a.jsxs)(m.$,{variant:"ghost",size:"sm",className:"h-7 text-xs",onClick:()=>{er("SOUL.md"),J("files")},children:[(0,a.jsx)(S.A,{className:"h-3 w-3 mr-1"}),"Edit"]})]})}),(0,a.jsx)(x.Wu,{children:ed["SOUL.md"]?(0,a.jsx)("pre",{className:"text-xs font-mono bg-muted p-4 rounded-lg overflow-auto max-h-64 whitespace-pre-wrap text-muted-foreground",children:ed["SOUL.md"]}):(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center py-10 text-center",children:[(0,a.jsx)(z.A,{className:"h-10 w-10 text-muted-foreground/30 mb-3"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"No SOUL.md found"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"This file defines your agent's personality and behavior."}),(0,a.jsxs)(m.$,{variant:"outline",size:"sm",className:"mt-4",onClick:()=>{eo(e=>({...e,"SOUL.md":"# Soul\n\nYou are...\n\n## Communication Style\n- \n"})),er("SOUL.md"),J("files")},children:[(0,a.jsx)($.A,{className:"h-3 w-3 mr-1"}),"Create SOUL.md"]})]})})]}),(0,a.jsxs)(x.Zp,{children:[(0,a.jsx)(x.aR,{className:"pb-3",children:(0,a.jsx)(x.ZB,{className:"text-sm",children:"Quick Actions"})}),(0,a.jsxs)(x.Wu,{className:"space-y-2",children:[(0,a.jsx)(m.$,{variant:"outline",className:"w-full justify-start h-9 text-xs",asChild:!0,children:(0,a.jsxs)(c(),{href:"/chat?agent=".concat(Q),children:[(0,a.jsx)(v.A,{className:"h-3.5 w-3.5 mr-2"}),"Start New Chat"]})}),(0,a.jsxs)(m.$,{variant:"outline",className:"w-full justify-start h-9 text-xs",onClick:()=>{er("SOUL.md"),J("files")},children:[(0,a.jsx)(S.A,{className:"h-3.5 w-3.5 mr-2"}),"Edit SOUL.md"]}),(0,a.jsxs)(m.$,{variant:"outline",className:"w-full justify-start h-9 text-xs",onClick:()=>J("files"),children:[(0,a.jsx)(p.A,{className:"h-3.5 w-3.5 mr-2"}),"Manage Files"]}),(0,a.jsx)(j.g,{level:"standard",children:(0,a.jsxs)(m.$,{variant:"outline",className:"w-full justify-start h-9 text-xs",onClick:()=>J("config"),children:[(0,a.jsx)(N.A,{className:"h-3.5 w-3.5 mr-2"}),"Agent Configuration"]})}),(0,a.jsx)(u.w,{}),(0,a.jsxs)(m.$,{variant:"outline",className:"w-full justify-start h-9 text-xs",onClick:()=>{navigator.clipboard.writeText(Q)},children:[(0,a.jsx)(E.A,{className:"h-3.5 w-3.5 mr-2"}),"Copy Agent ID"]})]})]})]}),(0,a.jsxs)(x.Zp,{children:[(0,a.jsx)(x.aR,{className:"pb-3",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)(x.ZB,{className:"text-sm flex items-center gap-2",children:[(0,a.jsx)(g.A,{className:"h-4 w-4"}),"Recent Activity"]}),ea.length>0&&(0,a.jsxs)(m.$,{variant:"ghost",size:"sm",className:"h-7 text-xs",onClick:()=>J("sessions"),children:["View All",(0,a.jsx)(b.A,{className:"h-3 w-3 ml-1 rotate-180"})]})]})}),(0,a.jsx)(x.Wu,{children:0===eZ.length?(0,a.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[(0,a.jsx)(v.A,{className:"h-8 w-8 mx-auto mb-2 opacity-30"}),(0,a.jsx)("p",{className:"text-sm",children:"No sessions yet"}),(0,a.jsx)("p",{className:"text-xs mt-1",children:"Start a chat to see activity here"})]}):(0,a.jsx)("div",{className:"space-y-0.5",children:eZ.slice(0,5).map(e=>(0,a.jsx)(U,{session:e},e.key))})})]})]}),"files"===H&&(0,a.jsxs)("div",{className:"flex gap-4 min-h-[500px]",children:[(0,a.jsx)("div",{className:"w-52 shrink-0",children:(0,a.jsxs)(x.Zp,{className:"h-full",children:[(0,a.jsx)(x.aR,{className:"p-3",children:(0,a.jsx)(x.ZB,{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:(0,a.jsx)(f.v,{beginner:"Files",standard:"Agent Files",expert:"Workspace"})})}),(0,a.jsx)(x.Wu,{className:"p-2 pt-0",children:(0,a.jsx)("div",{className:"space-y-0.5",children:null==es?void 0:es.files.map(e=>(0,a.jsxs)("button",{onClick:()=>er(e.name),className:"w-full text-left px-2.5 py-2 rounded-md text-xs font-medium transition-colors flex items-center gap-2 ".concat(ec===e.name?"bg-accent text-accent-foreground":e.missing?"text-muted-foreground/50 hover:bg-accent/50":"text-muted-foreground hover:bg-accent/50"),children:[(0,a.jsx)(p.A,{className:"h-3.5 w-3.5 shrink-0"}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("span",{className:"truncate block",children:e.name}),!e.missing&&void 0!==e.size&&(0,a.jsx)("span",{className:"text-[10px] opacity-60",children:R(e.size)})]}),em[e.name]!==ed[e.name]&&(0,a.jsx)("span",{className:"h-1.5 w-1.5 rounded-full bg-warning shrink-0"}),e.missing&&(0,a.jsx)(o.E,{variant:"outline",className:"text-[8px] px-1 py-0 h-4",children:"missing"})]},e.name))})})]})}),(0,a.jsx)("div",{className:"flex-1 min-w-0",children:(0,a.jsxs)(x.Zp,{className:"h-full flex flex-col",children:[(0,a.jsxs)(x.aR,{className:"p-3 flex-row items-center justify-between space-y-0 border-b border-border",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(o.E,{variant:"outline",className:"text-xs font-mono",children:null!=ec?ec:"No file selected"}),ek&&(0,a.jsx)(o.E,{className:"text-[10px] bg-warning/10 text-warning border-warning/20",children:"Modified"})]}),ec&&(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsxs)(m.$,{variant:"ghost",size:"sm",onClick:()=>{ec&&void 0!==ed[ec]&&eo(e=>({...e,[ec]:ed[ec]}))},disabled:!ek,className:"h-7 text-xs",children:[(0,a.jsx)(Z.A,{className:"h-3 w-3 mr-1"}),"Revert"]}),(0,a.jsxs)(m.$,{size:"sm",onClick:()=>ec&&void ey(ec),disabled:!ek||eh,className:"h-7 text-xs",children:[eh?(0,a.jsx)(y.A,{className:"h-3 w-3 mr-1 animate-spin"}):ej?(0,a.jsx)(M.A,{className:"h-3 w-3 mr-1"}):(0,a.jsx)(O.A,{className:"h-3 w-3 mr-1"}),eh?"Saving...":ej?"Saved!":"Save"]})]})]}),(0,a.jsx)(x.Wu,{className:"flex-1 p-0",children:ec?(0,a.jsx)(h.T,{value:null!=(I=em[ec])?I:"",onChange:e=>eo(s=>({...s,[ec]:e.target.value})),className:"h-full min-h-[450px] rounded-none border-0 font-mono text-sm resize-none focus-visible:ring-0",placeholder:"Edit ".concat(ec,"...")}):(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center h-full py-20 text-muted-foreground",children:[(0,a.jsx)(p.A,{className:"h-10 w-10 mb-3 opacity-30"}),(0,a.jsx)("p",{className:"text-sm",children:"Select a file to edit"}),(0,a.jsx)("p",{className:"text-xs mt-1",children:"Or create a new file to get started"})]})})]})})]}),"sessions"===H&&(0,a.jsx)("div",{className:"space-y-4",children:0===ea.length?(0,a.jsx)(x.Zp,{className:"border-dashed",children:(0,a.jsxs)(x.Wu,{className:"flex flex-col items-center justify-center py-16 text-center",children:[(0,a.jsx)("div",{className:"rounded-full bg-accent p-4 mb-4",children:(0,a.jsx)(v.A,{className:"h-8 w-8 text-muted-foreground"})}),(0,a.jsx)("h3",{className:"text-lg font-semibold mb-1",children:"No sessions yet"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground max-w-sm",children:"Sessions are created when you chat with this agent. Start a conversation to see activity here."}),(0,a.jsx)(m.$,{className:"mt-4",asChild:!0,children:(0,a.jsxs)(c(),{href:"/chat?agent=".concat(Q),children:[(0,a.jsx)(v.A,{className:"h-4 w-4 mr-2"}),"Start Chatting"]})})]})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:[ea.length," session",1!==ea.length?"s":""," • ",eM," total messages"]}),(0,a.jsx)(m.$,{variant:"outline",size:"sm",asChild:!0,children:(0,a.jsxs)(c(),{href:"/chat?agent=".concat(Q),children:[(0,a.jsx)($.A,{className:"h-3 w-3 mr-1"}),"New Session"]})})]}),(0,a.jsx)("div",{className:"space-y-2",children:ea.sort((e,s)=>{var t,a;return(null!=(t=s.lastActiveAtMs)?t:0)-(null!=(a=e.lastActiveAtMs)?a:0)}).map(e=>{var s;return(0,a.jsx)(x.Zp,{className:"hover:bg-accent/50 transition-colors",children:(0,a.jsxs)(x.Wu,{className:"p-4 flex items-center gap-4",children:[(0,a.jsx)("div",{className:"h-10 w-10 rounded-full bg-accent flex items-center justify-center shrink-0",children:(0,a.jsx)(v.A,{className:"h-4 w-4 text-muted-foreground"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-sm font-medium truncate",children:e.derivedTitle||e.label||e.key}),(0,a.jsxs)("div",{className:"flex items-center gap-3 text-xs text-muted-foreground mt-0.5",children:[e.channel&&(0,a.jsx)(o.E,{variant:"outline",className:"text-[10px]",children:e.channel}),(0,a.jsxs)("span",{children:[null!=(s=e.messageCount)?s:0," messages"]}),(0,a.jsx)("span",{children:B(e.lastActiveAtMs)})]})]}),(0,a.jsx)("div",{className:"flex items-center gap-1",children:(0,a.jsx)(m.$,{variant:"ghost",size:"sm",className:"h-8",asChild:!0,children:(0,a.jsx)(c(),{href:"/chat?session=".concat(e.key),children:(0,a.jsx)(w.A,{className:"h-3.5 w-3.5"})})})})]})},e.key)})})]})}),"config"===H&&(0,a.jsxs)("div",{className:"space-y-6 max-w-2xl",children:[(0,a.jsxs)(x.Zp,{children:[(0,a.jsx)(x.aR,{children:(0,a.jsx)(x.ZB,{className:"text-sm",children:"Agent Identity"})}),(0,a.jsx)(x.Wu,{className:"space-y-4",children:(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-muted-foreground mb-1",children:"Agent ID"}),(0,a.jsx)("p",{className:"font-mono text-xs bg-muted px-2 py-1.5 rounded",children:Q})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-muted-foreground mb-1",children:"Name"}),(0,a.jsx)("p",{className:"font-medium",children:eS})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-muted-foreground mb-1",children:"Emoji"}),(0,a.jsx)("p",{className:"text-2xl",children:eC})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-muted-foreground mb-1",children:"Workspace"}),(0,a.jsx)("p",{className:"font-mono text-xs bg-muted px-2 py-1.5 rounded",children:null!=(P=null==es?void 0:es.workspace)?P:"—"})]})]})})]}),(0,a.jsxs)(x.Zp,{children:[(0,a.jsx)(x.aR,{children:(0,a.jsx)(x.ZB,{className:"text-sm",children:"Workspace Files"})}),(0,a.jsx)(x.Wu,{children:(0,a.jsx)("div",{className:"space-y-2",children:null==es?void 0:es.files.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between py-2 px-3 rounded-lg bg-muted/50",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(p.A,{className:"h-3.5 w-3.5 text-muted-foreground"}),(0,a.jsx)("span",{className:"text-sm font-mono",children:e.name}),e.missing&&(0,a.jsx)(o.E,{variant:"outline",className:"text-[10px]",children:"missing"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3 text-xs text-muted-foreground",children:[void 0!==e.size&&(0,a.jsx)("span",{children:R(e.size)}),e.updatedAtMs&&(0,a.jsx)("span",{children:B(e.updatedAtMs)})]})]},e.name))})})]}),(0,a.jsxs)(x.Zp,{className:"border-destructive/30",children:[(0,a.jsx)(x.aR,{children:(0,a.jsx)(x.ZB,{className:"text-sm text-destructive",children:"Danger Zone"})}),(0,a.jsx)(x.Wu,{className:"space-y-3",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"Delete Agent"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Permanently remove this agent and all its files."})]}),(0,a.jsxs)(m.$,{variant:"destructive",size:"sm",onClick:()=>void eA(),disabled:ew,children:[ew?(0,a.jsx)(y.A,{className:"h-3 w-3 animate-spin mr-1"}):null,"Delete Agent"]})]})})]})]}),eg&&(0,a.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-destructive/10 text-destructive rounded-lg text-sm",children:[(0,a.jsx)(W.A,{className:"h-4 w-4 shrink-0"}),eg]})]})}},45253:(e,s,t)=>{"use strict";t.d(s,{T:()=>i});var a=t(80534),l=t(74166),n=t(32824);let i=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("textarea",{className:(0,n.cn)("flex min-h-[60px] w-full rounded-lg border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",t),ref:s,...l})});i.displayName="Textarea"},55354:(e,s,t)=>{Promise.resolve().then(t.bind(t,12583))},94517:(e,s,t)=>{"use strict";t.d(s,{g:()=>n});var a=t(80534);t(74166);var l=t(19611);function n(e){let{level:s,children:t,fallback:n=null}=e,{isAtLeast:i}=(0,l.B)();return i(s)?(0,a.jsx)(a.Fragment,{children:t}):(0,a.jsx)(a.Fragment,{children:n})}}},e=>{e.O(0,[329,390,952,273,705,522,358],()=>e(e.s=55354)),_N_E=e.O()}]);