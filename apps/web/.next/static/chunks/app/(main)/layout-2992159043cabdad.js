(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[76],{3601:(e,t,s)=>{Promise.resolve().then(s.bind(s,93799))},19611:(e,t,s)=>{"use strict";s.d(t,{B:()=>l,Y:()=>a});var n=s(81180),r=s(4825);let a=(0,n.v)()((0,r.Zr)(e=>({level:"standard",detected:!1,onboardingCompleted:!1,setLevel:t=>e({level:t}),completeOnboarding:t=>e({level:t,detected:!0,onboardingCompleted:!0}),resetOnboarding:()=>e({level:"standard",detected:!1,onboardingCompleted:!1})}),{name:"openclaw-proficiency"}));function l(){let e=a(e=>e.level);return{level:e,isAtLeast:t=>{let s=["beginner","standard","expert"];return s.indexOf(e)>=s.indexOf(t)}}}},29068:(e,t,s)=>{"use strict";s.d(t,{z:()=>a});var n=s(81180);class r{start(){this.closed=!1,this.connect()}stop(){var e,t,s;this.closed=!0,this.reconnectTimer&&(clearTimeout(this.reconnectTimer),this.reconnectTimer=null),this.connectTimer&&(clearTimeout(this.connectTimer),this.connectTimer=null),null==(e=this.ws)||e.close(),this.ws=null,this.flushPending(Error("gateway client stopped")),null==(t=(s=this.opts).onConnectionChange)||t.call(s,!1)}get connected(){var e;return(null==(e=this.ws)?void 0:e.readyState)===WebSocket.OPEN}connect(){if(!this.closed){try{this.ws=new WebSocket(this.opts.url)}catch(e){this.scheduleReconnect();return}this.ws.addEventListener("open",()=>this.queueConnect()),this.ws.addEventListener("message",e=>{var t;return this.handleMessage(String(null!=(t=e.data)?t:""))}),this.ws.addEventListener("close",e=>{var t,s,n,r,a;let l=String(null!=(a=e.reason)?a:"");this.ws=null,this.flushPending(Error("gateway closed (".concat(e.code,"): ").concat(l))),null==(t=(s=this.opts).onClose)||t.call(s,{code:e.code,reason:l}),null==(n=(r=this.opts).onConnectionChange)||n.call(r,!1),this.scheduleReconnect()}),this.ws.addEventListener("error",()=>{})}}scheduleReconnect(){if(this.closed)return;let e=this.backoffMs;this.backoffMs=Math.min(1.7*this.backoffMs,15e3),this.reconnectTimer=setTimeout(()=>this.connect(),e)}flushPending(e){for(let[,t]of this.pending)t.timeoutId&&clearTimeout(t.timeoutId),t.reject(e);this.pending.clear()}sendConnect(){var e;if(this.connectSent)return;this.connectSent=!0,null!==this.connectTimer&&(clearTimeout(this.connectTimer),this.connectTimer=null);let t=this.opts.token||this.opts.password?{token:this.opts.token,password:this.opts.password}:void 0,s={minProtocol:3,maxProtocol:3,client:{id:"control-ui-horizon",version:"0.1.0",platform:"undefined"!=typeof navigator&&null!=(e=navigator.platform)?e:"web",mode:"webchat",instanceId:this.opts.instanceId},role:"operator",scopes:["operator.admin","operator.approvals","operator.pairing"],caps:["tool-events"],auth:t,locale:"undefined"!=typeof navigator?navigator.language:"en",userAgent:"undefined"!=typeof navigator?navigator.userAgent:""};this.request("connect",s).then(e=>{var t,s,n,r;this.backoffMs=800,null==(t=(s=this.opts).onConnectionChange)||t.call(s,!0),null==(n=(r=this.opts).onHello)||n.call(r,e)}).catch(()=>{var e;null==(e=this.ws)||e.close(4008,"connect failed")})}handleMessage(e){var t,s,n,r,a,l,o,i;let c;try{c=JSON.parse(e)}catch(e){return}let d=c;if("event"===d.type){let e=c;if("connect.challenge"===e.event){let t=e.payload,s=t&&"string"==typeof t.nonce?t.nonce:null;s&&(this.connectNonce=s,this.sendConnect());return}let a="number"==typeof e.seq?e.seq:null;null!==a&&(null!==this.lastSeq&&a>this.lastSeq+1&&(null==(t=(s=this.opts).onGap)||t.call(s,{expected:this.lastSeq+1,received:a})),this.lastSeq=a);try{null==(n=(r=this.opts).onEvent)||n.call(r,e)}catch(e){console.error("[gateway] event handler error:",e)}return}if("res"===d.type){let e=c,t=this.pending.get(e.id);if(!t)return;if(this.pending.delete(e.id),t.timeoutId&&clearTimeout(t.timeoutId),e.ok)t.resolve(e.payload);else{let s=Error(null!=(i=null==(a=e.error)?void 0:a.message)?i:"request failed");s.code=null==(l=e.error)?void 0:l.code,s.details=null==(o=e.error)?void 0:o.details,t.reject(s)}return}}request(e,t){var s,n,r;let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e4;if(!this.ws||this.ws.readyState!==WebSocket.OPEN)return Promise.reject(Error("gateway not connected"));let l=null!=(r=null==(s=(n=crypto).randomUUID)?void 0:s.call(n))?r:Math.random().toString(36).slice(2,10),o=new Promise((t,s)=>{let n=setTimeout(()=>{this.pending.delete(l),s(Error("request '".concat(e,"' timed out after ").concat(a,"ms")))},a);this.pending.set(l,{resolve:e=>t(e),reject:s,timeoutId:n})});return this.ws.send(JSON.stringify({type:"req",id:l,method:e,params:t})),o}queueConnect(){this.connectNonce=null,this.connectSent=!1,null!==this.connectTimer&&clearTimeout(this.connectTimer),this.connectTimer=setTimeout(()=>{this.sendConnect()},750)}constructor(e){this.opts=e,this.ws=null,this.pending=new Map,this.closed=!1,this.lastSeq=null,this.connectNonce=null,this.connectSent=!1,this.connectTimer=null,this.backoffMs=800,this.reconnectTimer=null}}let a=(0,n.v)((e,t)=>({connected:!1,connecting:!1,error:null,client:null,hello:null,snapshot:null,eventListeners:new Map,connect:(s,n)=>{let a=t().client;a&&a.stop(),e({connecting:!0,error:null});let l=new r({url:s,token:null==n?void 0:n.token,password:null==n?void 0:n.password,instanceId:null==n?void 0:n.instanceId,onHello:t=>{var s;e({connected:!0,connecting:!1,hello:t,snapshot:null!=(s=t.snapshot)?s:null,error:null})},onEvent:e=>{let s=t().eventListeners.get(e.event);if(s)for(let t of s)try{t(e.payload)}catch(t){console.error("[gateway] event handler error for ".concat(e.event,":"),t)}let n=t().eventListeners.get("*");if(n)for(let t of n)try{t(e)}catch(e){console.error("[gateway] wildcard handler error:",e)}},onClose:()=>{e({connected:!1})},onConnectionChange:t=>{e({connected:t,connecting:!1})}});e({client:l}),l.start()},disconnect:()=>{let s=t().client;s&&(s.stop(),e({client:null,connected:!1,connecting:!1,hello:null,snapshot:null}))},request:async(e,s)=>{let n=t().client;if(!n)throw Error("Gateway not connected");return n.request(e,s)},addEventListener:(s,n)=>{let r=t().eventListeners;return r.has(s)||r.set(s,new Set),r.get(s).add(n),e({eventListeners:new Map(r)}),()=>{var r;let a=t().eventListeners;null==(r=a.get(s))||r.delete(n),e({eventListeners:new Map(a)})}}}))},32824:(e,t,s)=>{"use strict";s.d(t,{cn:()=>a});var n=s(66862),r=s(7589);function a(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.QP)((0,n.$)(t))}},44446:(e,t,s)=>{"use strict";s.d(t,{F:()=>o});var n=s(80534),r=s(74166),a=s(94152),l=s(32824);let o=r.forwardRef((e,t)=>{let{className:s,children:r,...o}=e;return(0,n.jsxs)(a.bL,{ref:t,className:(0,l.cn)("relative overflow-hidden",s),...o,children:[(0,n.jsx)(a.LM,{className:"h-full w-full rounded-[inherit]",children:r}),(0,n.jsx)(i,{}),(0,n.jsx)(a.OK,{})]})});o.displayName="ScrollArea";let i=r.forwardRef((e,t)=>{let{className:s,orientation:r="vertical",...o}=e;return(0,n.jsx)(a.VM,{ref:t,orientation:r,className:(0,l.cn)("flex touch-none select-none transition-colors","vertical"===r&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===r&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",s),...o,children:(0,n.jsx)(a.lr,{className:"relative flex-1 rounded-full bg-border"})})});i.displayName="ScrollBar"},69824:(e,t,s)=>{"use strict";s.d(t,{n:()=>a});var n=s(81180),r=s(4825);let a=(0,n.v)()((0,r.Zr)(e=>({theme:"system",resolvedTheme:"dark",sidebarCollapsed:!1,sidebarMobileOpen:!1,commandPaletteOpen:!1,setTheme:t=>e({theme:t}),setResolvedTheme:t=>e({resolvedTheme:t}),toggleSidebar:()=>e(e=>({sidebarCollapsed:!e.sidebarCollapsed})),setSidebarCollapsed:t=>e({sidebarCollapsed:t}),setSidebarMobileOpen:t=>e({sidebarMobileOpen:t}),setCommandPaletteOpen:t=>e({commandPaletteOpen:t})}),{name:"openclaw-ui",partialize:e=>({theme:e.theme,sidebarCollapsed:e.sidebarCollapsed})}))},75968:(e,t,s)=>{"use strict";s.d(t,{E:()=>o});var n=s(80534);s(74166);var r=s(71712),a=s(32824);let l=(0,r.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground",success:"border-transparent bg-success text-white",warning:"border-transparent bg-warning text-white",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function o(e){let{className:t,variant:s,...r}=e;return(0,n.jsx)("div",{className:(0,a.cn)(l({variant:s}),t),...r})}},86719:(e,t,s)=>{"use strict";s.d(t,{$:()=>c});var n=s(80534),r=s(74166),a=s(25588),l=s(71712),o=s(32824);let i=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-lg text-sm font-medium transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 cursor-pointer",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-sm hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-lg px-8",xl:"h-12 rounded-xl px-10 text-base",icon:"h-9 w-9","icon-sm":"h-8 w-8"}},defaultVariants:{variant:"default",size:"default"}}),c=r.forwardRef((e,t)=>{let{className:s,variant:r,size:l,asChild:c=!1,...d}=e,m=c?a.DX:"button";return(0,n.jsx)(m,{className:(0,o.cn)(i({variant:r,size:l,className:s})),ref:t,...d})});c.displayName="Button"},93799:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>eA});var n=s(80534),r=s(74166),a=s(28968),l=s.n(a),o=s(99197),i=s(32824),c=s(69824),d=s(19611),m=s(44446),h=s(86719),u=s(52932),x=s(77876),p=s(56522),f=s(8118),g=s(62907),b=s(74350),v=s(10124),j=s(46920),N=s(92624),w=s(48106),y=s(58046),k=s(22866),A=s(75982),C=s(54082);let S=[{label:"Dashboard",href:"/dashboard",icon:u.A},{label:"Agents",href:"/agents",icon:x.A},{label:"Templates",href:"/templates",icon:p.A},{label:"Chat",href:"/chat",icon:f.A},{label:"Automations",href:"/cron",icon:g.A,minLevel:"standard"},{label:"Skills",href:"/skills",icon:b.A,minLevel:"standard"},{label:"Marketplace",href:"/marketplace",icon:v.A,minLevel:"standard"},{label:"Channels",href:"/channels",icon:j.A,minLevel:"standard"},{label:"Nodes",href:"/nodes",icon:N.A,minLevel:"standard"},{label:"Sessions",href:"/sessions",icon:w.A,minLevel:"expert"},{label:"Analytics",href:"/analytics",icon:w.A,minLevel:"standard"},{label:"Logs",href:"/logs",icon:y.A,minLevel:"expert"},{label:"Settings",href:"/settings",icon:k.A}];function E(){let e=(0,o.usePathname)(),t=(0,c.n)(e=>e.sidebarCollapsed),s=(0,c.n)(e=>e.toggleSidebar),{isAtLeast:r}=(0,d.B)(),a=S.filter(e=>!e.minLevel||r(e.minLevel));return(0,n.jsxs)("aside",{className:(0,i.cn)("flex flex-col border-r border-border bg-sidebar text-sidebar-foreground transition-all duration-300 ease-in-out",t?"w-16":"w-64"),children:[(0,n.jsx)("div",{className:(0,i.cn)("flex items-center h-14 px-4 border-b border-border",t&&"justify-center"),children:(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-primary text-primary-foreground font-bold text-sm",children:"OC"}),!t&&(0,n.jsx)("span",{className:"font-semibold text-base tracking-tight",children:"OpenClaw"})]})}),(0,n.jsx)(m.F,{className:"flex-1 py-2",children:(0,n.jsx)("nav",{className:"flex flex-col gap-1 px-2",children:a.map(s=>{let r=e.startsWith(s.href);return(0,n.jsxs)(l(),{href:s.href,className:(0,i.cn)("flex items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium transition-colors",r?"bg-sidebar-accent text-accent-foreground":"text-muted-foreground hover:bg-accent hover:text-foreground",t&&"justify-center px-0"),title:t?s.label:void 0,children:[(0,n.jsx)(s.icon,{className:"h-5 w-5 shrink-0"}),!t&&(0,n.jsx)("span",{children:s.label})]},s.href)})})}),(0,n.jsx)("div",{className:"border-t border-border p-2",children:(0,n.jsx)(h.$,{variant:"ghost",size:"icon-sm",onClick:s,className:"w-full flex items-center justify-center","aria-label":t?"Expand sidebar":"Collapse sidebar",children:t?(0,n.jsx)(A.A,{className:"h-4 w-4"}):(0,n.jsx)(C.A,{className:"h-4 w-4"})})})]})}var L=s(29068),T=s(75968),z=s(483),M=s(88092),O=s(44105),P=s(12712),D=s(30034),q=s(37356),I=s(40180),R=s(609);function K(e){let{type:t}=e;switch(t){case"info":return(0,n.jsx)(z.A,{className:"h-3.5 w-3.5 text-blue-500"});case"warning":return(0,n.jsx)(M.A,{className:"h-3.5 w-3.5 text-amber-500"});case"error":return(0,n.jsx)(M.A,{className:"h-3.5 w-3.5 text-red-500"});case"success":return(0,n.jsx)(O.A,{className:"h-3.5 w-3.5 text-emerald-500"});case"agent":return(0,n.jsx)(x.A,{className:"h-3.5 w-3.5 text-primary"});case"system":return(0,n.jsx)(b.A,{className:"h-3.5 w-3.5 text-violet-500"})}}function $(){let e=(0,L.z)(e=>e.connected),t=(0,L.z)(e=>e.addEventListener),[s,a]=r.useState([]),[l,o]=r.useState(!1),i=r.useRef(null),c=s.filter(e=>!e.read).length;r.useEffect(()=>{if(e)return t("*",e=>{if(!e.event)return;let t=function(e){var t,s,n,r,a;let l=null!=(t=e.payload)?t:{},o={id:"".concat(Date.now(),"-").concat(Math.random().toString(36).slice(2,6)),timestamp:Date.now(),read:!1,agentId:l.agentId,agentEmoji:l.agentEmoji};switch(e.event){case"chat.error":return{...o,type:"error",title:"Chat Error",message:String(null!=(s=l.errorMessage)?s:"An error occurred")};case"exec.pending":return{...o,type:"warning",title:"Approval Required",message:"Agent requests permission to run: ".concat(String(null!=(n=l.tool)?n:"exec"))};case"session.start":return{...o,type:"agent",title:"Session Started",message:l.label?String(l.label):void 0};case"cron.error":return{...o,type:"error",title:"Cron Job Failed",message:String(null!=(r=l.error)?r:"Automation error")};case"gateway.update":return{...o,type:"system",title:"Update Available",message:"Version ".concat(String(null!=(a=l.version)?a:"")," is available")};default:return null}}(e);t&&a(e=>[t,...e].slice(0,50))})},[e,t]),r.useEffect(()=>{if(!l)return;let e=e=>{i.current&&!i.current.contains(e.target)&&o(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[l]);let d=()=>{a(e=>e.map(e=>({...e,read:!0})))};return(0,n.jsxs)("div",{className:"relative",ref:i,children:[(0,n.jsx)(h.$,{variant:"ghost",size:"sm",onClick:()=>{o(!l),!l&&c>0&&setTimeout(d,3e3)},className:"relative","aria-label":"Notifications".concat(c>0?" (".concat(c," unread)"):""),children:c>0?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(P.A,{className:"h-4 w-4"}),(0,n.jsx)("span",{className:"absolute -top-0.5 -right-0.5 h-4 w-4 bg-primary rounded-full flex items-center justify-center text-[9px] text-primary-foreground font-bold",children:c>9?"9+":c})]}):(0,n.jsx)(D.A,{className:"h-4 w-4"})}),l&&(0,n.jsxs)("div",{className:"absolute right-0 top-full mt-2 w-96 bg-background border border-border rounded-xl shadow-lg z-50 overflow-hidden animate-in fade-in slide-in-from-top-2 duration-200",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 border-b border-border",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("h3",{className:"text-sm font-semibold",children:"Notifications"}),c>0&&(0,n.jsxs)(T.E,{variant:"secondary",className:"text-[10px] h-5",children:[c," new"]})]}),(0,n.jsxs)("div",{className:"flex items-center gap-1",children:[c>0&&(0,n.jsxs)(h.$,{variant:"ghost",size:"sm",className:"h-7 text-xs",onClick:d,children:[(0,n.jsx)(q.A,{className:"h-3 w-3 mr-1"}),"Read all"]}),s.length>0&&(0,n.jsxs)(h.$,{variant:"ghost",size:"sm",className:"h-7 text-xs",onClick:()=>{a([]),o(!1)},children:[(0,n.jsx)(I.A,{className:"h-3 w-3 mr-1"}),"Clear"]})]})]}),(0,n.jsx)("div",{className:"max-h-96 overflow-y-auto",children:0===s.length?(0,n.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 text-muted-foreground",children:[(0,n.jsx)(D.A,{className:"h-8 w-8 mb-2 opacity-30"}),(0,n.jsx)("p",{className:"text-sm",children:"No notifications"}),(0,n.jsx)("p",{className:"text-xs mt-1",children:"Events will appear here"})]}):s.map(e=>(0,n.jsxs)("div",{className:"flex items-start gap-3 px-4 py-3 border-b border-border/50 last:border-0 hover:bg-accent/50 transition-colors ".concat(e.read?"":"bg-primary/5"),onClick:()=>{var t;return t=e.id,void a(e=>e.map(e=>e.id===t?{...e,read:!0}:e))},children:[(0,n.jsx)("div",{className:"h-7 w-7 rounded-full bg-muted flex items-center justify-center shrink-0 mt-0.5",children:e.agentEmoji?(0,n.jsx)("span",{className:"text-sm",children:e.agentEmoji}):(0,n.jsx)(K,{type:e.type})}),(0,n.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,n.jsx)("p",{className:"text-xs font-medium truncate ".concat(e.read?"text-muted-foreground":"text-foreground"),children:e.title}),(0,n.jsx)("span",{className:"text-[10px] text-muted-foreground shrink-0",children:function(e){let t=Date.now()-e;return t<6e4?"now":t<36e5?"".concat(Math.floor(t/6e4),"m"):t<864e5?"".concat(Math.floor(t/36e5),"h"):"".concat(Math.floor(t/864e5),"d")}(e.timestamp)})]}),e.message&&(0,n.jsx)("p",{className:"text-[11px] text-muted-foreground mt-0.5 line-clamp-2",children:e.message}),!e.read&&(0,n.jsx)("div",{className:"h-1.5 w-1.5 rounded-full bg-primary absolute right-4 top-1/2 -translate-y-1/2"})]}),(0,n.jsx)("button",{className:"shrink-0 opacity-0 hover:opacity-100 group-hover:opacity-50 p-0.5 rounded text-muted-foreground hover:text-foreground transition-opacity",onClick:t=>{var s;t.stopPropagation(),s=e.id,a(e=>e.filter(e=>e.id!==s))},children:(0,n.jsx)(R.A,{className:"h-3 w-3"})})]},e.id))})]})]})}var F=s(22536),B=s(85354),U=s(8090),G=s(29511),V=s(43362),Y=s(60743),J=s(69776),W=s(15919),_=s(55002),Z=s(82806);let H={beginner:{label:"Simple",icon:F.A},standard:{label:"Standard",icon:B.A},expert:{label:"Expert",icon:U.A}};function X(){let e=(0,L.z)(e=>e.connected),t=(0,L.z)(e=>e.connecting),s=(0,L.z)(e=>e.snapshot),r=(0,c.n)(e=>e.theme),a=(0,c.n)(e=>e.setTheme),l=(0,c.n)(e=>e.setCommandPaletteOpen),o=(0,c.n)(e=>e.setSidebarMobileOpen),i=(0,d.Y)(e=>e.level),m=(0,d.Y)(e=>e.setLevel),u="light"===r?G.A:"dark"===r?V.A:Y.A,x=H[i];return(0,n.jsxs)("header",{className:"flex h-14 items-center justify-between border-b border-border bg-background px-4 gap-4",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(h.$,{variant:"ghost",size:"icon-sm",className:"lg:hidden",onClick:()=>o(!0),"aria-label":"Open menu",children:(0,n.jsx)(J.A,{className:"h-5 w-5"})}),(0,n.jsxs)(h.$,{variant:"outline",size:"sm",className:"hidden sm:flex items-center gap-2 text-muted-foreground w-64",onClick:()=>l(!0),children:[(0,n.jsx)(W.A,{className:"h-4 w-4"}),(0,n.jsx)("span",{className:"text-xs",children:"Search or run command..."}),(0,n.jsx)("kbd",{className:"ml-auto text-[10px] bg-muted px-1.5 py-0.5 rounded",children:"⌘K"})]})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("div",{className:"flex items-center gap-1.5",children:e?(0,n.jsxs)(T.E,{variant:"success",className:"gap-1 text-[10px]",children:[(0,n.jsx)(_.A,{className:"h-3 w-3"}),(0,n.jsx)("span",{className:"hidden sm:inline",children:"Connected"})]}):t?(0,n.jsxs)(T.E,{variant:"warning",className:"gap-1 text-[10px]",children:[(0,n.jsx)(_.A,{className:"h-3 w-3 animate-pulse"}),(0,n.jsx)("span",{className:"hidden sm:inline",children:"Connecting..."})]}):(0,n.jsxs)(T.E,{variant:"destructive",className:"gap-1 text-[10px]",children:[(0,n.jsx)(Z.A,{className:"h-3 w-3"}),(0,n.jsx)("span",{className:"hidden sm:inline",children:"Disconnected"})]})}),(null==s?void 0:s.updateAvailable)&&(0,n.jsxs)(T.E,{variant:"outline",className:"text-[10px]",children:["Update: ",s.updateAvailable.latestVersion]}),(0,n.jsxs)(h.$,{variant:"ghost",size:"sm",onClick:()=>{let e=["beginner","standard","expert"],t=e.indexOf(i);m(e[(t+1)%3])},className:"gap-1.5 text-xs text-muted-foreground",title:"Interface mode: ".concat(x.label,". Click to cycle."),children:[(0,n.jsx)(x.icon,{className:"h-3.5 w-3.5"}),(0,n.jsx)("span",{className:"hidden md:inline",children:x.label})]}),(0,n.jsx)($,{}),(0,n.jsx)(h.$,{variant:"ghost",size:"sm",onClick:()=>{a("light"===r?"dark":"dark"===r?"system":"light")},"aria-label":"Theme: ".concat(r),children:(0,n.jsx)(u,{className:"h-4 w-4"})})]})]})}var Q=s(4356),ee=s(60155),et=s(25585),es=s(91144);function en(){let e=(0,c.n)(e=>e.commandPaletteOpen),t=(0,c.n)(e=>e.setCommandPaletteOpen),s=(0,c.n)(e=>e.setTheme),{isAtLeast:a}=(0,d.B)(),l=(0,o.useRouter)(),[m,h]=r.useState(""),[p,v]=r.useState(0),y=r.useRef(null),A=r.useRef(null);r.useEffect(()=>{let s=s=>{(s.metaKey||s.ctrlKey)&&"k"===s.key&&(s.preventDefault(),t(!e))};return document.addEventListener("keydown",s),()=>document.removeEventListener("keydown",s)},[e,t]);let C=r.useMemo(()=>{let e=(e,s,n,r,a)=>({id:"nav-".concat(s),label:e,description:null!=r?r:"Go to ".concat(e),icon:n,section:"Navigation",keywords:[s.replace("/","")],action:()=>{l.push(s),t(!1)},minLevel:a});return[e("Dashboard","/dashboard",u.A,"Overview and quick stats"),e("Agents","/agents",x.A,"View all agents"),e("Chat","/chat",f.A,"Chat with agents"),e("Automations","/cron",g.A,"Scheduled jobs & cron","standard"),e("Skills","/skills",b.A,"Browse skill marketplace","standard"),e("Channels","/channels",j.A,"Messaging channels","standard"),e("Nodes","/nodes",N.A,"Connected devices","standard"),e("Templates","/templates",x.A,"Browse agent templates"),e("Sessions","/sessions",w.A,"Session management","expert"),e("Analytics","/analytics",w.A,"Usage analytics","standard"),e("Onboarding","/onboarding",F.A,"Re-run setup wizard"),e("Settings","/settings",k.A,"App configuration"),{id:"action-new-agent",label:"Create New Agent",description:"Start the agent builder wizard",icon:ee.A,section:"Actions",keywords:["new","create","add","agent","build"],action:()=>{l.push("/agents/new"),t(!1)}},{id:"theme-light",label:"Switch to Light Mode",icon:G.A,section:"Appearance",keywords:["theme","light","bright"],action:()=>{s("light"),t(!1)}},{id:"theme-dark",label:"Switch to Dark Mode",icon:V.A,section:"Appearance",keywords:["theme","dark","night"],action:()=>{s("dark"),t(!1)}},{id:"theme-system",label:"Use System Theme",icon:Y.A,section:"Appearance",keywords:["theme","system","auto"],action:()=>{s("system"),t(!1)}},{id:"prof-beginner",label:"Simple Mode",description:"Minimal options, guided experience",icon:F.A,section:"Interface",keywords:["proficiency","simple","beginner","easy"],action:()=>{d.Y.getState().setLevel("beginner"),t(!1)}},{id:"prof-standard",label:"Standard Mode",description:"Balanced feature set",icon:B.A,section:"Interface",keywords:["proficiency","standard","normal"],action:()=>{d.Y.getState().setLevel("standard"),t(!1)}},{id:"prof-expert",label:"Expert Mode",description:"Full access, dense layouts",icon:U.A,section:"Interface",keywords:["proficiency","expert","advanced","power"],action:()=>{d.Y.getState().setLevel("expert"),t(!1)}}].filter(e=>!e.minLevel||a(e.minLevel))},[l,t,s,a]),S=r.useMemo(()=>{if(!m.trim())return C;let e=m.toLowerCase();return C.filter(t=>{var s,n;return t.label.toLowerCase().includes(e)||(null==(s=t.description)?void 0:s.toLowerCase().includes(e))||(null==(n=t.keywords)?void 0:n.some(t=>t.includes(e)))})},[C,m]),E=r.useMemo(()=>{let e=new Map;for(let s of S){var t;let n=null!=(t=e.get(s.section))?t:[];n.push(s),e.set(s.section,n)}return e},[S]);r.useEffect(()=>{v(0)},[m]),r.useEffect(()=>{var e;let t=null==(e=A.current)?void 0:e.querySelector('[data-index="'.concat(p,'"]'));t&&t.scrollIntoView({block:"nearest"})},[p]),r.useEffect(()=>{e||(h(""),v(0))},[e]);let L=-1;return(0,n.jsx)(Q.bL,{open:e,onOpenChange:t,children:(0,n.jsxs)(Q.ZL,{children:[(0,n.jsx)(Q.hJ,{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0"}),(0,n.jsxs)(Q.UC,{className:"fixed left-1/2 top-[20%] z-50 w-full max-w-lg -translate-x-1/2 rounded-xl border border-border bg-card shadow-2xl data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=open]:slide-in-from-left-1/2",onKeyDown:e=>{switch(e.key){case"ArrowDown":e.preventDefault(),v(e=>Math.min(e+1,S.length-1));break;case"ArrowUp":e.preventDefault(),v(e=>Math.max(e-1,0));break;case"Enter":e.preventDefault(),S[p]&&S[p].action()}},children:[(0,n.jsxs)("div",{className:"flex items-center gap-3 border-b border-border px-4 py-3",children:[(0,n.jsx)(W.A,{className:"h-4 w-4 text-muted-foreground shrink-0"}),(0,n.jsx)(Q.hE,{className:"sr-only",children:"Command palette"}),(0,n.jsx)("input",{ref:y,value:m,onChange:e=>h(e.target.value),placeholder:"Type a command or search...",className:"flex-1 bg-transparent text-sm outline-none placeholder:text-muted-foreground",autoFocus:!0}),(0,n.jsx)("kbd",{className:"hidden sm:inline-flex h-5 items-center gap-1 rounded border border-border bg-muted px-1.5 font-mono text-[10px] text-muted-foreground",children:"esc"})]}),(0,n.jsx)("div",{ref:A,className:"max-h-[320px] overflow-y-auto overscroll-contain py-2",children:0===S.length?(0,n.jsx)("div",{className:"px-4 py-8 text-center",children:(0,n.jsxs)("p",{className:"text-sm text-muted-foreground",children:["No results for “",m,"”"]})}):Array.from(E.entries()).map(e=>{let[t,s]=e;return(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"px-4 py-1.5",children:(0,n.jsx)("p",{className:"text-[10px] font-medium uppercase tracking-wider text-muted-foreground",children:t})}),s.map(e=>{let t=++L,s=t===p;return(0,n.jsxs)("button",{"data-index":t,onClick:()=>e.action(),onMouseEnter:()=>v(t),className:(0,i.cn)("flex w-full items-center gap-3 px-4 py-2.5 text-left text-sm transition-colors",s?"bg-accent text-accent-foreground":"text-foreground hover:bg-accent/50"),children:[(0,n.jsx)(e.icon,{className:"h-4 w-4 shrink-0 text-muted-foreground"}),(0,n.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,n.jsx)("span",{className:"font-medium",children:e.label}),e.description&&(0,n.jsx)("span",{className:"ml-2 text-xs text-muted-foreground",children:e.description})]}),s&&(0,n.jsx)(et.A,{className:"h-3 w-3 text-muted-foreground shrink-0"})]},e.id)})]},t)})}),(0,n.jsxs)("div",{className:"flex items-center justify-between border-t border-border px-4 py-2",children:[(0,n.jsxs)("div",{className:"flex items-center gap-3 text-[10px] text-muted-foreground",children:[(0,n.jsxs)("span",{className:"flex items-center gap-1",children:[(0,n.jsx)("kbd",{className:"inline-flex h-4 items-center rounded border border-border bg-muted px-1 font-mono",children:"↑↓"}),"navigate"]}),(0,n.jsxs)("span",{className:"flex items-center gap-1",children:[(0,n.jsx)("kbd",{className:"inline-flex h-4 items-center rounded border border-border bg-muted px-1 font-mono",children:"↵"}),"select"]}),(0,n.jsxs)("span",{className:"flex items-center gap-1",children:[(0,n.jsx)("kbd",{className:"inline-flex h-4 items-center rounded border border-border bg-muted px-1 font-mono",children:"esc"}),"close"]})]}),(0,n.jsxs)("div",{className:"flex items-center gap-1 text-[10px] text-muted-foreground",children:[(0,n.jsx)(es.A,{className:"h-3 w-3"}),(0,n.jsx)("span",{children:"K"})]})]})]})]})})}let er=[{label:"Home",href:"/dashboard",icon:u.A},{label:"Agents",href:"/agents",icon:x.A},{label:"Chat",href:"/chat",icon:f.A},{label:"Skills",href:"/skills",icon:b.A},{label:"Settings",href:"/settings",icon:k.A}],ea=[{label:"Home",href:"/dashboard",icon:u.A},{label:"Agents",href:"/agents",icon:x.A},{label:"Chat",href:"/chat",icon:f.A},{label:"Settings",href:"/settings",icon:k.A}];function el(){let e=(0,o.usePathname)(),{level:t}=(0,d.B)();return(0,n.jsx)("nav",{className:"lg:hidden fixed bottom-0 left-0 right-0 z-40 border-t border-border bg-card/95 backdrop-blur-lg supports-[backdrop-filter]:bg-card/80 safe-bottom",children:(0,n.jsx)("div",{className:"flex items-center justify-around h-14 px-2",children:("beginner"===t?ea:er).map(t=>{let s=e.startsWith(t.href);return(0,n.jsxs)(l(),{href:t.href,className:(0,i.cn)("flex flex-col items-center justify-center gap-0.5 flex-1 h-full rounded-lg transition-colors",s?"text-primary":"text-muted-foreground active:text-foreground"),children:[(0,n.jsx)(t.icon,{className:(0,i.cn)("h-5 w-5 transition-transform",s&&"scale-110")}),(0,n.jsx)("span",{className:(0,i.cn)("text-[10px] font-medium leading-none",s&&"font-semibold"),children:t.label}),s&&(0,n.jsx)("div",{className:"absolute bottom-1 h-0.5 w-5 rounded-full bg-primary"})]},t.href)})})})}let eo=[{label:"Dashboard",href:"/dashboard",icon:u.A},{label:"Agents",href:"/agents",icon:x.A},{label:"Chat",href:"/chat",icon:f.A},{label:"Automations",href:"/cron",icon:g.A,minLevel:"standard"},{label:"Skills",href:"/skills",icon:b.A,minLevel:"standard"},{label:"Channels",href:"/channels",icon:j.A,minLevel:"standard"},{label:"Nodes",href:"/nodes",icon:N.A,minLevel:"standard"},{label:"Sessions",href:"/sessions",icon:w.A,minLevel:"expert"},{label:"Analytics",href:"/analytics",icon:w.A,minLevel:"standard"},{label:"Settings",href:"/settings",icon:k.A}];function ei(){let e=(0,o.usePathname)(),t=(0,c.n)(e=>e.sidebarMobileOpen),s=(0,c.n)(e=>e.setSidebarMobileOpen),{isAtLeast:r}=(0,d.B)(),a=eo.filter(e=>!e.minLevel||r(e.minLevel));return(0,n.jsx)(Q.bL,{open:t,onOpenChange:s,children:(0,n.jsxs)(Q.ZL,{children:[(0,n.jsx)(Q.hJ,{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0"}),(0,n.jsxs)(Q.UC,{className:"fixed inset-y-0 left-0 z-50 w-72 bg-sidebar border-r border-border shadow-xl data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left duration-300",children:[(0,n.jsx)(Q.hE,{className:"sr-only",children:"Navigation menu"}),(0,n.jsxs)("div",{className:"flex items-center justify-between h-14 px-4 border-b border-border",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-primary text-primary-foreground font-bold text-sm",children:"OC"}),(0,n.jsx)("span",{className:"font-semibold text-base tracking-tight text-sidebar-foreground",children:"OpenClaw"})]}),(0,n.jsx)(Q.bm,{asChild:!0,children:(0,n.jsx)("button",{className:"rounded-lg p-1.5 text-muted-foreground hover:bg-accent hover:text-foreground transition-colors","aria-label":"Close menu",children:(0,n.jsx)(R.A,{className:"h-5 w-5"})})})]}),(0,n.jsx)("nav",{className:"flex flex-col gap-1 p-3 overflow-y-auto max-h-[calc(100vh-3.5rem)]",children:a.map(t=>{let r=e.startsWith(t.href);return(0,n.jsxs)(l(),{href:t.href,onClick:()=>s(!1),className:(0,i.cn)("flex items-center gap-3 rounded-lg px-3 py-2.5 text-sm font-medium transition-colors",r?"bg-sidebar-accent text-accent-foreground":"text-muted-foreground hover:bg-accent hover:text-foreground"),children:[(0,n.jsx)(t.icon,{className:"h-5 w-5 shrink-0"}),(0,n.jsx)("span",{children:t.label})]},t.href)})})]})]})})}var ec=s(54790);let ed=[{keys:"⌘K",description:"Command palette"},{keys:"⌘B",description:"Toggle sidebar"},{keys:"⌘⇧N",description:"New agent"},{keys:"⌘1",description:"Dashboard"},{keys:"⌘2",description:"Agents"},{keys:"⌘3",description:"Chat"},{keys:"⌘4",description:"Automations"},{keys:"⌘5",description:"Skills"},{keys:"⌘6",description:"Settings"}];function em(e){let{open:t,onOpenChange:s}=e;return r.useEffect(()=>{let e=e=>{let t=e.target;"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName&&!t.isContentEditable&&("?"!==e.key||e.metaKey||e.ctrlKey||(e.preventDefault(),s(!0)))};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[s]),(0,n.jsx)(Q.bL,{open:t,onOpenChange:s,children:(0,n.jsxs)(Q.ZL,{children:[(0,n.jsx)(Q.hJ,{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0"}),(0,n.jsxs)(Q.UC,{className:"fixed left-1/2 top-1/2 z-50 w-full max-w-md -translate-x-1/2 -translate-y-1/2 rounded-xl border border-border bg-card shadow-2xl p-6 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(ec.A,{className:"h-5 w-5 text-muted-foreground"}),(0,n.jsx)(Q.hE,{className:"text-lg font-semibold",children:"Keyboard Shortcuts"})]}),(0,n.jsx)(Q.bm,{asChild:!0,children:(0,n.jsx)("button",{className:"rounded-lg p-1.5 text-muted-foreground hover:bg-accent hover:text-foreground transition-colors",children:(0,n.jsx)(R.A,{className:"h-4 w-4"})})})]}),(0,n.jsx)(Q.VY,{className:"sr-only",children:"List of keyboard shortcuts available in the application."}),(0,n.jsxs)("div",{className:"space-y-1",children:[ed.map(e=>(0,n.jsxs)("div",{className:"flex items-center justify-between py-2 px-2 rounded-md hover:bg-accent/50 transition-colors",children:[(0,n.jsx)("span",{className:"text-sm text-foreground",children:e.description}),(0,n.jsx)("kbd",{className:"inline-flex h-6 items-center rounded-md border border-border bg-muted px-2 font-mono text-xs text-muted-foreground",children:e.keys})]},e.keys)),(0,n.jsxs)("div",{className:"flex items-center justify-between py-2 px-2 rounded-md hover:bg-accent/50 transition-colors",children:[(0,n.jsx)("span",{className:"text-sm text-foreground",children:"Show this help"}),(0,n.jsx)("kbd",{className:"inline-flex h-6 items-center rounded-md border border-border bg-muted px-2 font-mono text-xs text-muted-foreground",children:"?"})]})]}),(0,n.jsxs)("p",{className:"text-[10px] text-muted-foreground mt-4 text-center",children:["Press ",(0,n.jsx)("kbd",{className:"font-mono",children:"?"})," anywhere to show shortcuts"]})]})]})})}var eh=s(7687),eu=s(43832),ex=s(20981);let ep={low:{bg:"bg-emerald-500/10",text:"text-emerald-600",border:"border-emerald-500/20"},medium:{bg:"bg-amber-500/10",text:"text-amber-600",border:"border-amber-500/20"},high:{bg:"bg-red-500/10",text:"text-red-600",border:"border-red-500/20"}};function ef(e){let{approval:t,onApprove:s,onDeny:r}=e,a=ep[t.risk];return(0,n.jsxs)("div",{className:"flex items-center gap-3 px-3 py-2 rounded-lg ".concat(a.bg," border ").concat(a.border),children:[(0,n.jsxs)("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[(0,n.jsx)("span",{className:"text-lg shrink-0",children:t.agentEmoji||"\uD83E\uDD16"}),(0,n.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("span",{className:"text-xs font-medium truncate",children:t.agentName||t.agentId}),(0,n.jsx)(T.E,{variant:"outline",className:"text-[10px] ".concat(a.text," ").concat(a.border),children:t.risk}),(0,n.jsxs)("span",{className:"text-[10px] text-muted-foreground flex items-center gap-1",children:[(0,n.jsx)(g.A,{className:"h-2.5 w-2.5"}),function(e){let t=Date.now()-e;return t<6e4?"just now":t<36e5?"".concat(Math.floor(t/6e4),"m ago"):"".concat(Math.floor(t/36e5),"h ago")}(t.requestedAt)]})]}),(0,n.jsxs)("p",{className:"text-[11px] text-muted-foreground truncate",children:[(0,n.jsx)("span",{className:"font-mono",children:t.tool}),t.description&&" — ".concat(t.description)]}),t.command&&(0,n.jsxs)("div",{className:"flex items-center gap-1 mt-1",children:[(0,n.jsx)(eh.A,{className:"h-2.5 w-2.5 text-muted-foreground shrink-0"}),(0,n.jsx)("code",{className:"text-[10px] font-mono text-muted-foreground truncate",children:t.command})]})]})]}),(0,n.jsxs)("div",{className:"flex items-center gap-1.5 shrink-0",children:[(0,n.jsx)(h.$,{size:"sm",variant:"outline",className:"h-7 px-2 text-xs hover:bg-destructive/10 hover:text-destructive hover:border-destructive/30",onClick:()=>r(t.id),children:(0,n.jsx)(R.A,{className:"h-3 w-3"})}),(0,n.jsxs)(h.$,{size:"sm",className:"h-7 px-3 text-xs",onClick:()=>s(t.id),children:[(0,n.jsx)(O.A,{className:"h-3 w-3 mr-1"}),"Approve"]})]})]})}function eg(){let e=(0,L.z)(e=>e.connected),t=(0,L.z)(e=>e.request),s=(0,L.z)(e=>e.addEventListener),[a,l]=r.useState([]),[o,i]=r.useState(!1),[c,d]=r.useState(!1);r.useEffect(()=>{if(!e)return;let n=s("exec.pending",e=>{l(t=>t.some(t=>t.id===e.id)?t:[...t,e]),d(!1)}),r=s("exec.resolved",e=>{l(t=>t.filter(t=>t.id!==e.id))});return t("exec.pending.list",{}).then(e=>{var t;(null==(t=e.pending)?void 0:t.length)&&l(e.pending)}).catch(()=>{}),()=>{n(),r()}},[e,s,t]);let m=async e=>{try{await t("exec.approve",{id:e}),l(t=>t.filter(t=>t.id!==e))}catch(e){console.error("Failed to approve:",e)}},u=async e=>{try{await t("exec.deny",{id:e}),l(t=>t.filter(t=>t.id!==e))}catch(e){console.error("Failed to deny:",e)}},x=async()=>{for(let e of a)try{await t("exec.approve",{id:e.id})}catch(e){}l([])};if(0===a.length||c)return null;let p=a.filter(e=>"high"===e.risk).length,f=o?a:a.slice(0,2);return(0,n.jsx)("div",{className:"sticky top-0 z-50 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/80 border-b border-border",children:(0,n.jsxs)("div",{className:"max-w-5xl mx-auto px-4 py-2.5",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)(U.A,{className:"h-4 w-4 text-primary"}),(0,n.jsx)("span",{className:"absolute -top-1 -right-1 h-3 w-3 bg-primary rounded-full flex items-center justify-center text-[8px] text-primary-foreground font-bold",children:a.length})]}),(0,n.jsxs)("span",{className:"text-sm font-medium",children:[a.length," pending approval",1!==a.length?"s":""]}),p>0&&(0,n.jsxs)(T.E,{variant:"outline",className:"text-[10px] bg-red-500/10 text-red-600 border-red-500/20",children:[(0,n.jsx)(M.A,{className:"h-2.5 w-2.5 mr-1"}),p," high risk"]})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[a.length>1&&(0,n.jsxs)(h.$,{size:"sm",variant:"outline",className:"h-7 text-xs",onClick:x,children:[(0,n.jsx)(O.A,{className:"h-3 w-3 mr-1"}),"Approve All"]}),a.length>2&&(0,n.jsx)("button",{onClick:()=>i(!o),className:"text-xs text-muted-foreground hover:text-foreground flex items-center gap-1",children:o?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(eu.A,{className:"h-3 w-3"}),"Collapse"]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(ex.A,{className:"h-3 w-3"}),"+",a.length-2," more"]})}),(0,n.jsx)("button",{onClick:()=>d(!0),className:"text-muted-foreground hover:text-foreground p-1 rounded",title:"Dismiss",children:(0,n.jsx)(R.A,{className:"h-3.5 w-3.5"})})]})]}),(0,n.jsx)("div",{className:"space-y-1.5",children:f.map(e=>(0,n.jsx)(ef,{approval:e,onApprove:m,onDeny:u},e.id))})]})})}var eb=s(65685),ev=s(46925);let ej={dashboard:"Dashboard",agents:"Agents",new:"New Agent",chat:"Chat",cron:"Automations",sessions:"Sessions",channels:"Channels",nodes:"Nodes",skills:"Skills",analytics:"Analytics",logs:"Logs",marketplace:"Marketplace",settings:"Settings",templates:"Templates",onboarding:"Setup"};function eN(){let e=(0,o.usePathname)().split("/").filter(Boolean);if(e.length<=1)return null;let t=e.map((t,s)=>{var n;let r="/"+e.slice(0,s+1).join("/"),a=null!=(n=ej[t])?n:t,l=s===e.length-1,o=s>0&&"agents"===e[s-1]&&"new"!==t;return{label:o?t:a,href:r,isLast:l,isId:o}});return(0,n.jsxs)("nav",{className:"flex items-center gap-1 text-xs text-muted-foreground px-6 py-2 border-b border-border/50 bg-muted/30",children:[(0,n.jsx)(l(),{href:"/dashboard",className:"hover:text-foreground transition-colors flex items-center gap-1",children:(0,n.jsx)(eb.A,{className:"h-3 w-3"})}),t.map(e=>(0,n.jsxs)(r.Fragment,{children:[(0,n.jsx)(ev.A,{className:"h-3 w-3 opacity-50"}),e.isLast?(0,n.jsx)("span",{className:"font-medium text-foreground ".concat(e.isId?"font-mono":""),children:e.label}):(0,n.jsx)(l(),{href:e.href,className:"hover:text-foreground transition-colors ".concat(e.isId?"font-mono":""),children:e.label})]},e.href))]})}var ew=s(88431),ey=s(40267);function ek(){let e=(0,L.z)(e=>e.connected),t=(0,L.z)(e=>e.connecting),s=(0,L.z)(e=>e.error),a=(0,L.z)(e=>e.connect),[l,o]=r.useState(!1),[i,c]=r.useState(!1);return(r.useEffect(()=>{e&&(o(!1),c(!1))},[e]),e||t||l)?null:(0,n.jsx)("div",{className:"bg-destructive/10 border-b border-destructive/20 px-4 py-2.5",children:(0,n.jsxs)("div",{className:"max-w-5xl mx-auto flex items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[(0,n.jsx)(Z.A,{className:"h-4 w-4 text-destructive shrink-0"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-sm font-medium text-destructive",children:"Gateway Disconnected"}),s&&(0,n.jsx)("p",{className:"text-xs text-destructive/80 mt-0.5",children:s})]})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsxs)(h.$,{variant:"outline",size:"sm",className:"h-7 text-xs border-destructive/20 text-destructive hover:bg-destructive/10",onClick:()=>{c(!0),a("ws://".concat(window.location.hostname,":18789")),setTimeout(()=>c(!1),5e3)},disabled:i,children:[i?(0,n.jsx)(ew.A,{className:"h-3 w-3 mr-1 animate-spin"}):(0,n.jsx)(ey.A,{className:"h-3 w-3 mr-1"}),"Retry"]}),(0,n.jsx)("button",{onClick:()=>o(!0),className:"p-1 rounded text-destructive/60 hover:text-destructive",children:(0,n.jsx)(R.A,{className:"h-3.5 w-3.5"})})]})]})})}function eA(e){let{children:t}=e,s=(0,o.useRouter)(),a=(0,c.n)(e=>e.setCommandPaletteOpen),l=(0,c.n)(e=>e.toggleSidebar);(0,r.useEffect)(()=>{let e=[{key:"1",meta:!0,action:()=>s.push("/dashboard"),description:"Go to Dashboard"},{key:"2",meta:!0,action:()=>s.push("/agents"),description:"Go to Agents"},{key:"3",meta:!0,action:()=>s.push("/chat"),description:"Go to Chat"},{key:"4",meta:!0,action:()=>s.push("/cron"),description:"Go to Automations"},{key:"5",meta:!0,action:()=>s.push("/skills"),description:"Go to Skills"},{key:"6",meta:!0,action:()=>s.push("/settings"),description:"Go to Settings"},{key:"b",meta:!0,action:l,description:"Toggle sidebar"},{key:"n",meta:!0,shift:!0,action:()=>s.push("/agents/new"),description:"New agent"}],t=t=>{let s=t.target;if("INPUT"!==s.tagName&&"TEXTAREA"!==s.tagName&&!s.isContentEditable)for(let s of e){let e=s.meta?t.metaKey||t.ctrlKey:!t.metaKey&&!t.ctrlKey,n=s.shift?t.shiftKey:!t.shiftKey;if(t.key===s.key&&e&&n){t.preventDefault(),s.action();return}}};return document.addEventListener("keydown",t),()=>document.removeEventListener("keydown",t)},[s,a,l]);let[i,d]=r.useState(!1);return(0,n.jsxs)("div",{className:"flex h-screen overflow-hidden",children:[(0,n.jsx)("div",{className:"hidden lg:flex",children:(0,n.jsx)(E,{})}),(0,n.jsxs)("div",{className:"flex flex-1 flex-col overflow-hidden",children:[(0,n.jsx)(X,{}),(0,n.jsx)(ek,{}),(0,n.jsx)(eg,{}),(0,n.jsx)(eN,{}),(0,n.jsx)("main",{className:"flex-1 overflow-auto pb-16 lg:pb-0",children:t})]}),(0,n.jsx)(el,{}),(0,n.jsx)(ei,{}),(0,n.jsx)(en,{}),(0,n.jsx)(em,{open:i,onOpenChange:d})]})}}},e=>{e.O(0,[329,684,390,298,705,522,358],()=>e(e.s=3601)),_N_E=e.O()}]);