(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[76],{3601:(e,t,n)=>{Promise.resolve().then(n.bind(n,73532))},19611:(e,t,n)=>{"use strict";n.d(t,{B:()=>l,Y:()=>a});var s=n(81180),r=n(4825);let a=(0,s.v)()((0,r.Zr)(e=>({level:"standard",detected:!1,onboardingCompleted:!1,setLevel:t=>e({level:t}),completeOnboarding:t=>e({level:t,detected:!0,onboardingCompleted:!0}),resetOnboarding:()=>e({level:"standard",detected:!1,onboardingCompleted:!1})}),{name:"openclaw-proficiency"}));function l(){let e=a(e=>e.level);return{level:e,isAtLeast:t=>{let n=["beginner","standard","expert"];return n.indexOf(e)>=n.indexOf(t)}}}},29068:(e,t,n)=>{"use strict";n.d(t,{z:()=>a});var s=n(81180);class r{start(){this.closed=!1,this.connect()}stop(){var e,t,n;this.closed=!0,this.reconnectTimer&&(clearTimeout(this.reconnectTimer),this.reconnectTimer=null),this.connectTimer&&(clearTimeout(this.connectTimer),this.connectTimer=null),null==(e=this.ws)||e.close(),this.ws=null,this.flushPending(Error("gateway client stopped")),null==(t=(n=this.opts).onConnectionChange)||t.call(n,!1)}get connected(){var e;return(null==(e=this.ws)?void 0:e.readyState)===WebSocket.OPEN}connect(){if(!this.closed){try{this.ws=new WebSocket(this.opts.url)}catch(e){this.scheduleReconnect();return}this.ws.addEventListener("open",()=>this.queueConnect()),this.ws.addEventListener("message",e=>{var t;return this.handleMessage(String(null!=(t=e.data)?t:""))}),this.ws.addEventListener("close",e=>{var t,n,s,r,a;let l=String(null!=(a=e.reason)?a:"");this.ws=null,this.flushPending(Error("gateway closed (".concat(e.code,"): ").concat(l))),null==(t=(n=this.opts).onClose)||t.call(n,{code:e.code,reason:l}),null==(s=(r=this.opts).onConnectionChange)||s.call(r,!1),this.scheduleReconnect()}),this.ws.addEventListener("error",()=>{})}}scheduleReconnect(){if(this.closed)return;let e=this.backoffMs;this.backoffMs=Math.min(1.7*this.backoffMs,15e3),this.reconnectTimer=setTimeout(()=>this.connect(),e)}flushPending(e){for(let[,t]of this.pending)t.timeoutId&&clearTimeout(t.timeoutId),t.reject(e);this.pending.clear()}sendConnect(){var e;if(this.connectSent)return;this.connectSent=!0,null!==this.connectTimer&&(clearTimeout(this.connectTimer),this.connectTimer=null);let t=this.opts.token||this.opts.password?{token:this.opts.token,password:this.opts.password}:void 0,n={minProtocol:3,maxProtocol:3,client:{id:"control-ui-horizon",version:"0.1.0",platform:"undefined"!=typeof navigator&&null!=(e=navigator.platform)?e:"web",mode:"webchat",instanceId:this.opts.instanceId},role:"operator",scopes:["operator.admin","operator.approvals","operator.pairing"],caps:["tool-events"],auth:t,locale:"undefined"!=typeof navigator?navigator.language:"en",userAgent:"undefined"!=typeof navigator?navigator.userAgent:""};this.request("connect",n).then(e=>{var t,n,s,r;this.backoffMs=800,null==(t=(n=this.opts).onConnectionChange)||t.call(n,!0),null==(s=(r=this.opts).onHello)||s.call(r,e)}).catch(()=>{var e;null==(e=this.ws)||e.close(4008,"connect failed")})}handleMessage(e){var t,n,s,r,a,l,o,i;let d;try{d=JSON.parse(e)}catch(e){return}let c=d;if("event"===c.type){let e=d;if("connect.challenge"===e.event){let t=e.payload,n=t&&"string"==typeof t.nonce?t.nonce:null;n&&(this.connectNonce=n,this.sendConnect());return}let a="number"==typeof e.seq?e.seq:null;null!==a&&(null!==this.lastSeq&&a>this.lastSeq+1&&(null==(t=(n=this.opts).onGap)||t.call(n,{expected:this.lastSeq+1,received:a})),this.lastSeq=a);try{null==(s=(r=this.opts).onEvent)||s.call(r,e)}catch(e){console.error("[gateway] event handler error:",e)}return}if("res"===c.type){let e=d,t=this.pending.get(e.id);if(!t)return;if(this.pending.delete(e.id),t.timeoutId&&clearTimeout(t.timeoutId),e.ok)t.resolve(e.payload);else{let n=Error(null!=(i=null==(a=e.error)?void 0:a.message)?i:"request failed");n.code=null==(l=e.error)?void 0:l.code,n.details=null==(o=e.error)?void 0:o.details,t.reject(n)}return}}request(e,t){var n,s,r;let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e4;if(!this.ws||this.ws.readyState!==WebSocket.OPEN)return Promise.reject(Error("gateway not connected"));let l=null!=(r=null==(n=(s=crypto).randomUUID)?void 0:n.call(s))?r:Math.random().toString(36).slice(2,10),o=new Promise((t,n)=>{let s=setTimeout(()=>{this.pending.delete(l),n(Error("request '".concat(e,"' timed out after ").concat(a,"ms")))},a);this.pending.set(l,{resolve:e=>t(e),reject:n,timeoutId:s})});return this.ws.send(JSON.stringify({type:"req",id:l,method:e,params:t})),o}queueConnect(){this.connectNonce=null,this.connectSent=!1,null!==this.connectTimer&&clearTimeout(this.connectTimer),this.connectTimer=setTimeout(()=>{this.sendConnect()},750)}constructor(e){this.opts=e,this.ws=null,this.pending=new Map,this.closed=!1,this.lastSeq=null,this.connectNonce=null,this.connectSent=!1,this.connectTimer=null,this.backoffMs=800,this.reconnectTimer=null}}let a=(0,s.v)((e,t)=>({connected:!1,connecting:!1,error:null,client:null,hello:null,snapshot:null,eventListeners:new Map,connect:(n,s)=>{let a=t().client;a&&a.stop(),e({connecting:!0,error:null});let l=new r({url:n,token:null==s?void 0:s.token,password:null==s?void 0:s.password,instanceId:null==s?void 0:s.instanceId,onHello:t=>{var n;e({connected:!0,connecting:!1,hello:t,snapshot:null!=(n=t.snapshot)?n:null,error:null})},onEvent:e=>{let n=t().eventListeners.get(e.event);if(n)for(let t of n)try{t(e.payload)}catch(t){console.error("[gateway] event handler error for ".concat(e.event,":"),t)}let s=t().eventListeners.get("*");if(s)for(let t of s)try{t(e)}catch(e){console.error("[gateway] wildcard handler error:",e)}},onClose:()=>{e({connected:!1})},onConnectionChange:t=>{e({connected:t,connecting:!1})}});e({client:l}),l.start()},disconnect:()=>{let n=t().client;n&&(n.stop(),e({client:null,connected:!1,connecting:!1,hello:null,snapshot:null}))},request:async(e,n)=>{let s=t().client;if(!s)throw Error("Gateway not connected");return s.request(e,n)},addEventListener:(n,s)=>{let r=t().eventListeners;return r.has(n)||r.set(n,new Set),r.get(n).add(s),e({eventListeners:new Map(r)}),()=>{var r;let a=t().eventListeners;null==(r=a.get(n))||r.delete(s),e({eventListeners:new Map(a)})}}}))},32824:(e,t,n)=>{"use strict";n.d(t,{cn:()=>a});var s=n(66862),r=n(7589);function a(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,r.QP)((0,s.$)(t))}},44446:(e,t,n)=>{"use strict";n.d(t,{F:()=>o});var s=n(80534),r=n(74166),a=n(94152),l=n(32824);let o=r.forwardRef((e,t)=>{let{className:n,children:r,...o}=e;return(0,s.jsxs)(a.bL,{ref:t,className:(0,l.cn)("relative overflow-hidden",n),...o,children:[(0,s.jsx)(a.LM,{className:"h-full w-full rounded-[inherit]",children:r}),(0,s.jsx)(i,{}),(0,s.jsx)(a.OK,{})]})});o.displayName="ScrollArea";let i=r.forwardRef((e,t)=>{let{className:n,orientation:r="vertical",...o}=e;return(0,s.jsx)(a.VM,{ref:t,orientation:r,className:(0,l.cn)("flex touch-none select-none transition-colors","vertical"===r&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===r&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",n),...o,children:(0,s.jsx)(a.lr,{className:"relative flex-1 rounded-full bg-border"})})});i.displayName="ScrollBar"},69824:(e,t,n)=>{"use strict";n.d(t,{n:()=>a});var s=n(81180),r=n(4825);let a=(0,s.v)()((0,r.Zr)(e=>({theme:"system",resolvedTheme:"dark",sidebarCollapsed:!1,sidebarMobileOpen:!1,commandPaletteOpen:!1,setTheme:t=>e({theme:t}),setResolvedTheme:t=>e({resolvedTheme:t}),toggleSidebar:()=>e(e=>({sidebarCollapsed:!e.sidebarCollapsed})),setSidebarCollapsed:t=>e({sidebarCollapsed:t}),setSidebarMobileOpen:t=>e({sidebarMobileOpen:t}),setCommandPaletteOpen:t=>e({commandPaletteOpen:t})}),{name:"openclaw-ui",partialize:e=>({theme:e.theme,sidebarCollapsed:e.sidebarCollapsed})}))},73532:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>em});var s=n(80534),r=n(74166),a=n(28968),l=n.n(a),o=n(99197),i=n(32824),d=n(69824),c=n(19611),m=n(44446),h=n(86719),u=n(52932),x=n(77876),p=n(56522),f=n(8118),g=n(62907),b=n(74350),v=n(10124),j=n(46920),y=n(92624),N=n(48106),w=n(58046),k=n(22866),A=n(75982),C=n(54082);let S=[{label:"Dashboard",href:"/dashboard",icon:u.A},{label:"Agents",href:"/agents",icon:x.A},{label:"Templates",href:"/templates",icon:p.A},{label:"Chat",href:"/chat",icon:f.A},{label:"Automations",href:"/cron",icon:g.A,minLevel:"standard"},{label:"Skills",href:"/skills",icon:b.A,minLevel:"standard"},{label:"Marketplace",href:"/marketplace",icon:v.A,minLevel:"standard"},{label:"Channels",href:"/channels",icon:j.A,minLevel:"standard"},{label:"Nodes",href:"/nodes",icon:y.A,minLevel:"standard"},{label:"Sessions",href:"/sessions",icon:N.A,minLevel:"expert"},{label:"Analytics",href:"/analytics",icon:N.A,minLevel:"standard"},{label:"Logs",href:"/logs",icon:w.A,minLevel:"expert"},{label:"Settings",href:"/settings",icon:k.A}];function L(){let e=(0,o.usePathname)(),t=(0,d.n)(e=>e.sidebarCollapsed),n=(0,d.n)(e=>e.toggleSidebar),{level:r,isAtLeast:a}=(0,c.B)(),u=S.filter(e=>!e.minLevel||a(e.minLevel));return(0,s.jsxs)("aside",{className:(0,i.cn)("flex flex-col border-r border-border bg-sidebar text-sidebar-foreground transition-all duration-300 ease-in-out",t?"w-16":"w-64"),children:[(0,s.jsx)("div",{className:(0,i.cn)("flex items-center h-14 px-4 border-b border-border",t&&"justify-center"),children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-primary text-primary-foreground font-bold text-sm",children:"OC"}),!t&&(0,s.jsx)("span",{className:"font-semibold text-base tracking-tight",children:"OpenClaw"})]})}),(0,s.jsx)(m.F,{className:"flex-1 py-2",children:(0,s.jsx)("nav",{className:"flex flex-col gap-1 px-2",children:u.map(n=>{let r=e.startsWith(n.href);return(0,s.jsxs)(l(),{href:n.href,className:(0,i.cn)("flex items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium transition-colors",r?"bg-sidebar-accent text-accent-foreground":"text-muted-foreground hover:bg-accent hover:text-foreground",t&&"justify-center px-0"),title:t?n.label:void 0,children:[(0,s.jsx)(n.icon,{className:"h-5 w-5 shrink-0"}),!t&&(0,s.jsx)("span",{children:n.label})]},n.href)})})}),(0,s.jsx)("div",{className:"border-t border-border p-2",children:(0,s.jsx)(h.$,{variant:"ghost",size:"icon-sm",onClick:n,className:"w-full flex items-center justify-center","aria-label":t?"Expand sidebar":"Collapse sidebar",children:t?(0,s.jsx)(A.A,{className:"h-4 w-4"}):(0,s.jsx)(C.A,{className:"h-4 w-4"})})})]})}var E=n(29068),T=n(75968),M=n(22536),O=n(85354),z=n(8090),P=n(29511),q=n(43362),D=n(60743),I=n(69776),K=n(15919),R=n(55002),B=n(82806);let U={beginner:{label:"Simple",icon:M.A},standard:{label:"Standard",icon:O.A},expert:{label:"Expert",icon:z.A}};function F(){let e=(0,E.z)(e=>e.connected),t=(0,E.z)(e=>e.connecting),n=(0,E.z)(e=>e.snapshot),r=(0,d.n)(e=>e.theme),a=(0,d.n)(e=>e.setTheme),l=(0,d.n)(e=>e.setCommandPaletteOpen),o=(0,d.n)(e=>e.setSidebarMobileOpen),i=(0,c.Y)(e=>e.level),m=(0,c.Y)(e=>e.setLevel),u="light"===r?P.A:"dark"===r?q.A:D.A,x=U[i];return(0,s.jsxs)("header",{className:"flex h-14 items-center justify-between border-b border-border bg-background px-4 gap-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(h.$,{variant:"ghost",size:"icon-sm",className:"lg:hidden",onClick:()=>o(!0),"aria-label":"Open menu",children:(0,s.jsx)(I.A,{className:"h-5 w-5"})}),(0,s.jsxs)(h.$,{variant:"outline",size:"sm",className:"hidden sm:flex items-center gap-2 text-muted-foreground w-64",onClick:()=>l(!0),children:[(0,s.jsx)(K.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"text-xs",children:"Search or run command..."}),(0,s.jsx)("kbd",{className:"ml-auto text-[10px] bg-muted px-1.5 py-0.5 rounded",children:"⌘K"})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"flex items-center gap-1.5",children:e?(0,s.jsxs)(T.E,{variant:"success",className:"gap-1 text-[10px]",children:[(0,s.jsx)(R.A,{className:"h-3 w-3"}),(0,s.jsx)("span",{className:"hidden sm:inline",children:"Connected"})]}):t?(0,s.jsxs)(T.E,{variant:"warning",className:"gap-1 text-[10px]",children:[(0,s.jsx)(R.A,{className:"h-3 w-3 animate-pulse"}),(0,s.jsx)("span",{className:"hidden sm:inline",children:"Connecting..."})]}):(0,s.jsxs)(T.E,{variant:"destructive",className:"gap-1 text-[10px]",children:[(0,s.jsx)(B.A,{className:"h-3 w-3"}),(0,s.jsx)("span",{className:"hidden sm:inline",children:"Disconnected"})]})}),(null==n?void 0:n.updateAvailable)&&(0,s.jsxs)(T.E,{variant:"outline",className:"text-[10px]",children:["Update: ",n.updateAvailable.latestVersion]}),(0,s.jsxs)(h.$,{variant:"ghost",size:"sm",onClick:()=>{let e=["beginner","standard","expert"],t=e.indexOf(i);m(e[(t+1)%3])},className:"gap-1.5 text-xs text-muted-foreground",title:"Interface mode: ".concat(x.label,". Click to cycle."),children:[(0,s.jsx)(x.icon,{className:"h-3.5 w-3.5"}),(0,s.jsx)("span",{className:"hidden md:inline",children:x.label})]}),(0,s.jsx)(h.$,{variant:"ghost",size:"icon-sm",onClick:()=>{a("light"===r?"dark":"dark"===r?"system":"light")},"aria-label":"Theme: ".concat(r),children:(0,s.jsx)(u,{className:"h-4 w-4"})})]})]})}var $=n(4356),G=n(60155),V=n(25585),Y=n(91144);function W(){let e=(0,d.n)(e=>e.commandPaletteOpen),t=(0,d.n)(e=>e.setCommandPaletteOpen);(0,d.n)(e=>e.theme);let n=(0,d.n)(e=>e.setTheme);(0,E.z)(e=>e.connected);let{isAtLeast:a}=(0,c.B)(),l=(0,o.useRouter)(),[m,h]=r.useState(""),[p,v]=r.useState(0),w=r.useRef(null),A=r.useRef(null);r.useEffect(()=>{let n=n=>{(n.metaKey||n.ctrlKey)&&"k"===n.key&&(n.preventDefault(),t(!e))};return document.addEventListener("keydown",n),()=>document.removeEventListener("keydown",n)},[e,t]);let C=r.useMemo(()=>{let e=(e,n,s,r,a)=>({id:"nav-".concat(n),label:e,description:null!=r?r:"Go to ".concat(e),icon:s,section:"Navigation",keywords:[n.replace("/","")],action:()=>{l.push(n),t(!1)},minLevel:a});return[e("Dashboard","/dashboard",u.A,"Overview and quick stats"),e("Agents","/agents",x.A,"View all agents"),e("Chat","/chat",f.A,"Chat with agents"),e("Automations","/cron",g.A,"Scheduled jobs & cron","standard"),e("Skills","/skills",b.A,"Browse skill marketplace","standard"),e("Channels","/channels",j.A,"Messaging channels","standard"),e("Nodes","/nodes",y.A,"Connected devices","standard"),e("Templates","/templates",x.A,"Browse agent templates"),e("Sessions","/sessions",N.A,"Session management","expert"),e("Analytics","/analytics",N.A,"Usage analytics","standard"),e("Onboarding","/onboarding",M.A,"Re-run setup wizard"),e("Settings","/settings",k.A,"App configuration"),{id:"action-new-agent",label:"Create New Agent",description:"Start the agent builder wizard",icon:G.A,section:"Actions",keywords:["new","create","add","agent","build"],action:()=>{l.push("/agents/new"),t(!1)}},{id:"theme-light",label:"Switch to Light Mode",icon:P.A,section:"Appearance",keywords:["theme","light","bright"],action:()=>{n("light"),t(!1)}},{id:"theme-dark",label:"Switch to Dark Mode",icon:q.A,section:"Appearance",keywords:["theme","dark","night"],action:()=>{n("dark"),t(!1)}},{id:"theme-system",label:"Use System Theme",icon:D.A,section:"Appearance",keywords:["theme","system","auto"],action:()=>{n("system"),t(!1)}},{id:"prof-beginner",label:"Simple Mode",description:"Minimal options, guided experience",icon:M.A,section:"Interface",keywords:["proficiency","simple","beginner","easy"],action:()=>{c.Y.getState().setLevel("beginner"),t(!1)}},{id:"prof-standard",label:"Standard Mode",description:"Balanced feature set",icon:O.A,section:"Interface",keywords:["proficiency","standard","normal"],action:()=>{c.Y.getState().setLevel("standard"),t(!1)}},{id:"prof-expert",label:"Expert Mode",description:"Full access, dense layouts",icon:z.A,section:"Interface",keywords:["proficiency","expert","advanced","power"],action:()=>{c.Y.getState().setLevel("expert"),t(!1)}}].filter(e=>!e.minLevel||a(e.minLevel))},[l,t,n,a]),S=r.useMemo(()=>{if(!m.trim())return C;let e=m.toLowerCase();return C.filter(t=>{var n,s;return t.label.toLowerCase().includes(e)||(null==(n=t.description)?void 0:n.toLowerCase().includes(e))||(null==(s=t.keywords)?void 0:s.some(t=>t.includes(e)))})},[C,m]),L=r.useMemo(()=>{let e=new Map;for(let n of S){var t;let s=null!=(t=e.get(n.section))?t:[];s.push(n),e.set(n.section,s)}return e},[S]);r.useEffect(()=>{v(0)},[m]),r.useEffect(()=>{var e;let t=null==(e=A.current)?void 0:e.querySelector('[data-index="'.concat(p,'"]'));t&&t.scrollIntoView({block:"nearest"})},[p]),r.useEffect(()=>{e||(h(""),v(0))},[e]);let T=-1;return(0,s.jsx)($.bL,{open:e,onOpenChange:t,children:(0,s.jsxs)($.ZL,{children:[(0,s.jsx)($.hJ,{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0"}),(0,s.jsxs)($.UC,{className:"fixed left-1/2 top-[20%] z-50 w-full max-w-lg -translate-x-1/2 rounded-xl border border-border bg-card shadow-2xl data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=open]:slide-in-from-left-1/2",onKeyDown:e=>{switch(e.key){case"ArrowDown":e.preventDefault(),v(e=>Math.min(e+1,S.length-1));break;case"ArrowUp":e.preventDefault(),v(e=>Math.max(e-1,0));break;case"Enter":e.preventDefault(),S[p]&&S[p].action()}},children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 border-b border-border px-4 py-3",children:[(0,s.jsx)(K.A,{className:"h-4 w-4 text-muted-foreground shrink-0"}),(0,s.jsx)($.hE,{className:"sr-only",children:"Command palette"}),(0,s.jsx)("input",{ref:w,value:m,onChange:e=>h(e.target.value),placeholder:"Type a command or search...",className:"flex-1 bg-transparent text-sm outline-none placeholder:text-muted-foreground",autoFocus:!0}),(0,s.jsx)("kbd",{className:"hidden sm:inline-flex h-5 items-center gap-1 rounded border border-border bg-muted px-1.5 font-mono text-[10px] text-muted-foreground",children:"esc"})]}),(0,s.jsx)("div",{ref:A,className:"max-h-[320px] overflow-y-auto overscroll-contain py-2",children:0===S.length?(0,s.jsx)("div",{className:"px-4 py-8 text-center",children:(0,s.jsxs)("p",{className:"text-sm text-muted-foreground",children:["No results for “",m,"”"]})}):Array.from(L.entries()).map(e=>{let[t,n]=e;return(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"px-4 py-1.5",children:(0,s.jsx)("p",{className:"text-[10px] font-medium uppercase tracking-wider text-muted-foreground",children:t})}),n.map(e=>{let t=++T,n=t===p;return(0,s.jsxs)("button",{"data-index":t,onClick:()=>e.action(),onMouseEnter:()=>v(t),className:(0,i.cn)("flex w-full items-center gap-3 px-4 py-2.5 text-left text-sm transition-colors",n?"bg-accent text-accent-foreground":"text-foreground hover:bg-accent/50"),children:[(0,s.jsx)(e.icon,{className:"h-4 w-4 shrink-0 text-muted-foreground"}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("span",{className:"font-medium",children:e.label}),e.description&&(0,s.jsx)("span",{className:"ml-2 text-xs text-muted-foreground",children:e.description})]}),n&&(0,s.jsx)(V.A,{className:"h-3 w-3 text-muted-foreground shrink-0"})]},e.id)})]},t)})}),(0,s.jsxs)("div",{className:"flex items-center justify-between border-t border-border px-4 py-2",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 text-[10px] text-muted-foreground",children:[(0,s.jsxs)("span",{className:"flex items-center gap-1",children:[(0,s.jsx)("kbd",{className:"inline-flex h-4 items-center rounded border border-border bg-muted px-1 font-mono",children:"↑↓"}),"navigate"]}),(0,s.jsxs)("span",{className:"flex items-center gap-1",children:[(0,s.jsx)("kbd",{className:"inline-flex h-4 items-center rounded border border-border bg-muted px-1 font-mono",children:"↵"}),"select"]}),(0,s.jsxs)("span",{className:"flex items-center gap-1",children:[(0,s.jsx)("kbd",{className:"inline-flex h-4 items-center rounded border border-border bg-muted px-1 font-mono",children:"esc"}),"close"]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-1 text-[10px] text-muted-foreground",children:[(0,s.jsx)(Y.A,{className:"h-3 w-3"}),(0,s.jsx)("span",{children:"K"})]})]})]})]})})}let _=[{label:"Home",href:"/dashboard",icon:u.A},{label:"Agents",href:"/agents",icon:x.A},{label:"Chat",href:"/chat",icon:f.A},{label:"Skills",href:"/skills",icon:b.A},{label:"Settings",href:"/settings",icon:k.A}],J=[{label:"Home",href:"/dashboard",icon:u.A},{label:"Agents",href:"/agents",icon:x.A},{label:"Chat",href:"/chat",icon:f.A},{label:"Settings",href:"/settings",icon:k.A}];function Z(){let e=(0,o.usePathname)(),{level:t}=(0,c.B)();return(0,s.jsx)("nav",{className:"lg:hidden fixed bottom-0 left-0 right-0 z-40 border-t border-border bg-card/95 backdrop-blur-lg supports-[backdrop-filter]:bg-card/80 safe-bottom",children:(0,s.jsx)("div",{className:"flex items-center justify-around h-14 px-2",children:("beginner"===t?J:_).map(t=>{let n=e.startsWith(t.href);return(0,s.jsxs)(l(),{href:t.href,className:(0,i.cn)("flex flex-col items-center justify-center gap-0.5 flex-1 h-full rounded-lg transition-colors",n?"text-primary":"text-muted-foreground active:text-foreground"),children:[(0,s.jsx)(t.icon,{className:(0,i.cn)("h-5 w-5 transition-transform",n&&"scale-110")}),(0,s.jsx)("span",{className:(0,i.cn)("text-[10px] font-medium leading-none",n&&"font-semibold"),children:t.label}),n&&(0,s.jsx)("div",{className:"absolute bottom-1 h-0.5 w-5 rounded-full bg-primary"})]},t.href)})})})}var H=n(609);let X=[{label:"Dashboard",href:"/dashboard",icon:u.A},{label:"Agents",href:"/agents",icon:x.A},{label:"Chat",href:"/chat",icon:f.A},{label:"Automations",href:"/cron",icon:g.A,minLevel:"standard"},{label:"Skills",href:"/skills",icon:b.A,minLevel:"standard"},{label:"Channels",href:"/channels",icon:j.A,minLevel:"standard"},{label:"Nodes",href:"/nodes",icon:y.A,minLevel:"standard"},{label:"Sessions",href:"/sessions",icon:N.A,minLevel:"expert"},{label:"Analytics",href:"/analytics",icon:N.A,minLevel:"standard"},{label:"Settings",href:"/settings",icon:k.A}];function Q(){let e=(0,o.usePathname)(),t=(0,d.n)(e=>e.sidebarMobileOpen),n=(0,d.n)(e=>e.setSidebarMobileOpen),{isAtLeast:r}=(0,c.B)(),a=X.filter(e=>!e.minLevel||r(e.minLevel));return(0,s.jsx)($.bL,{open:t,onOpenChange:n,children:(0,s.jsxs)($.ZL,{children:[(0,s.jsx)($.hJ,{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0"}),(0,s.jsxs)($.UC,{className:"fixed inset-y-0 left-0 z-50 w-72 bg-sidebar border-r border-border shadow-xl data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left duration-300",children:[(0,s.jsx)($.hE,{className:"sr-only",children:"Navigation menu"}),(0,s.jsxs)("div",{className:"flex items-center justify-between h-14 px-4 border-b border-border",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-primary text-primary-foreground font-bold text-sm",children:"OC"}),(0,s.jsx)("span",{className:"font-semibold text-base tracking-tight text-sidebar-foreground",children:"OpenClaw"})]}),(0,s.jsx)($.bm,{asChild:!0,children:(0,s.jsx)("button",{className:"rounded-lg p-1.5 text-muted-foreground hover:bg-accent hover:text-foreground transition-colors","aria-label":"Close menu",children:(0,s.jsx)(H.A,{className:"h-5 w-5"})})})]}),(0,s.jsx)("nav",{className:"flex flex-col gap-1 p-3 overflow-y-auto max-h-[calc(100vh-3.5rem)]",children:a.map(t=>{let r=e.startsWith(t.href);return(0,s.jsxs)(l(),{href:t.href,onClick:()=>n(!1),className:(0,i.cn)("flex items-center gap-3 rounded-lg px-3 py-2.5 text-sm font-medium transition-colors",r?"bg-sidebar-accent text-accent-foreground":"text-muted-foreground hover:bg-accent hover:text-foreground"),children:[(0,s.jsx)(t.icon,{className:"h-5 w-5 shrink-0"}),(0,s.jsx)("span",{children:t.label})]},t.href)})})]})]})})}var ee=n(54790);let et=[{keys:"⌘K",description:"Command palette"},{keys:"⌘B",description:"Toggle sidebar"},{keys:"⌘⇧N",description:"New agent"},{keys:"⌘1",description:"Dashboard"},{keys:"⌘2",description:"Agents"},{keys:"⌘3",description:"Chat"},{keys:"⌘4",description:"Automations"},{keys:"⌘5",description:"Skills"},{keys:"⌘6",description:"Settings"}];function en(e){let{open:t,onOpenChange:n}=e;return r.useEffect(()=>{let e=e=>{let t=e.target;"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName&&!t.isContentEditable&&("?"!==e.key||e.metaKey||e.ctrlKey||(e.preventDefault(),n(!0)))};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[n]),(0,s.jsx)($.bL,{open:t,onOpenChange:n,children:(0,s.jsxs)($.ZL,{children:[(0,s.jsx)($.hJ,{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0"}),(0,s.jsxs)($.UC,{className:"fixed left-1/2 top-1/2 z-50 w-full max-w-md -translate-x-1/2 -translate-y-1/2 rounded-xl border border-border bg-card shadow-2xl p-6 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(ee.A,{className:"h-5 w-5 text-muted-foreground"}),(0,s.jsx)($.hE,{className:"text-lg font-semibold",children:"Keyboard Shortcuts"})]}),(0,s.jsx)($.bm,{asChild:!0,children:(0,s.jsx)("button",{className:"rounded-lg p-1.5 text-muted-foreground hover:bg-accent hover:text-foreground transition-colors",children:(0,s.jsx)(H.A,{className:"h-4 w-4"})})})]}),(0,s.jsx)($.VY,{className:"sr-only",children:"List of keyboard shortcuts available in the application."}),(0,s.jsxs)("div",{className:"space-y-1",children:[et.map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between py-2 px-2 rounded-md hover:bg-accent/50 transition-colors",children:[(0,s.jsx)("span",{className:"text-sm text-foreground",children:e.description}),(0,s.jsx)("kbd",{className:"inline-flex h-6 items-center rounded-md border border-border bg-muted px-2 font-mono text-xs text-muted-foreground",children:e.keys})]},e.keys)),(0,s.jsxs)("div",{className:"flex items-center justify-between py-2 px-2 rounded-md hover:bg-accent/50 transition-colors",children:[(0,s.jsx)("span",{className:"text-sm text-foreground",children:"Show this help"}),(0,s.jsx)("kbd",{className:"inline-flex h-6 items-center rounded-md border border-border bg-muted px-2 font-mono text-xs text-muted-foreground",children:"?"})]})]}),(0,s.jsxs)("p",{className:"text-[10px] text-muted-foreground mt-4 text-center",children:["Press ",(0,s.jsx)("kbd",{className:"font-mono",children:"?"})," anywhere to show shortcuts"]})]})]})})}var es=n(7687),er=n(44105),ea=n(88092),el=n(43832),eo=n(20981);let ei={low:{bg:"bg-emerald-500/10",text:"text-emerald-600",border:"border-emerald-500/20"},medium:{bg:"bg-amber-500/10",text:"text-amber-600",border:"border-amber-500/20"},high:{bg:"bg-red-500/10",text:"text-red-600",border:"border-red-500/20"}};function ed(e){let{approval:t,onApprove:n,onDeny:r}=e,a=ei[t.risk];return(0,s.jsxs)("div",{className:"flex items-center gap-3 px-3 py-2 rounded-lg ".concat(a.bg," border ").concat(a.border),children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[(0,s.jsx)("span",{className:"text-lg shrink-0",children:t.agentEmoji||"\uD83E\uDD16"}),(0,s.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"text-xs font-medium truncate",children:t.agentName||t.agentId}),(0,s.jsx)(T.E,{variant:"outline",className:"text-[10px] ".concat(a.text," ").concat(a.border),children:t.risk}),(0,s.jsxs)("span",{className:"text-[10px] text-muted-foreground flex items-center gap-1",children:[(0,s.jsx)(g.A,{className:"h-2.5 w-2.5"}),function(e){let t=Date.now()-e;return t<6e4?"just now":t<36e5?"".concat(Math.floor(t/6e4),"m ago"):"".concat(Math.floor(t/36e5),"h ago")}(t.requestedAt)]})]}),(0,s.jsxs)("p",{className:"text-[11px] text-muted-foreground truncate",children:[(0,s.jsx)("span",{className:"font-mono",children:t.tool}),t.description&&" — ".concat(t.description)]}),t.command&&(0,s.jsxs)("div",{className:"flex items-center gap-1 mt-1",children:[(0,s.jsx)(es.A,{className:"h-2.5 w-2.5 text-muted-foreground shrink-0"}),(0,s.jsx)("code",{className:"text-[10px] font-mono text-muted-foreground truncate",children:t.command})]})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-1.5 shrink-0",children:[(0,s.jsx)(h.$,{size:"sm",variant:"outline",className:"h-7 px-2 text-xs hover:bg-destructive/10 hover:text-destructive hover:border-destructive/30",onClick:()=>r(t.id),children:(0,s.jsx)(H.A,{className:"h-3 w-3"})}),(0,s.jsxs)(h.$,{size:"sm",className:"h-7 px-3 text-xs",onClick:()=>n(t.id),children:[(0,s.jsx)(er.A,{className:"h-3 w-3 mr-1"}),"Approve"]})]})]})}function ec(){let e=(0,E.z)(e=>e.connected),t=(0,E.z)(e=>e.request),n=(0,E.z)(e=>e.addEventListener),[a,l]=r.useState([]),[o,i]=r.useState(!1),[d,c]=r.useState(!1);r.useEffect(()=>{if(!e)return;let s=n("exec.pending",e=>{l(t=>t.some(t=>t.id===e.id)?t:[...t,e]),c(!1)}),r=n("exec.resolved",e=>{l(t=>t.filter(t=>t.id!==e.id))});return t("exec.pending.list",{}).then(e=>{var t;(null==(t=e.pending)?void 0:t.length)&&l(e.pending)}).catch(()=>{}),()=>{s(),r()}},[e,n,t]);let m=async e=>{try{await t("exec.approve",{id:e}),l(t=>t.filter(t=>t.id!==e))}catch(e){console.error("Failed to approve:",e)}},u=async e=>{try{await t("exec.deny",{id:e}),l(t=>t.filter(t=>t.id!==e))}catch(e){console.error("Failed to deny:",e)}},x=async()=>{for(let e of a)try{await t("exec.approve",{id:e.id})}catch(e){}l([])};if(0===a.length||d)return null;let p=a.filter(e=>"high"===e.risk).length,f=o?a:a.slice(0,2);return(0,s.jsx)("div",{className:"sticky top-0 z-50 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/80 border-b border-border",children:(0,s.jsxs)("div",{className:"max-w-5xl mx-auto px-4 py-2.5",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(z.A,{className:"h-4 w-4 text-primary"}),(0,s.jsx)("span",{className:"absolute -top-1 -right-1 h-3 w-3 bg-primary rounded-full flex items-center justify-center text-[8px] text-primary-foreground font-bold",children:a.length})]}),(0,s.jsxs)("span",{className:"text-sm font-medium",children:[a.length," pending approval",1!==a.length?"s":""]}),p>0&&(0,s.jsxs)(T.E,{variant:"outline",className:"text-[10px] bg-red-500/10 text-red-600 border-red-500/20",children:[(0,s.jsx)(ea.A,{className:"h-2.5 w-2.5 mr-1"}),p," high risk"]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[a.length>1&&(0,s.jsxs)(h.$,{size:"sm",variant:"outline",className:"h-7 text-xs",onClick:x,children:[(0,s.jsx)(er.A,{className:"h-3 w-3 mr-1"}),"Approve All"]}),a.length>2&&(0,s.jsx)("button",{onClick:()=>i(!o),className:"text-xs text-muted-foreground hover:text-foreground flex items-center gap-1",children:o?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(el.A,{className:"h-3 w-3"}),"Collapse"]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(eo.A,{className:"h-3 w-3"}),"+",a.length-2," more"]})}),(0,s.jsx)("button",{onClick:()=>c(!0),className:"text-muted-foreground hover:text-foreground p-1 rounded",title:"Dismiss",children:(0,s.jsx)(H.A,{className:"h-3.5 w-3.5"})})]})]}),(0,s.jsx)("div",{className:"space-y-1.5",children:f.map(e=>(0,s.jsx)(ed,{approval:e,onApprove:m,onDeny:u},e.id))})]})})}function em(e){let{children:t}=e,n=(0,o.useRouter)(),a=(0,d.n)(e=>e.setCommandPaletteOpen),l=(0,d.n)(e=>e.toggleSidebar);(0,r.useEffect)(()=>{let e=[{key:"1",meta:!0,action:()=>n.push("/dashboard"),description:"Go to Dashboard"},{key:"2",meta:!0,action:()=>n.push("/agents"),description:"Go to Agents"},{key:"3",meta:!0,action:()=>n.push("/chat"),description:"Go to Chat"},{key:"4",meta:!0,action:()=>n.push("/cron"),description:"Go to Automations"},{key:"5",meta:!0,action:()=>n.push("/skills"),description:"Go to Skills"},{key:"6",meta:!0,action:()=>n.push("/settings"),description:"Go to Settings"},{key:"b",meta:!0,action:l,description:"Toggle sidebar"},{key:"n",meta:!0,shift:!0,action:()=>n.push("/agents/new"),description:"New agent"}],t=t=>{let n=t.target;if("INPUT"!==n.tagName&&"TEXTAREA"!==n.tagName&&!n.isContentEditable)for(let n of e){let e=n.meta?t.metaKey||t.ctrlKey:!t.metaKey&&!t.ctrlKey,s=n.shift?t.shiftKey:!t.shiftKey;if(t.key===n.key&&e&&s){t.preventDefault(),n.action();return}}};return document.addEventListener("keydown",t),()=>document.removeEventListener("keydown",t)},[n,a,l]);let[i,c]=r.useState(!1);return(0,s.jsxs)("div",{className:"flex h-screen overflow-hidden",children:[(0,s.jsx)("div",{className:"hidden lg:flex",children:(0,s.jsx)(L,{})}),(0,s.jsxs)("div",{className:"flex flex-1 flex-col overflow-hidden",children:[(0,s.jsx)(F,{}),(0,s.jsx)(ec,{}),(0,s.jsx)("main",{className:"flex-1 overflow-auto pb-16 lg:pb-0",children:t})]}),(0,s.jsx)(Z,{}),(0,s.jsx)(Q,{}),(0,s.jsx)(W,{}),(0,s.jsx)(en,{open:i,onOpenChange:c})]})}},75968:(e,t,n)=>{"use strict";n.d(t,{E:()=>o});var s=n(80534);n(74166);var r=n(71712),a=n(32824);let l=(0,r.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground",success:"border-transparent bg-success text-white",warning:"border-transparent bg-warning text-white",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function o(e){let{className:t,variant:n,...r}=e;return(0,s.jsx)("div",{className:(0,a.cn)(l({variant:n}),t),...r})}},86719:(e,t,n)=>{"use strict";n.d(t,{$:()=>d});var s=n(80534),r=n(74166),a=n(25588),l=n(71712),o=n(32824);let i=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-lg text-sm font-medium transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 cursor-pointer",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-sm hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-lg px-8",xl:"h-12 rounded-xl px-10 text-base",icon:"h-9 w-9","icon-sm":"h-8 w-8"}},defaultVariants:{variant:"default",size:"default"}}),d=r.forwardRef((e,t)=>{let{className:n,variant:r,size:l,asChild:d=!1,...c}=e,m=d?a.DX:"button";return(0,s.jsx)(m,{className:(0,o.cn)(i({variant:r,size:l,className:n})),ref:t,...c})});d.displayName="Button"}},e=>{e.O(0,[329,470,787,261,705,522,358],()=>e(e.s=3601)),_N_E=e.O()}]);